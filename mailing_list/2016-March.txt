From james-witt at cox.net  Tue Mar  1 00:33:33 2016
From: james-witt at cox.net (JWW)
Date: Mon, 29 Feb 2016 22:33:33 -0700 (MST)
Subject: [OpenSCAD] Line up pin missing on mold
In-Reply-To: <1456728525432-16262.post@n5.nabble.com>
References: <1456728525432-16262.post@n5.nabble.com>
Message-ID: <1456810413518-16267.post@n5.nabble.com>

Thanks very much for the quick responses, it's appreciated. Can't believe I
couldn't figure this out but the model indeed was the culprit. I ran it
through netfabb but I then forgot to run it back through Meshlab and
MeshMixer which did the trick. <duh>

 



--
View this message in context: http://forum.openscad.org/Line-up-pin-missing-on-mold-tp16262p16267.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From contact at maeln.com  Wed Mar  2 03:29:09 2016
From: contact at maeln.com (=?UTF-8?Q?Ma=C3=ABl_Naccache?=)
Date: Wed, 02 Mar 2016 09:29:09 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a lot
	of objects.
Message-ID: <0b52359336c178721077d3e831e9563c@maeln.com>

Hello !

In a software I'm developping, I'm trying to use OpenSCAD to generate a 
3D model of one of the parts that the software is computing.

The thing I'm trying to make is usually a big cylinder with a lot of 
holes in it (can range from around a hundred holes to a few thousand).

So naively, I did the following to generate it :
  - 1 : draw the "big" cylinder.
  - 2 : draw every hole has a tiny cylinder with the same height has the 
big one.
  - 3 : Use difference() with the big cylinder and all the tiny cylinder.

So something like this in OpenSCAD (I've attached an exemple of what my 
software generate) :

difference() {
     cylinder(1.000000,400.000000,400.000000,true);
     union() {
         translate([0.000000,0.000000,0.000000]) { 
cylinder(1.000000,6.500000,6.500000,true); }
         translate([31.180000,0.000000,0.000000]) { 
cylinder(1.000000,6.500000,6.500000,true); }
         translate([-31.180000,0.000000,0.000000]) { 
cylinde(1.000000,6.500000,6.500000,true); }
         translate([62.350000,0.000000,0.000000]) { 
cylinder(1.000000,6.500000,6.500000,true); }
.......
     }
}

My problem is that, even though the preview works great, when trying to 
render the mesh, it can take around half an hour to an hour and a half 
to complete, even with a fairly powerful PC and with the last version of 
OpenSCAD (2016.01.27).
I tried to tweak around using $fn, $fa and $fs, but the rendering time 
is still very long.

So, I was wondering if my method was completly wrong or if there was any 
advice you could give me to lower the rendering time.

Faithfully yours,
-- 
Ma?l Naccache <contact at maeln.com>
Pr?sident de l'association Rally Point : rallypoint.fr
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: test2.scad
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160302/61320194/attachment.scad>

From nop.head at gmail.com  Wed Mar  2 05:08:52 2016
From: nop.head at gmail.com (nop head)
Date: Wed, 2 Mar 2016 10:08:52 +0000
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <0b52359336c178721077d3e831e9563c@maeln.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
Message-ID: <CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>

It will be much faster if you do it in 2D with circles and then
linear_extrude it to make the cylinder.


On 2 March 2016 at 08:29, Ma?l Naccache <contact at maeln.com> wrote:

> Hello !
>
> In a software I'm developping, I'm trying to use OpenSCAD to generate a 3D
> model of one of the parts that the software is computing.
>
> The thing I'm trying to make is usually a big cylinder with a lot of holes
> in it (can range from around a hundred holes to a few thousand).
>
> So naively, I did the following to generate it :
>  - 1 : draw the "big" cylinder.
>  - 2 : draw every hole has a tiny cylinder with the same height has the
> big one.
>  - 3 : Use difference() with the big cylinder and all the tiny cylinder.
>
> So something like this in OpenSCAD (I've attached an exemple of what my
> software generate) :
>
> difference() {
>     cylinder(1.000000,400.000000,400.000000,true);
>     union() {
>         translate([0.000000,0.000000,0.000000]) {
> cylinder(1.000000,6.500000,6.500000,true); }
>         translate([31.180000,0.000000,0.000000]) {
> cylinder(1.000000,6.500000,6.500000,true); }
>         translate([-31.180000,0.000000,0.000000]) {
> cylinde(1.000000,6.500000,6.500000,true); }
>         translate([62.350000,0.000000,0.000000]) {
> cylinder(1.000000,6.500000,6.500000,true); }
> .......
>     }
> }
>
> My problem is that, even though the preview works great, when trying to
> render the mesh, it can take around half an hour to an hour and a half to
> complete, even with a fairly powerful PC and with the last version of
> OpenSCAD (2016.01.27).
> I tried to tweak around using $fn, $fa and $fs, but the rendering time is
> still very long.
>
> So, I was wondering if my method was completly wrong or if there was any
> advice you could give me to lower the rendering time.
>
> Faithfully yours,
> --
> Ma?l Naccache <contact at maeln.com>
> Pr?sident de l'association Rally Point : rallypoint.fr
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160302/cf8ec785/attachment.html>

From rcmpersiano at gmail.com  Wed Mar  2 11:43:54 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Wed, 2 Mar 2016 13:43:54 -0300
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
Message-ID: <CA+i9EaCLd6a4FDimKuLiO1=WGaP8h78Y1u0PPZoP+ikMsQsCSg@mail.gmail.com>

In a few tests I tried, the rendering time is almost one third when the
hole cylinders have a height greater than the base one. Anyway, avoiding
coincident faces in CSG operations is a good practice.

2016-03-02 7:08 GMT-03:00 nop head <nop.head at gmail.com>:

> It will be much faster if you do it in 2D with circles and then
> linear_extrude it to make the cylinder.
>
>
> On 2 March 2016 at 08:29, Ma?l Naccache <contact at maeln.com> wrote:
>
>> Hello !
>>
>> In a software I'm developping, I'm trying to use OpenSCAD to generate a
>> 3D model of one of the parts that the software is computing.
>>
>> The thing I'm trying to make is usually a big cylinder with a lot of
>> holes in it (can range from around a hundred holes to a few thousand).
>>
>> So naively, I did the following to generate it :
>>  - 1 : draw the "big" cylinder.
>>  - 2 : draw every hole has a tiny cylinder with the same height has the
>> big one.
>>  - 3 : Use difference() with the big cylinder and all the tiny cylinder.
>>
>> So something like this in OpenSCAD (I've attached an exemple of what my
>> software generate) :
>>
>> difference() {
>>     cylinder(1.000000,400.000000,400.000000,true);
>>     union() {
>>         translate([0.000000,0.000000,0.000000]) {
>> cylinder(1.000000,6.500000,6.500000,true); }
>>         translate([31.180000,0.000000,0.000000]) {
>> cylinder(1.000000,6.500000,6.500000,true); }
>>         translate([-31.180000,0.000000,0.000000]) {
>> cylinde(1.000000,6.500000,6.500000,true); }
>>         translate([62.350000,0.000000,0.000000]) {
>> cylinder(1.000000,6.500000,6.500000,true); }
>> .......
>>     }
>> }
>>
>> My problem is that, even though the preview works great, when trying to
>> render the mesh, it can take around half an hour to an hour and a half to
>> complete, even with a fairly powerful PC and with the last version of
>> OpenSCAD (2016.01.27).
>> I tried to tweak around using $fn, $fa and $fs, but the rendering time is
>> still very long.
>>
>> So, I was wondering if my method was completly wrong or if there was any
>> advice you could give me to lower the rendering time.
>>
>> Faithfully yours,
>> --
>> Ma?l Naccache <contact at maeln.com>
>> Pr?sident de l'association Rally Point : rallypoint.fr
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160302/874b3260/attachment.html>

From jpmendes54 at gmail.com  Wed Mar  2 20:13:30 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 2 Mar 2016 18:13:30 -0700 (MST)
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <CA+i9EaCLd6a4FDimKuLiO1=WGaP8h78Y1u0PPZoP+ikMsQsCSg@mail.gmail.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<CA+i9EaCLd6a4FDimKuLiO1=WGaP8h78Y1u0PPZoP+ikMsQsCSg@mail.gmail.com>
Message-ID: <1456967610444-16271.post@n5.nabble.com>

Hello,

You may try something like this:

//parametric code

DefaultSides=16;
nLines=10;
nCols=50;
hPitch=10;
vPitch=10;
Dout=6;
Din=0;
Sides=24;
cHeight=1;
tHeight=cHeight+2;
Angl=360;
cRad = (nLines <= nCols)? (nCols*hPitch+4*hPitch)/2 :
(nLines*vPitch+4*vPitch)/2;

module Tube(Length,Dout,Din,Sides,Angl)  // render(convexity=4) 
{			
  NSides= (Sides < 3 || Sides==undef)  ?  DefaultSides : Sides;
  rotate_extrude( angle=Angl, convexity=4, $fn=NSides ) 
    translate([Din/2,0,0]) 
      square([(Dout-Din)/2,Length]); 
}

module MultiTubes()
{
  for (i=[0:nLines-1]){ 
    for (j=[0:nCols-1]){
	shift=ceil(j/2)-floor(j/2);
	translate([j*hPitch,i*vPitch+shift*(hPitch/2),cHeight/2-1])
Tube(tHeight,Dout,Din,Sides,Angl);
    }
  }
}

//MultiTubes();

module PerfuratedCylinder() render(convexity=10)
{
  difference(){
    translate([(nCols-1)*hPitch/2,(nLines-1)*vPitch/2, cHeight/2])
cylinder(h=cHeight, r=cRad, $fn=48);
    MultiTubes();
  }
}
PerfuratedCylinder();

//end code

Cheers
jpmendes



--
View this message in context: http://forum.openscad.org/Long-rendering-time-when-using-difference-with-a-lot-of-objects-tp16268p16271.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From contact at maeln.com  Thu Mar  3 02:45:24 2016
From: contact at maeln.com (=?UTF-8?Q?Ma=C3=ABl_Naccache?=)
Date: Thu, 03 Mar 2016 08:45:24 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
Message-ID: <8463f28714aed6e858f443b7f8088681@maeln.com>

Le 2016-03-02 11:08, nop head a ?crit :
> It will be much faster if you do it in 2D with circles and then
> linear_extrude it to make the cylinder.

I tried your solution. Using circle make it way faster, but when I do 
the linear_extrude,
it take nearly the same amount of time has my previous method :/ .

Le 2016-03-02 17:43, Ronaldo Persiano a ?crit :
> In a few tests I tried, the rendering time is almost one third when
> the hole cylinders have a height greater than the base one. Anyway,
> avoiding coincident faces in CSG operations is a good practice.

Thanks for the tips :) !

Le 2016-03-03 02:13, jpmendes a ?crit :
> Hello,
> 
> You may try something like this:
> 
> //parametric code
> 
> DefaultSides=16;
> nLines=10;
> nCols=50;
> hPitch=10;
> vPitch=10;
> Dout=6;
> Din=0;
> Sides=24;
> cHeight=1;
> tHeight=cHeight+2;
> Angl=360;
> cRad = (nLines <= nCols)? (nCols*hPitch+4*hPitch)/2 :
> (nLines*vPitch+4*vPitch)/2;
> 
> module Tube(Length,Dout,Din,Sides,Angl)  // render(convexity=4)
> {
>   NSides= (Sides < 3 || Sides==undef)  ?  DefaultSides : Sides;
>   rotate_extrude( angle=Angl, convexity=4, $fn=NSides )
>     translate([Din/2,0,0])
>       square([(Dout-Din)/2,Length]);
> }
> 
> module MultiTubes()
> {
>   for (i=[0:nLines-1]){
>     for (j=[0:nCols-1]){
> 	shift=ceil(j/2)-floor(j/2);
> 	translate([j*hPitch,i*vPitch+shift*(hPitch/2),cHeight/2-1])
> Tube(tHeight,Dout,Din,Sides,Angl);
>     }
>   }
> }
> 
> //MultiTubes();
> 
> module PerfuratedCylinder() render(convexity=10)
> {
>   difference(){
>     translate([(nCols-1)*hPitch/2,(nLines-1)*vPitch/2, cHeight/2])
> cylinder(h=cHeight, r=cRad, $fn=48);
>     MultiTubes();
>   }
> }
> PerfuratedCylinder();
> 
> //end code
> 
> Cheers
> jpmendes

Thanks, I will try it.
-- 
Ma?l Naccache <contact at maeln.com>
Pr?sident de l'association Rally Point : rallypoint.fr


From arnholm at arnholm.org  Thu Mar  3 05:05:58 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Thu, 03 Mar 2016 11:05:58 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <8463f28714aed6e858f443b7f8088681@maeln.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
Message-ID: <b701b85862a93bd3f846aa908638c305@arnholm.org>

On 2016-03-03 08:45, Ma?l Naccache wrote:
> Using circle make it way faster, but when I do
> the linear_extrude,
> it take nearly the same amount of time has my previous method :/ .

Do you have a more complete example of your code that takes a long time? 
I may want to experiment. Is it just a question of subtracting a lot of 
small cylinders from a large one?

Carsten Arnholm


From contact at maeln.com  Thu Mar  3 05:39:11 2016
From: contact at maeln.com (=?UTF-8?Q?Ma=C3=ABl_Naccache?=)
Date: Thu, 03 Mar 2016 11:39:11 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <b701b85862a93bd3f846aa908638c305@arnholm.org>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
Message-ID: <c9658d4ec15de37461e461b26c56ea07@maeln.com>

Le 2016-03-03 11:05, arnholm at arnholm.org a ?crit?:
> Do you have a more complete example of your code that takes a long
> time? I may want to experiment. Is it just a question of subtracting a
> lot of small cylinders from a large one?
> 
> Carsten Arnholm

I've attached two exemple that takes a long time to render.
The first one (circle_extrude1.scad) use nophead idea (circles then 
lines_extrude),
the second one (cylinder_higher1.scad) use Ronaldo tip (the cylinder for 
the hole have a height superior to the main cylinder).

Yep, that's just it, I want to substract a lot of small cylinders (who 
share the same size) from a big one.
-- 
Ma?l Naccache <contact at maeln.com>
Pr?sident de l'association Rally Point : rallypoint.fr
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: circle_extrude1.scad
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/a20ccf18/attachment.scad>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: cylinder_higher1.scad
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/a20ccf18/attachment-0001.scad>

From arnholm at arnholm.org  Thu Mar  3 08:00:14 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Thu, 03 Mar 2016 14:00:14 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <c9658d4ec15de37461e461b26c56ea07@maeln.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
Message-ID: <4f51247bb2051cf2a212f9446823455c@arnholm.org>

On 2016-03-03 11:39, Ma?l Naccache wrote:
> I've attached two exemple that takes a long time to render.

Thanks. However, it seems your attachments didn't make it through (or 
there is something wrong with my mail reader).

> Yep, that's just it, I want to substract a lot of small cylinders (who
> share the same size) from a big one.

Ok, that's easy enough to simulate directly, i will give it a go.

Regards
Carsten Arnholm


From nop.head at gmail.com  Thu Mar  3 08:24:51 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 3 Mar 2016 13:24:51 +0000
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <4f51247bb2051cf2a212f9446823455c@arnholm.org>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
Message-ID: <CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>

I found circle_extrude1.scad to be instantaneous for F6 in
OpenScad2015.05.16 (git e673fff) .

Total rendering time: 0 hours, 0 minutes, 0 seconds

Top level object is a 3D object:

Facets: 59016


The reason is it doesn't use GCAL for 2D or linear extrude.



?

Are you using an old version of OpenScad? It used to use GCAL for 2D.





On 3 March 2016 at 13:00, <arnholm at arnholm.org> wrote:

> On 2016-03-03 11:39, Ma?l Naccache wrote:
>
>> I've attached two exemple that takes a long time to render.
>>
>
> Thanks. However, it seems your attachments didn't make it through (or
> there is something wrong with my mail reader).
>
> Yep, that's just it, I want to substract a lot of small cylinders (who
>> share the same size) from a big one.
>>
>
> Ok, that's easy enough to simulate directly, i will give it a go.
>
> Regards
>
> Carsten Arnholm
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/0c412b60/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: circles.png
Type: image/png
Size: 31786 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/0c412b60/attachment.png>

From contact at maeln.com  Thu Mar  3 09:08:29 2016
From: contact at maeln.com (=?UTF-8?Q?Ma=C3=ABl_Naccache?=)
Date: Thu, 03 Mar 2016 15:08:29 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
Message-ID: <4751f4cef861c32b665fc9f2915f5205@maeln.com>

Le 2016-03-03 14:00, arnholm at arnholm.org a ?crit :
> On 2016-03-03 11:39, Ma?l Naccache wrote:
>> I've attached two exemple that takes a long time to render.
> 
> Thanks. However, it seems your attachments didn't make it through (or
> there is something wrong with my mail reader).

Everything seems ok on my side, but I've pasted them just in case :
http://paste.ubuntu.com/15273519/ - circle_extrude1.scad.
http://paste.ubuntu.com/15273525/ - cylinder_higher1.scad.

Le 2016-03-03 14:24, nop head a ?crit :
> I found circle_extrude1.scad to be instantaneous for F6 in
> OpenScad2015.05.16 (git e673fff) .
> 
> Total rendering time: 0 hours, 0 minutes, 0 seconds
> 
>  Top level object is a 3D object:
> 
>  Facets: 59016
> 
> The reason is it doesn't use GCAL for 2D or linear extrude.
> 
> ?
> 
> Are you using an old version of OpenScad? It used to use GCAL for 2D.

Oops, sorry, forgot to mention that I do most of my test on the version 
2014.03 (I only have access to this version at work, but I can probably 
update it), when I get back home, I will try your solution. Thanks :) !
-- 
Ma?l Naccache <contact at maeln.com>
Pr?sident de l'association Rally Point : rallypoint.fr


From jpmendes54 at gmail.com  Thu Mar  3 14:23:05 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 3 Mar 2016 12:23:05 -0700 (MST)
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <4751f4cef861c32b665fc9f2915f5205@maeln.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<4751f4cef861c32b665fc9f2915f5205@maeln.com>
Message-ID: <1457032985924-16278.post@n5.nabble.com>

Hey,

for 500 holes my code took 8:45 min to render in a dual core old machine.
I know your process is based on previous calculations possible by another
program and maybe your approach should be different than mine. Nevertheless
half an hour vs. 8:45 is a significant improvement.
 
<http://forum.openscad.org/file/n16278/perforated_cylinder.jpg> 

Cheers,
jpmendes



--
View this message in context: http://forum.openscad.org/Long-rendering-time-when-using-difference-with-a-lot-of-objects-tp16268p16278.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From peterlundh at me.com  Thu Mar  3 16:14:26 2016
From: peterlundh at me.com (plundh)
Date: Thu, 3 Mar 2016 14:14:26 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
Message-ID: <1457039666703-16279.post@n5.nabble.com>

Hi all-

This is my first post: I have read a lot about a new amazing AutoCAD product
called 'Within' <http://goo.gl/RheCg7> that allows users to import STL
designs and optimize internal lattices and skins for lightweighting,
stiffness or flexibility. However, the software is so expensive you can't
even buy it! I would like to know if OpenSCAD has similar features, or if
anyone can recommend other software packages that does the same thing but
are more realistically priced.

Many thanks in advance.

-Peter
London UK



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Thu Mar  3 15:03:54 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Thu, 3 Mar 2016 21:03:54 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <4751f4cef861c32b665fc9f2915f5205@maeln.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<4751f4cef861c32b665fc9f2915f5205@maeln.com>
Message-ID: <56D898AA.9050405@arnholm.org>

On 03. mars 2016 15:08, Ma?l Naccache wrote:
> Le 2016-03-03 14:00, arnholm at arnholm.org a ?crit :
>> On 2016-03-03 11:39, Ma?l Naccache wrote:
>>> I've attached two exemple that takes a long time to render.
>>
>> Thanks. However, it seems your attachments didn't make it through (or
>> there is something wrong with my mail reader).
>
> Everything seems ok on my side, but I've pasted them just in case :
> http://paste.ubuntu.com/15273519/ - circle_extrude1.scad.
> http://paste.ubuntu.com/15273525/ - cylinder_higher1.scad.

Thank you, it was my web mail reader that messed it up. I could see the 
original attachments just fine when using Thunderbird.

I have done the experiments mentioned now, some relevant files are 
attached in the .7z file:

cylinder_higher1.scad : Your original .scad file
mael_cylinder.as : Your file translated to AngelScript CSG
mael_cylinder_CARVE.csg : OpenSCAD .csg file produced, see below
mael_cylinder_CGAL.csg  : OpenSCAD .csg file produced, see below

I am using OpenSCAD 2015.03-2 in these tests, all running on a Windows 7 
desktop, approx 5 years old.

TEST A: Your cylinder_higher1.scad displayed with F6. It took just over 
13.5 minutes and the final result was somewhat imprecise, i.e. the large 
cylinder had visible linear segments.

cylinder_higher1.scad
    -> OpenSCAD (F6)   (~13.5 minutes)
       (large cylinder imprecise)

TEST B1: Your original .scad file translated into AngelScript CSG and an 
OpenSCAD .csg file was produced from it. Slight editing of the file 
($fs=1.0 globally and $fn=360 for the big cylinder) made the resolution 
better than the original in TEST A. Displaying this file with OpenSCAD 
F6 took 14 minutes.

mael_cylinder.as
    -> AngelScript CSG (~7 sec)
    -> mael_cylinder_CGAL.csg
    -> OpenSCAD (F6)   (~14 minutes)
	
TEST B2: Here an experimental feature is tested, starting from the same 
AngelScript CSG file as in test B1. An experimental file format (.xcsg) 
is produced and further processed by a program called xcsg, xcsg 
processing is based on the CARVE library to do boolean operations. xcsg 
will be released on GitHub when ready. Processing the data with 
xcsg/carve took 5 minutes and used no more than 200MB ram. The result 
was written to an OpenSCAD .csg file as a complex polyhedron, see the 
attached file.
	
mael_cylinder.as
    -> AngelScript CSG (~7 sec)
    -> mael_cylinder.xcsg      (experimental)
    -> xcsg (CARVE)    (5 min) (experimental)
    -> mael_cylinder_CARVE.csg (polyhedron result)
    -> OpenSCAD (F6)   (10 sec)
					
The resolution of the B2 result is largely comparable to B1, so these 
results can offer at least a rough indication of how CARVE compares to 
CGAL wrt. speed and memory requirements. By reducing the resolution 
somewhat, the xcsg/carve processing time is further reduced significantly.

Carsten Arnholm


					
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mael_cylinder.7z
Type: application/x-7z-compressed
Size: 388003 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/671be054/attachment.7z>

From mschafer at wireframe.biz  Thu Mar  3 16:40:08 2016
From: mschafer at wireframe.biz (Neon22)
Date: Thu, 3 Mar 2016 14:40:08 -0700 (MST)
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
Message-ID: <1457041208735-16281.post@n5.nabble.com>

The offical release is 2015.03-2 on Windows.
Is it time for a new release for 2015.05.16 ?

8hours vs 0 seconds seems like maybe it might be ??

http://www.openscad.org/downloads.html



--
View this message in context: http://forum.openscad.org/Long-rendering-time-when-using-difference-with-a-lot-of-objects-tp16268p16281.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Thu Mar  3 17:01:13 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Thu, 3 Mar 2016 23:01:13 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <1457041208735-16281.post@n5.nabble.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<1457041208735-16281.post@n5.nabble.com>
Message-ID: <56D8B429.2050607@gmx.de>

On 03/03/2016 10:40 PM, Neon22 wrote:
> The offical release is 2015.03-2 on Windows.
> Is it time for a new release for 2015.05.16 ?
> 
> 8hours vs 0 seconds seems like maybe it might be ??
> 
Where's that calculation coming from?

The 2015.03-2 patch release is from November 2015

Both that version and the nightly build need 0 seconds
for the 2D + linear-extrude example posted (the file
named circle_extrude1.scad).

A new release would be nice, but there's no chance to be
faster than 0 seconds ;-).

ciao,
  Torsten.



From nop.head at gmail.com  Thu Mar  3 17:22:38 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 3 Mar 2016 22:22:38 +0000
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <56D8B429.2050607@gmx.de>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<1457041208735-16281.post@n5.nabble.com> <56D8B429.2050607@gmx.de>
Message-ID: <CAEEmnrPHYXkgeBKN67xr3KoruAG8z-mxMv_SUojzJBfyWGeQKA@mail.gmail.com>

How does that compare with 2015.05.16 (git e673fff) that I am using?

On 3 March 2016 at 22:01, Torsten Paul <Torsten.Paul at gmx.de> wrote:

> On 03/03/2016 10:40 PM, Neon22 wrote:
> > The offical release is 2015.03-2 on Windows.
> > Is it time for a new release for 2015.05.16 ?
> >
> > 8hours vs 0 seconds seems like maybe it might be ??
> >
> Where's that calculation coming from?
>
> The 2015.03-2 patch release is from November 2015
>
> Both that version and the nightly build need 0 seconds
> for the 2D + linear-extrude example posted (the file
> named circle_extrude1.scad).
>
> A new release would be nice, but there's no chance to be
> faster than 0 seconds ;-).
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/dcc9f29e/attachment.html>

From Torsten.Paul at gmx.de  Thu Mar  3 17:38:31 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Thu, 3 Mar 2016 23:38:31 +0100
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <CAEEmnrPHYXkgeBKN67xr3KoruAG8z-mxMv_SUojzJBfyWGeQKA@mail.gmail.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<1457041208735-16281.post@n5.nabble.com> <56D8B429.2050607@gmx.de>
	<CAEEmnrPHYXkgeBKN67xr3KoruAG8z-mxMv_SUojzJBfyWGeQKA@mail.gmail.com>
Message-ID: <56D8BCE7.4010409@gmx.de>

On 03/03/2016 11:22 PM, nop head wrote:
> How does that compare with 2015.05.16 (git e673fff) that I am using?
>
The most critical stuff was some crash fixes, I think.

List of changes should be:
https://github.com/openscad/openscad/compare/master@%7B2015-05-16%7D...openscad-2015.03-2

So if you get crashes with some model, try the release version,
otherwise it probably will not make much difference.

ciao,
  Torsten.




From doug at moens.org  Thu Mar  3 19:40:36 2016
From: doug at moens.org (doug moen)
Date: Thu, 3 Mar 2016 19:40:36 -0500
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457039666703-16279.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
Message-ID: <CAGV6i+Mu53KpLpK8ZT2X25QXf10KQ7vV_FUaXzJk8_JFyn5dsQ@mail.gmail.com>

You could certainly construct those kinds of truss networks in OpenSCAD. A
support library would make it a lot easier, but I don't know what's
available. The specialised GUI and design simulator is not the kind of
thing that OpenSCAD supports.

On Thursday, 3 March 2016, plundh <peterlundh at me.com> wrote:

> Hi all-
>
> This is my first post: I have read a lot about a new amazing AutoCAD
> product
> called 'Within' <http://goo.gl/RheCg7> that allows users to import STL
> designs and optimize internal lattices and skins for lightweighting,
> stiffness or flexibility. However, the software is so expensive you can't
> even buy it! I would like to know if OpenSCAD has similar features, or if
> anyone can recommend other software packages that does the same thing but
> are more realistically priced.
>
> Many thanks in advance.
>
> -Peter
> London UK
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org <javascript:;>
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160303/376b97a6/attachment.html>

From stonysmith at gmail.com  Thu Mar  3 21:12:20 2016
From: stonysmith at gmail.com (stonysmith)
Date: Thu, 3 Mar 2016 19:12:20 -0700 (MST)
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <1457048752639-16285.post@n5.nabble.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<1457048752639-16285.post@n5.nabble.com>
Message-ID: <1457057540771-16287.post@n5.nabble.com>

I know this is off-topic for the "speed" issue, but I wanted to offer a
simpler way to generate the holes.

They're not hex-aligned like the examples above, but it still looks cool.

module PAT(){
outer_D=400.0;
inner_D=6.5;
offset=2.5;// adjust for space between rings
theta=6; // adjust for space between holes around rings
linear_extrude(50.0) 
difference() { circle(outer_D,center=true,$fn=512);
union() { 
circle(inner_D,center=true);
for (j=[1:floor(outer_D/(inner_D*offset))])
  for (i=[1:theta*j]) rotate([0,0,360/(theta*j)*i])
    translate([inner_D*offset*j,0.0,0.0])
    circle(inner_D,center=true); 
}}

}
$fa = 12;
$fs = 1;
PAT();




--
View this message in context: http://forum.openscad.org/Long-rendering-time-when-using-difference-with-a-lot-of-objects-tp16268p16287.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Thu Mar  3 22:18:08 2016
From: mschafer at wireframe.biz (Neon22)
Date: Thu, 3 Mar 2016 20:18:08 -0700 (MST)
Subject: [OpenSCAD] Long rendering time when using difference() with a
 lot of objects.
In-Reply-To: <1457057540771-16287.post@n5.nabble.com>
References: <0b52359336c178721077d3e831e9563c@maeln.com>
	<CAEEmnrPc1PLbc6MkDB=QR-1KtySkF4W-SZvnBb2w2GtL=OY_0w@mail.gmail.com>
	<8463f28714aed6e858f443b7f8088681@maeln.com>
	<b701b85862a93bd3f846aa908638c305@arnholm.org>
	<c9658d4ec15de37461e461b26c56ea07@maeln.com>
	<4f51247bb2051cf2a212f9446823455c@arnholm.org>
	<CAEEmnrNiU1amftf376v3wO1Mr696O5kTS-=KfGkLWT9gyER_Ww@mail.gmail.com>
	<1457048752639-16285.post@n5.nabble.com>
	<1457057540771-16287.post@n5.nabble.com>
Message-ID: <1457061488184-16288.post@n5.nabble.com>

or go for honeycombs:

module PAT()  {
	outer_D = 400.0;
	inner_D = 6.5;
	height  = 50;
	offset = 2;    // adjust for space between rings
	theta = 6;       // adjust for space between holes around rings
	linear_extrude(h=height)
		// make it all in 2D and extrude the result
		difference() {
			// disk
			circle(outer_D,center=true,$fn=512);
			// holes
			union() {
				circle(inner_D, center=true);
				circle_count = floor(outer_D / (inner_D*offset));
				for (j = [1:circle_count])
					for (i = [1:theta*j])
						rotate([0,0,360/(theta*j)*i])
						translate([inner_D*offset*j,0,0])
							circle(inner_D, center=true);
			}
		}
}

// $fa = 12;
// $fs = 1;
$fn=6;
PAT();



--
View this message in context: http://forum.openscad.org/Long-rendering-time-when-using-difference-with-a-lot-of-objects-tp16268p16288.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Sat Mar  5 05:05:00 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 5 Mar 2016 03:05:00 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457039666703-16279.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
Message-ID: <1457172300385-16290.post@n5.nabble.com>

It looks quite easy to construct the lattice of "beams" in openSCAD and to
then difference() it with a skin model to get an interior support structure.
But no evaluation of the actual changes in strength or any FEM analysis is
available in openSCAD. You would have to do that elsewhere...

Have a go...



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16290.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Sat Mar  5 06:01:32 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 5 Mar 2016 04:01:32 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
Message-ID: <1457175692982-16291.post@n5.nabble.com>

I'm trying to convert some procedural spacecraft code and I've run into a
problem.

Here's an abstract:
Imagine you want to make a symmetrical object by:
 - making an asymmetrical one,
 - intersecting it with a cube (on one side of the origin) 
 - and then mirroring the result onto the other side.
 Result - symmetrical object.

like this maybe:

module m_mirror() {
	children(0);
	mirror([1,0,0])
		children(0);
}
module cut_in_half(size)  {
	intersection() {
		translate([0, -size/2.0, -size/2.0])
			cube(size=size, center=false);
		children(0);
	}
}

module randcyl() {
	// use of rands in here shows this object being called twice
	echo("randcyl called");
	rotate([rands(0,77,1)[0],45,0])
		cylinder(h=4, d = 2, center=true);
}

m_mirror() cut_in_half(100) randcyl();

which unfortunately (for me) reports the echo twice and gives us variations
that look like this:
<http://forum.openscad.org/file/n16291/n44sh.jpg> 

SO:
Even though it looks to me like randcyl() should be evaluated only once
(when children passed in) - its called twice.
You can skip the cut_in_half(100) and still get the same result.
 - in m_mirror() its used twice and is called twice.

This isn't a problem if there is no random value as the result will be the
same.
But I'm using a lot of random calls in the actual code this simple example
is derived from.

The only way I can see around it now is to pass in a seed and propogate it
through every function. But its a load of error prone(for me) work :)
 - Actually I'd need a long string of premade rands()  to cycle through and
remake from a master seed.

The code would look like this:

module m_mirror() {
	children(0);
	mirror([1,0,0])
		children(0);
}
module cut_in_half(size)  {
	intersection() {
		translate([0, -size/2.0, -size/2.0])
			cube(size=size, center=false);
		children(0);
	}
}

module randcyl(seed) {
	// use of rands in here shows this object being called twice
	echo("randcyl called");
	rotate([rands(0,77,1,seed)[0],45,0])
		cylinder(h=4, d = 2, center=true);
}
m_mirror() cut_in_half(100) randcyl(221);
<http://forum.openscad.org/file/n16291/5l5lz4.jpg> 
Can anyone see another way to cut and mirror an object but only invoke its
construcion once ?

Here's what I'm really up to:
<http://forum.openscad.org/file/n16291/99p4zm.jpg> 

Actually rendering it also recreates it. I need to find a good way to
control the seeds...



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Sat Mar  5 09:45:13 2016
From: nop.head at gmail.com (nop head)
Date: Sat, 5 Mar 2016 14:45:13 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457175692982-16291.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
Message-ID: <CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>

Interesting problem. If this issue gets fixed
https://github.com/openscad/openscad/issues/1594 then you could make the
random number a default parameter to randcyl.

In the meantime you could set a global variable with rand and pass it to
randcyl() or just reference it in randcyl().

F5 doesn't work with this code on my system. It shows only half of the
result and when I rotate it flips to the other half.



On 5 March 2016 at 11:01, Neon22 <mschafer at wireframe.biz> wrote:

> I'm trying to convert some procedural spacecraft code and I've run into a
> problem.
>
> Here's an abstract:
> Imagine you want to make a symmetrical object by:
>  - making an asymmetrical one,
>  - intersecting it with a cube (on one side of the origin)
>  - and then mirroring the result onto the other side.
>  Result - symmetrical object.
>
> like this maybe:
>
> module m_mirror() {
>         children(0);
>         mirror([1,0,0])
>                 children(0);
> }
> module cut_in_half(size)  {
>         intersection() {
>                 translate([0, -size/2.0, -size/2.0])
>                         cube(size=size, center=false);
>                 children(0);
>         }
> }
>
> module randcyl() {
>         // use of rands in here shows this object being called twice
>         echo("randcyl called");
>         rotate([rands(0,77,1)[0],45,0])
>                 cylinder(h=4, d = 2, center=true);
> }
>
> m_mirror() cut_in_half(100) randcyl();
>
> which unfortunately (for me) reports the echo twice and gives us variations
> that look like this:
> <http://forum.openscad.org/file/n16291/n44sh.jpg>
>
> SO:
> Even though it looks to me like randcyl() should be evaluated only once
> (when children passed in) - its called twice.
> You can skip the cut_in_half(100) and still get the same result.
>  - in m_mirror() its used twice and is called twice.
>
> This isn't a problem if there is no random value as the result will be the
> same.
> But I'm using a lot of random calls in the actual code this simple example
> is derived from.
>
> The only way I can see around it now is to pass in a seed and propogate it
> through every function. But its a load of error prone(for me) work :)
>  - Actually I'd need a long string of premade rands()  to cycle through and
> remake from a master seed.
>
> The code would look like this:
>
> module m_mirror() {
>         children(0);
>         mirror([1,0,0])
>                 children(0);
> }
> module cut_in_half(size)  {
>         intersection() {
>                 translate([0, -size/2.0, -size/2.0])
>                         cube(size=size, center=false);
>                 children(0);
>         }
> }
>
> module randcyl(seed) {
>         // use of rands in here shows this object being called twice
>         echo("randcyl called");
>         rotate([rands(0,77,1,seed)[0],45,0])
>                 cylinder(h=4, d = 2, center=true);
> }
> m_mirror() cut_in_half(100) randcyl(221);
> <http://forum.openscad.org/file/n16291/5l5lz4.jpg>
> Can anyone see another way to cut and mirror an object but only invoke its
> construcion once ?
>
> Here's what I'm really up to:
> <http://forum.openscad.org/file/n16291/99p4zm.jpg>
>
> Actually rendering it also recreates it. I need to find a good way to
> control the seeds...
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160305/da7f422e/attachment.html>

From peterlundh at me.com  Sat Mar  5 10:50:18 2016
From: peterlundh at me.com (plundh)
Date: Sat, 5 Mar 2016 08:50:18 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457172300385-16290.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457172300385-16290.post@n5.nabble.com>
Message-ID: <1457193018944-16293.post@n5.nabble.com>

Hi Doug+Neon-

Thanks much for replies. I'll start with a simple design of a table leg and
see how far I can optimise design with OpenSCAD.

Best.

-Peter



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16293.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From richard at digicalm.com  Sat Mar  5 12:39:11 2016
From: richard at digicalm.com (Lampbus)
Date: Sat, 5 Mar 2016 10:39:11 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457193018944-16293.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457172300385-16290.post@n5.nabble.com>
	<1457193018944-16293.post@n5.nabble.com>
Message-ID: <1457199551816-16294.post@n5.nabble.com>

FEA / FEM software will generally accept an STL. From here on in it gets more
complicated.

As an STL is just the outer skin, you need to generate a full internal mesh
too. 

I have used Z88 Aurora from http://en.z88.de/

This is from a German University, it is a bit flaky but I have carried out
some analysis on my own projects. It is Free !

As it is an educational tool, you do need to know a bit - particularly I
found that I had to set up the constraints carefully as there is no
hand-holding and you need to ensure the model will not eg rotate under
offset loads but is still free to deform.

I was using v2a, but I see that it is now up to version 3 - so I must
explore !







--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16294.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Sat Mar  5 13:09:20 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Sat, 5 Mar 2016 19:09:20 +0100
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457199551816-16294.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457172300385-16290.post@n5.nabble.com>
	<1457193018944-16293.post@n5.nabble.com>
	<1457199551816-16294.post@n5.nabble.com>
Message-ID: <56DB20D0.8020508@arnholm.org>

On 05. mars 2016 18:39, Lampbus wrote:
> FEA / FEM software will generally accept an STL. From here on in it gets more
> complicated.

I have worked with FEA/FEM software for 20+ years, including design & 
development of FEM software (SESAM). Our focus was not solid models so 
STL was never used. It is not true that "FEA / FEM software will 
generally accept an STL". I have seen many systems that do not.

I guess under special conditions one may imagine using STL as input, 
although it seems like a *very* odd format for that purpose. Which FEM 
software is accepting STL files in your experience?

> As an STL is just the outer skin, you need to generate a full internal mesh
> too.I have used Z88 Aurora from http://en.z88.de/

Indeed, the internal mesh is required. That example is quite 
interesting. Have you tried it in practice, i.e. meshing from STL to 
solid FEM?

> This is from a German University, it is a bit flaky but I have carried out
> some analysis on my own projects. It is Free !

Thanks for the tip, I may have a look at that.

Carsten Arnholm


From mschafer at wireframe.biz  Sat Mar  5 16:39:26 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 5 Mar 2016 14:39:26 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>
Message-ID: <1457213966108-16296.post@n5.nabble.com>

Thanks nophead.
I suspect what I'm really suggesting/asking is that children(0) would be
evaluated once and then that csg tree would be copied each time it was
referenced.

Ideally as both an efficiency improvement and to solve my specific rands()
problem.
Not sure what the approach is in openSCAD2 to this ?

As for me - looks like I need to make a long list of random numbers from a
seed (yay rands())
and then cycle through that list in my own random function which gets called
many times in many places.



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16296.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Sun Mar  6 00:30:08 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 5 Mar 2016 22:30:08 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457227206029-16297.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>
	<1457213966108-16296.post@n5.nabble.com>
	<1457227206029-16297.post@n5.nabble.com>
Message-ID: <1457242208644-16298.post@n5.nabble.com>

I can't work out how to do it.
I can premake a list of random numbers. E.g.

// sequence of float rands for when symmetry required
rand_seq_length = 300;  // make longer if run out.
seeds = rands(0, 65535, rand_seq_length, master_seed); 

but inside a random function I want to either step through using an index,
or consume the list by popping (for example).

but I can't work out how to alter another variable inside a function as a
side effect.

E.g.
seed_idx = 0;
function randff() = seeds[seed_idx]; // but autoincrement seed_idx each time
this functon is called.
// or
function randff() = [ some list decomation trick that modifies seeds ];

I suspect I'm thinking about the problem incorrectly :(



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16298.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Sun Mar  6 00:37:55 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 5 Mar 2016 22:37:55 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <56DB20D0.8020508@arnholm.org>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457172300385-16290.post@n5.nabble.com>
	<1457193018944-16293.post@n5.nabble.com>
	<1457199551816-16294.post@n5.nabble.com>
	<56DB20D0.8020508@arnholm.org>
Message-ID: <1457242675055-16299.post@n5.nabble.com>

I see a new one on thingiverse - perhaps use as a guide
http://www.thingiverse.com/thing:1394337



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16299.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Sun Mar  6 05:02:51 2016
From: nop.head at gmail.com (nop head)
Date: Sun, 6 Mar 2016 10:02:51 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457242208644-16298.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>
	<1457213966108-16296.post@n5.nabble.com>
	<1457227206029-16297.post@n5.nabble.com>
	<1457242208644-16298.post@n5.nabble.com>
Message-ID: <CAEEmnrN9tnDB_4p7QjMnJUofN+nKmAi-LVwUH9U2u0Qtgrj2Dw@mail.gmail.com>

I am not sure what your problem is exactly but if you want a number of
random decisions that don't vary during a run why can't you simply have a
global variable for each one? I.e. if you have lots of modules like
randcyl(), have a global variable for each one?


On 6 March 2016 at 05:30, Neon22 <mschafer at wireframe.biz> wrote:

> I can't work out how to do it.
> I can premake a list of random numbers. E.g.
>
> // sequence of float rands for when symmetry required
> rand_seq_length = 300;  // make longer if run out.
> seeds = rands(0, 65535, rand_seq_length, master_seed);
>
> but inside a random function I want to either step through using an index,
> or consume the list by popping (for example).
>
> but I can't work out how to alter another variable inside a function as a
> side effect.
>
> E.g.
> seed_idx = 0;
> function randff() = seeds[seed_idx]; // but autoincrement seed_idx each
> time
> this functon is called.
> // or
> function randff() = [ some list decomation trick that modifies seeds ];
>
> I suspect I'm thinking about the problem incorrectly :(
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16298.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/23639646/attachment.html>

From mschafer at wireframe.biz  Sun Mar  6 05:26:25 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sun, 6 Mar 2016 03:26:25 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAEEmnrN9tnDB_4p7QjMnJUofN+nKmAi-LVwUH9U2u0Qtgrj2Dw@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>
	<1457213966108-16296.post@n5.nabble.com>
	<1457227206029-16297.post@n5.nabble.com>
	<1457242208644-16298.post@n5.nabble.com>
	<CAEEmnrN9tnDB_4p7QjMnJUofN+nKmAi-LVwUH9U2u0Qtgrj2Dw@mail.gmail.com>
Message-ID: <1457259985185-16301.post@n5.nabble.com>

excellent question but my simplified example was just that. here's a bit of
code as an example.

module cylinder_protrusions(length, r1, r2, nprotrusions, seed=Gseed,
excess=1.5)  {
	if (verbose) {echo("cylinder_protusions");}
	intersection() {
		// cyl(length, r1 * excess, r2 * excess, true); 
		cylindrical_thing(length, r1 * excess, r2 * excess, seed);
		//
		union() {
			for (i = [0:nprotrusions]) {
				h = ((randn(80,seed) + 20) / 100.0) * length;
				z = -((length - h) / 2.0) * (randn(100,seed) / 100.0);
				x = min(r1, r2) * randf(0.2,seed); 
				angle = randf(360.0,seed);
				translate([0, 0, z])
				rotate([0, 0, angle])
					cube(size=[x, max(r1, r2) * 3, h], center=true);
			}
		}
	}
}

as you can see there are two integer random number requests and two floating
point ones.
There are hundreds of these so annotating every single one is going to be
hard. 
I'll do it - but I'm looking for a simpler way.

The current seed based mech is almost working and that's in the code above.
It uses two rand functions like this for now:

function randn(n, myseed=false) = floor(rands(0,n,1, (myseed) ? myseed :
rands(0,65535,1)[0])[0]);
function randf(n, myseed=false) = rands(0,n*1000,1, (myseed) ? myseed :
rands(0,65535,1)[0])[0] / 1000.0;

I'd rather remove the seed argument and handle it all in the rand function
itself.
The approach I'm using here is no good if you like a model and do an F6 - it
makes a completely diff model.
So I want to use a master_seed approach and the user can change this to
generate a new sequence of rands for use in the model construction...



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16301.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Sun Mar  6 06:09:01 2016
From: nop.head at gmail.com (nop head)
Date: Sun, 6 Mar 2016 11:09:01 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAEEmnrN9tnDB_4p7QjMnJUofN+nKmAi-LVwUH9U2u0Qtgrj2Dw@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<CAEEmnrOFirjW_ZBjXOoCB7kacubohheT22Qtgep4fkSCNn=hyA@mail.gmail.com>
	<1457213966108-16296.post@n5.nabble.com>
	<1457227206029-16297.post@n5.nabble.com>
	<1457242208644-16298.post@n5.nabble.com>
	<CAEEmnrN9tnDB_4p7QjMnJUofN+nKmAi-LVwUH9U2u0Qtgrj2Dw@mail.gmail.com>
Message-ID: <CAEEmnrN9+2minf4VzwEimav0EH0bK3bCb6gf9LffjUYVF243aw@mail.gmail.com>

Oddly this is an example where force Goldfeather makes F5 fail and turning
it off makes it work.

I have had it turned on for a long time now, I can't remember what didn't
work with it off.

On 6 March 2016 at 10:02, nop head <nop.head at gmail.com> wrote:

> I am not sure what your problem is exactly but if you want a number of
> random decisions that don't vary during a run why can't you simply have a
> global variable for each one? I.e. if you have lots of modules like
> randcyl(), have a global variable for each one?
>
>
> On 6 March 2016 at 05:30, Neon22 <mschafer at wireframe.biz> wrote:
>
>> I can't work out how to do it.
>> I can premake a list of random numbers. E.g.
>>
>> // sequence of float rands for when symmetry required
>> rand_seq_length = 300;  // make longer if run out.
>> seeds = rands(0, 65535, rand_seq_length, master_seed);
>>
>> but inside a random function I want to either step through using an index,
>> or consume the list by popping (for example).
>>
>> but I can't work out how to alter another variable inside a function as a
>> side effect.
>>
>> E.g.
>> seed_idx = 0;
>> function randff() = seeds[seed_idx]; // but autoincrement seed_idx each
>> time
>> this functon is called.
>> // or
>> function randff() = [ some list decomation trick that modifies seeds ];
>>
>> I suspect I'm thinking about the problem incorrectly :(
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16298.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/c8a09cd7/attachment.html>

From marius at kintel.net  Sun Mar  6 14:06:43 2016
From: marius at kintel.net (Marius Kintel)
Date: Sun, 6 Mar 2016 14:06:43 -0500
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457175692982-16291.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
Message-ID: <5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>

> On Mar 5, 2016, at 06:01 AM, Neon22 <mschafer at wireframe.biz> wrote:
> 
> Even though it looks to me like randcyl() should be evaluated only once
> (when children passed in) - its called twice.

From the top of my head, this sounds like a bug. I?ll have to look into it in more detail, and I?ve opened an issue for this: https://github.com/openscad/openscad/issues/1596

 -Marius



From rcmpersiano at gmail.com  Sun Mar  6 17:06:50 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Sun, 6 Mar 2016 19:06:50 -0300
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
Message-ID: <CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>

Neon22, I think you misunderstood the way rands operates with seeds. I had
the same misunderstanding the first time I tried to use it.

If you run the code:

echo(randn(n=1000, myseed=10));
echo(randn(n=1000, myseed=10));

the console will show two identical echos. That is: each time you run
rands(0,1,1, myseed)[0] you will receive the exact same number for each
myseed. The seed in rands is useful just in a random series of numbers: the
series will be the same for each seed.

So, to be useful, generate the entire random number series at once (or as
many series you need) and access a random number by the list indexing. If a
seed is provided in the series generation, it will be repeated in the next
run. Otherwise, a new random series will be generated.

2016-03-06 16:06 GMT-03:00 Marius Kintel <marius at kintel.net>:

> > On Mar 5, 2016, at 06:01 AM, Neon22 <mschafer at wireframe.biz> wrote:
> >
> > Even though it looks to me like randcyl() should be evaluated only once
> > (when children passed in) - its called twice.
>
> From the top of my head, this sounds like a bug. I?ll have to look into it
> in more detail, and I?ve opened an issue for this:
> https://github.com/openscad/openscad/issues/1596
>
>  -Marius
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/12b81910/attachment.html>

From mschafer at wireframe.biz  Sun Mar  6 18:08:59 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sun, 6 Mar 2016 16:08:59 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
Message-ID: <1457305739994-16306.post@n5.nabble.com>

Actually I'm counting on the rands being generated the same with the same
seed.
- This is standard behaviour for seeds and why they exist.

Once again - I am not showing ALL of the code just a snippet. If I post all
the code people wil get bored and not read it let alone understand all of
it.

The seed controlling mechanism dispayed in the second snippet is
specifically so I can override the default behaviour (new rand everytime) to
only get one value.
I use it to force symmetry in a model - see the very first post as to what
that's about.
However this "solution" is poor on many levels and NoGood.


What I need is:
- a function which consumes a value from a list of presupplied (global)
values. 
- One from list each time it is called.
E.g.
master_seed = 42;
seeds = rands(0, 65535, rand_seq_length, master_seed);
function rand(range) = ...;
- which returns the 'next' value from the list called seeds each time it is
called.


Does anyone know how to do this within a function or in any other way ??



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16306.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Sun Mar  6 18:47:59 2016
From: nop.head at gmail.com (nop head)
Date: Sun, 6 Mar 2016 23:47:59 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457305739994-16306.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
Message-ID: <CAEEmnrNu2F5yFuryFZXOoOF518oU0bWV3HMgM_s-fAs7gCCM-A@mail.gmail.com>

I don't believe you can define a function that returns different results
each time (other than with rands) as that would require it to hold some
mutable state that isn't allowed.

Really I don't think rand should be allowed in OpenScad. It should always
produce the same results each run.

Is the problem you have just with the m_mirror module or do you have other
cases where you need to repeat a call to rands? You could define $seed =
rands(...) in m_mirror() and then use $seed in the children to create
identical results. e.g.

module m_mirror() {
        $seed = rands(0,1000000,1)[0];
        children(0);
        mirror([1,0,0])
                children(0);
}
module cut_in_half(size)  {
        intersection() {
                translate([0, -size/2.0, -size/2.0])
                        cube(size=size, center=false);
                children(0);
        }
}

module randcyl() {
        // use of rands in here shows this object being called twice
        echo("randcyl called");
        rotate([rands(0,77,1, $seed)[0],45,0])
                cylinder(h=rands(4,8,1, $seed)[0], d = 2, center=true);
}

m_mirror() cut_in_half(100) render() randcyl();

This creates random angles and lengths that are the same in each child but
they are probably related to each other.

On 6 March 2016 at 23:08, Neon22 <mschafer at wireframe.biz> wrote:

> Actually I'm counting on the rands being generated the same with the same
> seed.
> - This is standard behaviour for seeds and why they exist.
>
> Once again - I am not showing ALL of the code just a snippet. If I post all
> the code people wil get bored and not read it let alone understand all of
> it.
>
> The seed controlling mechanism dispayed in the second snippet is
> specifically so I can override the default behaviour (new rand everytime)
> to
> only get one value.
> I use it to force symmetry in a model - see the very first post as to what
> that's about.
> However this "solution" is poor on many levels and NoGood.
>
>
> What I need is:
> - a function which consumes a value from a list of presupplied (global)
> values.
> - One from list each time it is called.
> E.g.
> master_seed = 42;
> seeds = rands(0, 65535, rand_seq_length, master_seed);
> function rand(range) = ...;
> - which returns the 'next' value from the list called seeds each time it is
> called.
>
>
> Does anyone know how to do this within a function or in any other way ??
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16306.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/977f5385/attachment.html>

From rcmpersiano at gmail.com  Sun Mar  6 18:48:03 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Sun, 6 Mar 2016 20:48:03 -0300
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457305739994-16306.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
Message-ID: <CA+i9EaCZD_dUono8XVbUeZzprGUo5JRokj3et0yPhHQjxJKVJw@mail.gmail.com>

I don't think there is any way to do it. All functions in OpenSCAD, except
rands or anything using rands, return the same value for the same given
parameters. This is the heart of no side effects. And the function you are
looking for doesn't use rands.

2016-03-06 20:08 GMT-03:00 Neon22 <mschafer at wireframe.biz>:

> Actually I'm counting on the rands being generated the same with the same
> seed.
> - This is standard behaviour for seeds and why they exist.
>
> Once again - I am not showing ALL of the code just a snippet. If I post all
> the code people wil get bored and not read it let alone understand all of
> it.
>
> The seed controlling mechanism dispayed in the second snippet is
> specifically so I can override the default behaviour (new rand everytime)
> to
> only get one value.
> I use it to force symmetry in a model - see the very first post as to what
> that's about.
> However this "solution" is poor on many levels and NoGood.
>
>
> What I need is:
> - a function which consumes a value from a list of presupplied (global)
> values.
> - One from list each time it is called.
> E.g.
> master_seed = 42;
> seeds = rands(0, 65535, rand_seq_length, master_seed);
> function rand(range) = ...;
> - which returns the 'next' value from the list called seeds each time it is
> called.
>
>
> Does anyone know how to do this within a function or in any other way ??
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16306.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/faaad025/attachment.html>

From nop.head at gmail.com  Sun Mar  6 18:52:35 2016
From: nop.head at gmail.com (nop head)
Date: Sun, 6 Mar 2016 23:52:35 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CA+i9EaCZD_dUono8XVbUeZzprGUo5JRokj3et0yPhHQjxJKVJw@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CA+i9EaCZD_dUono8XVbUeZzprGUo5JRokj3et0yPhHQjxJKVJw@mail.gmail.com>
Message-ID: <CAEEmnrNqeFTgz6AAGfwvOWMutMNHFus5on9v5mSR+rtoDfnzBg@mail.gmail.com>

module randcyl() {
        // use of rands in here shows this object being called twice
        echo("randcyl called");
        rotate([rands(0,77,1, $seed)[0],45,0])
                cylinder(h=rands(4,8,1, $seed + 1)[0], d = 2, center=true);
}

Seems to work better.


On 6 March 2016 at 23:48, Ronaldo Persiano <rcmpersiano at gmail.com> wrote:

> I don't think there is any way to do it. All functions in OpenSCAD, except
> rands or anything using rands, return the same value for the same given
> parameters. This is the heart of no side effects. And the function you are
> looking for doesn't use rands.
>
> 2016-03-06 20:08 GMT-03:00 Neon22 <mschafer at wireframe.biz>:
>
>> Actually I'm counting on the rands being generated the same with the same
>> seed.
>> - This is standard behaviour for seeds and why they exist.
>>
>> Once again - I am not showing ALL of the code just a snippet. If I post
>> all
>> the code people wil get bored and not read it let alone understand all of
>> it.
>>
>> The seed controlling mechanism dispayed in the second snippet is
>> specifically so I can override the default behaviour (new rand everytime)
>> to
>> only get one value.
>> I use it to force symmetry in a model - see the very first post as to what
>> that's about.
>> However this "solution" is poor on many levels and NoGood.
>>
>>
>> What I need is:
>> - a function which consumes a value from a list of presupplied (global)
>> values.
>> - One from list each time it is called.
>> E.g.
>> master_seed = 42;
>> seeds = rands(0, 65535, rand_seq_length, master_seed);
>> function rand(range) = ...;
>> - which returns the 'next' value from the list called seeds each time it
>> is
>> called.
>>
>>
>> Does anyone know how to do this within a function or in any other way ??
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16306.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/58dcda50/attachment.html>

From doug at moens.org  Sun Mar  6 19:56:03 2016
From: doug at moens.org (doug moen)
Date: Sun, 6 Mar 2016 19:56:03 -0500
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457305739994-16306.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
Message-ID: <CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>

The problem I see is that OpenSCAD is designed to be a pure declarative
language, but rands() is designed with an interface that only works
properly in an imperative language. To resolve the mismatch, we either need
to turn OpenSCAD into an imperative language, which is essentially where
Neon22 is going with his questions, or we need to deprecate rands(), and
provide a declarative interface for generating random numbers.

In a declarative language, function and module calls are referentially
transparent: they are guaranteed to return the same value or shape if the
arguments are the same. Users don't worry about how many times a function
or module call is evaluated, and they don't worry about the order of
evaluation, because these things can't have any effect on the final
rendered shape. (Okay, these things might have an impact on performance,
but not on correctness.) This results in two benefits:

   1. It's easier for users to reason about the meaning of a program, and
   there are more ways that you can rearrange code without changing its
   meaning. Algebraic properties like the commutative and associate law are
   more useful in a declarative language. You can use algebraic reasoning on
   OpenSCAD scripts.
   2. The implementation has more latitude to optimize the code, by
   rearranging the evaluation order, caching values, merging common
   subexpressions, and evaluating things in parallel.

To get these benefits, we need a declarative interface for generating
random numbers, which I will call 'random()'.

Here's my design:

   - Each time the script is evaluated, a new random seed is generated.
   This is a global value, which has the name '$seed'. This is what happens
   today; what's new is that I've introduced the name '$seed'.
   - The first argument to random() is a list of numbers and strings, which
   acts as a 'signature' for the random number to be generated. The strings
   and numbers in the signature are hashed together with $seed, to produce a
   random number in the range [0...1], which is returned.
   - If you want a random number in the range 0...M, then you use
      random(sig)*M.
      - If you want N random numbers, then you include an index value in
      the signature list, which varies from 0 to N-1, and call random() N times.
   - You can optionally pass $seed as a dynamically scoped argument to
   random(), which overrides the default global value of $seed.

The signature argument is the key idea that makes this interface
declarative. If random() is called multiple times with the same signature
and seed, then the same value is returned.

In a typical use of random(), the signature array will contain a unique
string that identifies this particular use of random(), plus one (or maybe
more) numbers, if the calling function needs more than one random number.

Neon22's randcyl() module would be written like this:

module randcyl() {
        rotate([random(["randcyl"])*77,45,0])
                cylinder(h=4, d = 2, center=true);
}

With just this code, every call to randcyl() within a given script
evaluation will return the same shape, unless randcyl() is called with a
$seed argument, in which case different values of $seed will produce
different shapes.

If your script uses random(), then each time you hit F5 you'll get a
different shape. If you add
   echo(seed=$seed);
to your script, then you'll see the the seed value used for this particular
evaluation. If you get a result that you want to preserve, then you can
copy the seed value into your script by writing
   $seed = <desired seed value>;
at the top level of your script, and now the script will always produce the
same shape.

On 6 March 2016 at 18:08, Neon22 <mschafer at wireframe.biz> wrote:

> Actually I'm counting on the rands being generated the same with the same
> seed.
> - This is standard behaviour for seeds and why they exist.
>
> Once again - I am not showing ALL of the code just a snippet. If I post all
> the code people wil get bored and not read it let alone understand all of
> it.
>
> The seed controlling mechanism dispayed in the second snippet is
> specifically so I can override the default behaviour (new rand everytime)
> to
> only get one value.
> I use it to force symmetry in a model - see the very first post as to what
> that's about.
> However this "solution" is poor on many levels and NoGood.
>
>
> What I need is:
> - a function which consumes a value from a list of presupplied (global)
> values.
> - One from list each time it is called.
> E.g.
> master_seed = 42;
> seeds = rands(0, 65535, rand_seq_length, master_seed);
> function rand(range) = ...;
> - which returns the 'next' value from the list called seeds each time it is
> called.
>
>
> Does anyone know how to do this within a function or in any other way ??
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16306.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160306/04d3d4bf/attachment.html>

From mschafer at wireframe.biz  Mon Mar  7 00:08:38 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sun, 6 Mar 2016 22:08:38 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
Message-ID: <1457327318841-16311.post@n5.nabble.com>

Thanks everyone for the info and examination. I'll go and digest.

Some notes:

1. @nophead. yes all this is so I can force the children(0) to be the same
when its evaluated twice. So @kintel indicates it probbaly a bug. If that
bug is fixed my problem would go away. which is great :)
However in the meantime it has raised this usse about rands() concept... and
until its fixed(maybe not) I need to move ahead.

2. @nophead the $seed varible seems like the right fix for that problem.
looking into it now. Thanks for the info.

3. Maybe $seed could be added to the cheatsheet ?

4. rands() seems to me like its ok for OpenSCAD because its really designed
to produce a list of numbers.
E.g. rands(0,100,50); gives a list of 50 random numbers back.
Its just that usually we want only one, and so we go:
      rands(0,100,1)[0]
and just ask for one and pick it off the list.

So rands() itself seems quite openscaddy(?)... but picking a specific value
out of rands in a deterministic way becomes tricky because of the way
openSCAD is really a scene description language with a different evaluation
criteria than a general purpose language (as doug points out).

5. How doug descibes using echo to report the seed - is exactly how I was
intending to do it.




--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16311.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Mon Mar  7 01:12:13 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 6 Mar 2016 23:12:13 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457327318841-16311.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
Message-ID: <1457331133749-16312.post@n5.nabble.com>

Neon22 wrote
> 3. Maybe $seed could be added to the cheatsheet ?

$seed is not special it is just an example of  $special_variables
<https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Other_Language_Features#Special_variables>  
which have special scope.
He could have used $hiccups.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16312.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Mon Mar  7 02:10:57 2016
From: mschafer at wireframe.biz (Neon22)
Date: Mon, 7 Mar 2016 00:10:57 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457331133749-16312.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
Message-ID: <1457334657781-16313.post@n5.nabble.com>

@MichaelAtOz - yeah - I worked that out eventually :)

So I tried @nophead's approach and while it works, it means all random
numbers are the same number which unfortunately also means some boring
results :)
Like this if symmetry (and therefore only 1 value used everywhere):
http://i68.tinypic.com/n5o29w.jpg
<http://forum.openscad.org/file/n16313/n5o29w.jpg> 

or like this when non-symmetrical - and with a random sequence of values:
<http://forum.openscad.org/file/n16313/icofo0.jpg> 

I guess I'll hope for a bugfix and an incremental release :)
Cheers...



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16313.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Mon Mar  7 05:09:14 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 7 Mar 2016 10:09:14 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457334657781-16313.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
	<1457334657781-16313.post@n5.nabble.com>
Message-ID: <CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>

Did you try the version where I did $seed+n for the nth call? Another
possibility is rands(a,b,n,$seed)[n - 1] for the nth call.

I think it is possible to code Doug's hash system in user space with the
current OpenScad. I have used hashes for pseudo random but repeatable
results before.

On 7 March 2016 at 07:10, Neon22 <mschafer at wireframe.biz> wrote:

> @MichaelAtOz - yeah - I worked that out eventually :)
>
> So I tried @nophead's approach and while it works, it means all random
> numbers are the same number which unfortunately also means some boring
> results :)
> Like this if symmetry (and therefore only 1 value used everywhere):
> http://i68.tinypic.com/n5o29w.jpg
> <http://forum.openscad.org/file/n16313/n5o29w.jpg>
>
> or like this when non-symmetrical - and with a random sequence of values:
> <http://forum.openscad.org/file/n16313/icofo0.jpg>
>
> I guess I'll hope for a bugfix and an incremental release :)
> Cheers...
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16313.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/90ff1734/attachment.html>

From rcmpersiano at gmail.com  Mon Mar  7 09:31:02 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Mon, 7 Mar 2016 11:31:02 -0300
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
	<1457334657781-16313.post@n5.nabble.com>
	<CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>
Message-ID: <CA+i9EaCHdHjEq4jjPjaTUFU8gBEaMBvbUhombk2=W-xOhRDLiA@mail.gmail.com>

As I mentioned before, if you use the same seed each time you call rands
you get the same sequence. That is the seed is for.
In both codes, the original Neon 22's code and in the nop head's code, the
rands in randcyl is called with the same seed  every time and it will
return the very same result. Try this:

echo(rands(0,1,1,seed_value=10)[0]);
echo(rands(0,1,1,seed_value=10)[0]);
echo(rands(0,1,1,seed_value=10)[0]);
echo(rands(0,1,1,seed_value=10)[0]);

and then this:

echo(rands(0,1,4,seed_value=10));

2016-03-07 7:09 GMT-03:00 nop head <nop.head at gmail.com>:

> Did you try the version where I did $seed+n for the nth call? Another
> possibility is rands(a,b,n,$seed)[n - 1] for the nth call.
>
> I think it is possible to code Doug's hash system in user space with the
> current OpenScad. I have used hashes for pseudo random but repeatable
> results before.
>
> On 7 March 2016 at 07:10, Neon22 <mschafer at wireframe.biz> wrote:
>
>> @MichaelAtOz - yeah - I worked that out eventually :)
>>
>> So I tried @nophead's approach and while it works, it means all random
>> numbers are the same number which unfortunately also means some boring
>> results :)
>> Like this if symmetry (and therefore only 1 value used everywhere):
>> http://i68.tinypic.com/n5o29w.jpg
>> <http://forum.openscad.org/file/n16313/n5o29w.jpg>
>>
>> or like this when non-symmetrical - and with a random sequence of values:
>> <http://forum.openscad.org/file/n16313/icofo0.jpg>
>>
>> I guess I'll hope for a bugfix and an incremental release :)
>> Cheers...
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16313.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/2709919f/attachment.html>

From rcmpersiano at gmail.com  Mon Mar  7 10:28:12 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Mon, 7 Mar 2016 08:28:12 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
Message-ID: <1457364492553-16316.post@n5.nabble.com>

Doug,

I don't believe your proposal would solve the Neon22's question. I
understood that he would like to have distinct results for every call to
randcyl(). And that module m_mirror() calls randcyl() just once.

This latter issue is supposed to be a bug by kintel. And the former is not
solved by your proposal of random().

I would have a similar proposal but with other behaviour. The signature you
suggest would identify a whole series of random numbers starting from the
seed resulting from hashing $seed together the signature. However, each time
random() is called with the same signature it will return the next random
number in the series identified by the signature.

As an example, suppose you have two places in the code where random numbers
are needed and you create two functions to generate them:

sign1 = ["randcyl"];
sign2 = ["randcube"];
function random1() = random(sign1) * 77;
function random2() = random(sign2) * 55;

Each of those function would generate a new random number at each call. The
whole series generated by the first function random1() would change if the
signature sign1 is changed: the signature is part of the seed of that
series. If you want the same series for all the runs it is enough to add as
first line:

$seed = 10: // or any other number

If you want that just the random2() function generates new series at each
run, change sign2 to something like:

sign2 = random(["sign2"]);

I don't know if this proposal is either an imperative or a declarative
solution but it would solve a lot issues in a flexible way.




--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16316.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Mon Mar  7 11:09:05 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 7 Mar 2016 16:09:05 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CA+i9EaCHdHjEq4jjPjaTUFU8gBEaMBvbUhombk2=W-xOhRDLiA@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
	<1457334657781-16313.post@n5.nabble.com>
	<CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>
	<CA+i9EaCHdHjEq4jjPjaTUFU8gBEaMBvbUhombk2=W-xOhRDLiA@mail.gmail.com>
Message-ID: <CAEEmnrOk3Lb2ZzQ+WOBqdQECJzHx8RuAXZdZg17AhiaqpMtowg@mail.gmail.com>

On 7 March 2016 at 14:31, Ronaldo Persiano <rcmpersiano at gmail.com> wrote:

> As I mentioned before, if you use the same seed each time you call rands
> you get the same sequence. That is the seed is for.
> In both codes, the original Neon 22's code and in the nop head's code, the
> rands in randcyl is called with the same seed  every time and it will
> return the very same result. Try this:
>
> echo(rands(0,1,1,seed_value=10)[0]);
> echo(rands(0,1,1,seed_value=10)[0]);
> echo(rands(0,1,1,seed_value=10)[0]);
> echo(rands(0,1,1,seed_value=10)[0]);
>
> and then this:
>
> echo(rands(0,1,4,seed_value=10));
>

In my example I generated a new random $seed in m_mirror that is then
passed to its children to use as a seed so each child generates the same
random numbers. If the child wants say three then can used rands(a,b,1,
$seed)[0], rands(c,d,2,$seed)[1] and rands(e,f,3,$seed)[2]. That seems to
work fine in this example

$fn = 32;
module m_mirror() {
        $seed = rands(0,1000000,1)[0];
        children(0);
        mirror([1,0,0])
                children(0);
}
module cut_in_half(size)  {
        intersection() {
                translate([0, -size/2.0, -size/2.0])
                        cube(size=size, center=false);
                children(0);
        }
}

module randcyl() {
        // use of rands in here shows this object being called twice
        echo("randcyl called");
        rotate([rands(0,77,1, $seed)[0],45,0])
                cylinder(h=rands(4,8,2, $seed)[1], d = rands(.1,5,3,
$seed)[2], center=true);
}

m_mirror() cut_in_half(100) render() randcyl();
translate([0, 5, 0])
    m_mirror() cut_in_half(100) render() randcyl();

unless I misunderstand the problem. It isn't very efficient as it is
generating the same sub-sequences over and over again, but I doubt it is a
significant overhead compared to geometry evaluation.

There is still an issue between F5 and F6. I think OpenScad should generate
a new seed each time F5 is run but should save it so F6 always generates
the same sequence as the last F5.


> 2016-03-07 7:09 GMT-03:00 nop head <nop.head at gmail.com>:
>
>> Did you try the version where I did $seed+n for the nth call? Another
>> possibility is rands(a,b,n,$seed)[n - 1] for the nth call.
>>
>> I think it is possible to code Doug's hash system in user space with the
>> current OpenScad. I have used hashes for pseudo random but repeatable
>> results before.
>>
>> On 7 March 2016 at 07:10, Neon22 <mschafer at wireframe.biz> wrote:
>>
>>> @MichaelAtOz - yeah - I worked that out eventually :)
>>>
>>> So I tried @nophead's approach and while it works, it means all random
>>> numbers are the same number which unfortunately also means some boring
>>> results :)
>>> Like this if symmetry (and therefore only 1 value used everywhere):
>>> http://i68.tinypic.com/n5o29w.jpg
>>> <http://forum.openscad.org/file/n16313/n5o29w.jpg>
>>>
>>> or like this when non-symmetrical - and with a random sequence of values:
>>> <http://forum.openscad.org/file/n16313/icofo0.jpg>
>>>
>>> I guess I'll hope for a bugfix and an incremental release :)
>>> Cheers...
>>>
>>>
>>>
>>> --
>>> View this message in context:
>>> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16313.html
>>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>>
>>> _______________________________________________
>>> OpenSCAD mailing list
>>> Discuss at lists.openscad.org
>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/ec236085/attachment.html>

From doug at moens.org  Mon Mar  7 11:21:33 2016
From: doug at moens.org (doug moen)
Date: Mon, 7 Mar 2016 11:21:33 -0500
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457364492553-16316.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457364492553-16316.post@n5.nabble.com>
Message-ID: <CAGV6i+MOh-gkkkNPOztbuPQFh3SAsW3tKK2kY3FTVQPf82CGMw@mail.gmail.com>

@Ronaldo, my proposed random() function is a declarative interface which
provides the following guarantees: it doesn't matter if your function or
module is called more times than you expect, and it doesn't matter if they
are called in a different order than you expect, the results will be the
same. Those guarantees are necessary if we want to keep OpenSCAD as a pure
declarative language. The "bug" where modules are called a different number
of times than expected will not affect the behaviour of random().

But this means you have to write your code differently. The existing
rands() function relies on hidden state, so that successive calls to
rands() with the same arguments will return different results. That kind of
behaviour can only exist in an imperative language, and random() doesn't
work that way. With random(), you have to explicitly construct a signature
argument that is different for each unique random number you want to
generate.

In the example code that I gave, randcyl() will always return the same
results, *unless* the dynamically scoped $seed variable is different for
different calls.

Let's say you want to call randcyl() 6 times, with a different random
number generated for each call. Then you could do this:

for (i=[1:6])
   translate([i*10,0,0]) randcyl($seed=random(["row of randcyl", i]));

Each seed value passed to randcyl is different because they are generated
from different signature lists passed to random().

Once you wrap your head around the coding style, this interface is actually
more powerful, since it gives you precise control over when random number
sequences are different, and when they are the same.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/502c3f61/attachment.html>

From doug at moens.org  Mon Mar  7 11:56:25 2016
From: doug at moens.org (doug moen)
Date: Mon, 7 Mar 2016 11:56:25 -0500
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457364492553-16316.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457364492553-16316.post@n5.nabble.com>
Message-ID: <CAGV6i+MOfkcY5q5qeVihKupy+=ZoYZ_e+4-wTd3cmMF17bH10g@mail.gmail.com>

@Ronaldo wrote:

I would have a similar proposal but with other behaviour. The signature you
> suggest would identify a whole series of random numbers starting from the
> seed resulting from hashing $seed together the signature. However, each
> time random() is called with the same signature it will return the next
> random number in the series identified by the signature.
>


This is still an imperative interface, because it relies on a hidden
mutable global variable that keeps track of the state of each random number
sequence.

The imperative interface is more convenient, especially for simple
examples, because you don't need to construct unique signatures for each
distinct random number.

But the imperative interface also creates more problems, in the context of
a declarative language.

An imperative random number interface can lead to fragile code that breaks
when you try to change it. For example, suppose there is a model that uses
random() to generate an entire family of randomly generated shapes, based
on the $seed. You've experimentally explored this family of shapes by
hitting F5 repeatedly until you got a shape you like. Then you select this
specific shape by fixing the value of $seed. At this point, if the code
relies on an imperative random number generator, then the code is fragile
and hard to change, because moving code around, adding or removing code may
change the random numbers generated in other code that you didn't want to
change, and then you lose the specific shape that you had chosen. With a
declarative random number generator, the code isn't fragile: each random
number is chosen deterministically based on a signature and seed.

The other problem is that an imperative random number generator prevents
OpenSCAD from using standard optimization techniques that work for
declarative languages. Here are two techniques that Marius and I would like
to try out. One is lazy evaluation, where we delay evaluating expressions
and module calls until the result is needed: this is a win if the result is
never needed. This makes the evaluation order hard to predict. Another is
parallel evaluation, where expressions and module calls are evaluated in an
unpredictable order, using multiple cores.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/58c792d5/attachment.html>

From rcmpersiano at gmail.com  Mon Mar  7 11:59:51 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Mon, 7 Mar 2016 09:59:51 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAEEmnrOk3Lb2ZzQ+WOBqdQECJzHx8RuAXZdZg17AhiaqpMtowg@mail.gmail.com>
References: <5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
	<1457334657781-16313.post@n5.nabble.com>
	<CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>
	<CA+i9EaCHdHjEq4jjPjaTUFU8gBEaMBvbUhombk2=W-xOhRDLiA@mail.gmail.com>
	<CAEEmnrOk3Lb2ZzQ+WOBqdQECJzHx8RuAXZdZg17AhiaqpMtowg@mail.gmail.com>
Message-ID: <1457369991835-16320.post@n5.nabble.com>

nop head,

It seems I disregarded the $seed assignment in the beginning of  module
m_mirror() of your code. Sorry. 
But that code solves just one of Neon22's issue: randcyl() will generate the
same two solids by m_mirror(). However, I don't see anyway to reproduce the
same result twice which is the random function seed is meant to. If you
comment the $seed assignment in m_mirror(), all m_mirror() calls will
produce the very same solid.



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16320.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Mon Mar  7 12:09:09 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Mon, 7 Mar 2016 10:09:09 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAGV6i+MOfkcY5q5qeVihKupy+=ZoYZ_e+4-wTd3cmMF17bH10g@mail.gmail.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457364492553-16316.post@n5.nabble.com>
	<CAGV6i+MOfkcY5q5qeVihKupy+=ZoYZ_e+4-wTd3cmMF17bH10g@mail.gmail.com>
Message-ID: <1457370549536-16321.post@n5.nabble.com>

I suppose I understand now your point. And I see that my proposal is not
appropriate to declarative languages. Thank you, I always have what to learn
from your messages.





--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16321.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Mon Mar  7 12:13:36 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Mon, 7 Mar 2016 22:43:36 +0530
Subject: [OpenSCAD] Introduction
Message-ID: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>

Hi, I am Amarjeet Singh Kapoor, 3rd year student of B.tech in computer
science and engineering at Guru Nanak Dev Engineering College,
Ludhiana. Ludhiana
I have worked on Image Processing using OpenCV and made a project
regarding analysis of dynamic of structures (CivilOctave). Then I
started SIM (Structure information model). Idea behind the project is
modeling the structure based on information and storing it in database
so that information can be used for analysis.
At present just parsing Staad-pro files to extract information for
Sim. For more information, you can visit my github account.

https://github.com/amarjeetkapoor1

I have knowledge of C++, python,shell script,HTML, cgi, sql, latex,
doxygen, etc.

I'm interested to contribute in Project: Form based script parameterization
during my summers as much I have understand this project we want that
should be able to change certain variables or parameters in .scad file
through the use of form like interface which may include slide bar or
check box etc. so, that we can visualize the changes in output on the
base of input through the form side by side instead of manual changing
different parameters instead.

Please tell did I understood the project correctly or if I have missed
something important?




-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From nop.head at gmail.com  Mon Mar  7 12:28:13 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 7 Mar 2016 17:28:13 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457369991835-16320.post@n5.nabble.com>
References: <5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<CA+i9EaBLe57fdQAsApf0kEq3pXqizmg+zUkJH6B9b1zfJp1FjA@mail.gmail.com>
	<1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
	<1457334657781-16313.post@n5.nabble.com>
	<CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>
	<CA+i9EaCHdHjEq4jjPjaTUFU8gBEaMBvbUhombk2=W-xOhRDLiA@mail.gmail.com>
	<CAEEmnrOk3Lb2ZzQ+WOBqdQECJzHx8RuAXZdZg17AhiaqpMtowg@mail.gmail.com>
	<1457369991835-16320.post@n5.nabble.com>
Message-ID: <CAEEmnrMOF2uH9HrjwC20zrMjEojvVDQ64soFweOKXJJ_rCNAcA@mail.gmail.com>

I don't quite follow what you mean. Each call to mirror generates a
different pair of identical children. The only thing it doesn't do is allow
F6 to make the same result, which I think needs addressing in OpenScad.

It isn't functional though, so I agree with Doug's proposal. That isn't as
easy to use though because functions like m_mirror need a parameter which
effectively identifies the call site to the get different results in
different places.

This does roughly the same thing: -

gseed = rands(0,1000000,1)[0];
echo(gseed=gseed);

$fn = 32;
module m_mirror(n = 0) {
        $seed = rands(0,1000000,n + 1, gseed)[n];
        children(0);
        mirror([1,0,0])
                children(0);
}
module cut_in_half(size)  {
        intersection() {
                translate([0, -size/2.0, -size/2.0])
                        cube(size=size, center=false);
                children(0);
        }
}

module randcyl() {
        // use of rands in here shows this object being called twice
        echo("randcyl called with",$seed);
        rotate([rands(0,77,1, $seed)[0],45,0])
                cylinder(h=rands(4,8,2, $seed)[1], d = rands(.1,5,3,
$seed)[2], center=true);
}

m_mirror() cut_in_half(100) render() randcyl();

translate([0, 5, 0])
    m_mirror(1) cut_in_half(100) render() randcyl();


If you note down gseed you can put that in to get the same results again.
Each use of m_mirror with the same children needs a different number
passing if you want both pairs of children to be the same.

On 7 March 2016 at 16:59, Ronaldo <rcmpersiano at gmail.com> wrote:

> nop head,
>
> It seems I disregarded the $seed assignment in the beginning of  module
> m_mirror() of your code. Sorry.
> But that code solves just one of Neon22's issue: randcyl() will generate
> the
> same two solids by m_mirror(). However, I don't see anyway to reproduce the
> same result twice which is the random function seed is meant to. If you
> comment the $seed assignment in m_mirror(), all m_mirror() calls will
> produce the very same solid.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16320.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/e3d836cc/attachment.html>

From fred_dot_u at yahoo.com  Mon Mar  7 12:28:47 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Mon, 7 Mar 2016 10:28:47 -0700 (MST)
Subject: [OpenSCAD] Peculiar artifact in model generation
Message-ID: <1457371727122-16323.post@n5.nabble.com>

<http://forum.openscad.org/file/n16323/pulley_artifact.png> 

I'm nearly complete on a project for a friend, a simple pulley. The project
is the pulley, the friend is not a simple pulley.

Two cylinders with appropriate cylinders removed to provide an opening for
the shaft. On the perimeter of the larger cylinder is a contoured groove.
The groove is constructed using a hulled shape of a circle and triangle,
rotated and extruded.

Up to the point where I added the hub extension, I had a perfect shape. This
tells me that there's been no shifting of centers or other unusual
adjustments to the modified torus that makes up the pulley groove. Once the
hub extension was added, I now have after the F6 rendering a flange or flap
connecting across the face of the groove.

I'm also unable to return the code to the point where the artifact goes
away. Removing the hub extension code does not change the failure point.



I've been enjoying to make simple models using OpenSCAD, but I'm far from
proficient at sophisticated code. I'm sure there are ways to make my code
cleaner, faster, better, more attractive, but up to the appearance of the
artifact, it worked just fine.

When I exported the STL and opened it in Meshmixer, the artifact was still
in place. I did not try to clean it up with Meshmixer, as I'd rather learn
how not to make it appear.

How can I resolve this little glitch?



--
View this message in context: http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Mon Mar  7 13:06:10 2016
From: runsun at gmail.com (runsun)
Date: Mon, 7 Mar 2016 11:06:10 -0700 (MST)
Subject: [OpenSCAD] Peculiar artifact in model generation
In-Reply-To: <1457371727122-16323.post@n5.nabble.com>
References: <1457371727122-16323.post@n5.nabble.com>
Message-ID: <1457373970937-16325.post@n5.nabble.com>

Nice object.


fred_dot_u wrote
> module groovy(){    
>     hull(){    
>         circle(r = cross_section_diameter / 2);
>         polygon(points = [[0,0], [groove_gap / 2,(
*
> outer_diameter+1
*
>  - groove_diameter) / 2],    [-(groove_gap / 2),(
*
> outer_diameter+1
*
>  - groove_diameter) / 2]]);
>     }
> }

Making the groove diameter larger by changing outer_diameter to
*outer_diameter+1* solves the problem.




-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type 





--
View this message in context: http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323p16325.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Mon Mar  7 13:31:18 2016
From: nop.head at gmail.com (nophead)
Date: Mon, 7 Mar 2016 11:31:18 -0700 (MST)
Subject: [OpenSCAD] Peculiar artifact in model generation
In-Reply-To: <1457373970937-16325.post@n5.nabble.com>
References: <1457371727122-16323.post@n5.nabble.com>
	<1457373970937-16325.post@n5.nabble.com>
Message-ID: <1457375478211-16326.post@n5.nabble.com>

Or even +0.01 to have less effect on the shape. When subtracting you always
want some overlap. The same with the cylinder that drills the hole though
the hub.



--
View this message in context: http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323p16326.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Mon Mar  7 13:39:02 2016
From: runsun at gmail.com (runsun)
Date: Mon, 7 Mar 2016 11:39:02 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
Message-ID: <1457375942864-16327.post@n5.nabble.com>

kintel wrote
>> On Mar 5, 2016, at 06:01 AM, Neon22 &lt;

> mschafer@

> &gt; wrote:
>> 
>> Even though it looks to me like randcyl() should be evaluated only once
>> (when children passed in) - its called twice.
> 
> From the top of my head, this sounds like a bug. I?ll have to look into it
> in more detail, and I?ve opened an issue for this:
> https://github.com/openscad/openscad/issues/1596

>From my understanding, children() looks like a func or module call, that it
generates something when it is called. In the code below:

> module m_mirror() { 
>         children(0); 
>         mirror([1,0,0]) 
>                 children(0); 
> } 

The children is "called" twice. So anything inside the children code will be
executed twice, even if rands() is not used. This doesn't look buggy to me. 

In fact it is consistent with how func_call and module_call work --- that
is, a "( )" indicates "going through the inner code to get a new data". 

If we want to make a children NOT "CALLED" after the first use, then
something like *$children* might be better. 







-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type 





--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16327.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From fred_dot_u at yahoo.com  Mon Mar  7 13:48:29 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Mon, 7 Mar 2016 11:48:29 -0700 (MST)
Subject: [OpenSCAD] Peculiar artifact in model generation
In-Reply-To: <1457375478211-16326.post@n5.nabble.com>
References: <1457371727122-16323.post@n5.nabble.com>
	<1457373970937-16325.post@n5.nabble.com>
	<1457375478211-16326.post@n5.nabble.com>
Message-ID: <1457376509636-16328.post@n5.nabble.com>

Adding the 0.01 to the outer diameter within the module appeared to have
resolved the problem.
Usually I am able to find the answer to my problems simply by phrasing the
difficulty, confirming it on my end, then discovering my error. I suspected
it would be necessary to expand a dimension, as I'd had to do so in the
past. I was unable to identify the best dimension to accomplish the result
this time.

Thank you for your assistance, off to the printer!



--
View this message in context: http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323p16328.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Mon Mar  7 14:03:28 2016
From: marius at kintel.net (Marius Kintel)
Date: Mon, 7 Mar 2016 14:03:28 -0500
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457375942864-16327.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<1457375942864-16327.post@n5.nabble.com>
Message-ID: <CD97C78D-A7D6-41A2-B02D-017FBEDBDEDC@kintel.net>

> On Mar 7, 2016, at 13:39 PM, runsun <runsun at gmail.com> wrote:
> 
> The children is "called" twice. So anything inside the children code will be
> executed twice, even if rands() is not used. This doesn't look buggy to me. 
> 
This needs to be clarified. I?m not 100% certain I would call this a bug, but it does need some looking into.

There?s also the question whether people rely on this existing behavior.

 -Marius



From nop.head at gmail.com  Mon Mar  7 14:26:33 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 7 Mar 2016 19:26:33 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CD97C78D-A7D6-41A2-B02D-017FBEDBDEDC@kintel.net>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<1457375942864-16327.post@n5.nabble.com>
	<CD97C78D-A7D6-41A2-B02D-017FBEDBDEDC@kintel.net>
Message-ID: <CAEEmnrOyX1B-dZ84crg04NTp1E0gTSLL-1QurL0jxy0NSuJtSg@mail.gmail.com>

I think the whole point of non-imperative language is that it should be
impossible to tell if the child is executed twice. It is rands without a
seed parameter that breaks it and shouldn't really be allowed in OpenScad.



On 7 March 2016 at 19:03, Marius Kintel <marius at kintel.net> wrote:

> > On Mar 7, 2016, at 13:39 PM, runsun <runsun at gmail.com> wrote:
> >
> > The children is "called" twice. So anything inside the children code
> will be
> > executed twice, even if rands() is not used. This doesn't look buggy to
> me.
> >
> This needs to be clarified. I?m not 100% certain I would call this a bug,
> but it does need some looking into.
>
> There?s also the question whether people rely on this existing behavior.
>
>  -Marius
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/ed23c5f2/attachment.html>

From doug at moens.org  Mon Mar  7 14:30:55 2016
From: doug at moens.org (doug moen)
Date: Mon, 7 Mar 2016 14:30:55 -0500
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CD97C78D-A7D6-41A2-B02D-017FBEDBDEDC@kintel.net>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<1457375942864-16327.post@n5.nabble.com>
	<CD97C78D-A7D6-41A2-B02D-017FBEDBDEDC@kintel.net>
Message-ID: <CAGV6i+NOTGOOnQPfN7zxrxOdEq9t945Vu4ZUt=i7pM=FnDJ-UA@mail.gmail.com>

The flip side is that if your module contains conditional code, a
children() guarded by an if, then a child module might not be called at all.

The only way people could rely on this behaviour is via APIs with side
effects, like rands() and echo(). echo() primarily exists for debugging,
but it is sometimes also used for extracting metadata from a model, most
commonly for generating a BOM.

My suggestion is to provide declarative alternatives for these use cases
first, before changing the evaluation behaviour. That way, anybody who runs
into a problem has a path to upgrade their code to work with the new
release. This means: add a declarative random() function, and add support
for object metadata, suitable for generating BOMs.

On 7 March 2016 at 14:03, Marius Kintel <marius at kintel.net> wrote:

> > On Mar 7, 2016, at 13:39 PM, runsun <runsun at gmail.com> wrote:
> >
> > The children is "called" twice. So anything inside the children code
> will be
> > executed twice, even if rands() is not used. This doesn't look buggy to
> me.
> >
> This needs to be clarified. I?m not 100% certain I would call this a bug,
> but it does need some looking into.
>
> There?s also the question whether people rely on this existing behavior.
>
>  -Marius
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160307/48f555b8/attachment.html>

From mschafer at wireframe.biz  Mon Mar  7 15:13:59 2016
From: mschafer at wireframe.biz (Neon22)
Date: Mon, 7 Mar 2016 13:13:59 -0700 (MST)
Subject: [OpenSCAD] Peculiar artifact in model generation
In-Reply-To: <1457376509636-16328.post@n5.nabble.com>
References: <1457371727122-16323.post@n5.nabble.com>
	<1457373970937-16325.post@n5.nabble.com>
	<1457375478211-16326.post@n5.nabble.com>
	<1457376509636-16328.post@n5.nabble.com>
Message-ID: <1457381639694-16332.post@n5.nabble.com>

My approach is to declare a variable for this purpose: Delta = 0.1
Then, when an object needs to interpenetrate another, to add Delta to the
object on that axis.
Its also useful when primitives are made with center=true, to sometimes add
Delta*2 and to translate by -Delta in that same dimension.

Then you get a nice controlled overlap. By changing Delta to a larger number
temporarily, you can troubleshoot these overlap areas.

as usual YMMV. Cheers...



--
View this message in context: http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323p16332.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Mon Mar  7 16:00:52 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 7 Mar 2016 22:00:52 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
Message-ID: <56DDEC04.6090302@gmx.de>

Hi!

Welcome to the list.

On 03/07/2016 06:13 PM, Amarjeet Kapoor wrote:
> I'm interested to contribute in Project: Form based script parameterization
> during my summers as much I have understand this project we want that
> should be able to change certain variables or parameters in .scad file
> through the use of form like interface which may include slide bar or
> check box etc. so, that we can visualize the changes in output on the
> base of input through the form side by side instead of manual changing
> different parameters instead.
> 
> Please tell did I understood the project correctly or if I have missed
> something important?
> 
Yes, that's a good summary of the core functionality. The github issue
has links to some short screencasts that illustrate how it could look
like. I guess the first challenge is to divide the topic into smaller
parts that can be handled easily. This is certainly a project where
it's possible to get lost in all the ideas that can be put into it :-).

ciao,
  Torsten.



From arnholm at arnholm.org  Mon Mar  7 16:11:33 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Mon, 7 Mar 2016 22:11:33 +0100
Subject: [OpenSCAD] Does Minkowski work only in 2d?
Message-ID: <56DDEE85.5000504@arnholm.org>

I am having a look at Minkowski and observe that the documentation isn't 
all that clear on this question. The manual mentions this example


$fn=50;
minkowski()
{
  cube([10,10,1]);
  cylinder(r=2,h=1);
}


Which appears to demonstrate Minkowski working on 3d objects. However, 
if you try

$fn=50;
minkowski()
{
  translate([0,0,10])cube([10,10,1]);
  cylinder(r=2,h=1);
}

... all you get is the same result translated upwards. The exact same 
thing happens if you translate the cylinder instead of the cube, which 
means this isn't really working in 3d.

If you try


$fn=50;
minkowski()
{
  translate([0,0,-10]) cube([10,10,1]);
  translate([0,0,10]) cylinder(r=2,h=1);
}

You are back to the original result. The two translations cancel each 
other out!

But then, if you try

$fn=50;
minkowski()
{
  translate([0,0,-10]) cube([10,10,1]);
  translate([0,0,10]) cylinder(r=2,h=1);
}

you get something that looks more like an odd 3d hull operation.

Finally, some creative stuff to possibly igure out what is happening:

$fn=50;
minkowski()
{
  cube([10,10,0.000000001]);
  rotate([90,0,0])
  difference() {
    cylinder(r=2,h=1);
    translate([1,0,0])cylinder(r=1.5,h=3,center=true);
  }
}

It looks like the second object is now swept along the edge of the first 
object, and the area between is almost like a hull. However, if you 
switch the order, the result is the same...


Is there a more detailed description somewhere on how this really works? 
Are these examples well defined?


Carsten Arnholm



From arnholm at arnholm.org  Mon Mar  7 16:18:33 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Mon, 7 Mar 2016 22:18:33 +0100
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <56DDEE85.5000504@arnholm.org>
References: <56DDEE85.5000504@arnholm.org>
Message-ID: <56DDF029.1040405@arnholm.org>

Sorry, there was a typo

On 07. mars 2016 22:11, Carsten Arnholm wrote:
> But then, if you try
>
> $fn=50;
> minkowski()
> {
>   translate([0,0,-10]) cube([10,10,1]);
>   translate([0,0,10]) cylinder(r=2,h=1);
> }
>
> you get something that looks more like an odd 3d hull operation.
>

It was supposed to be

$fn=50;
minkowski()
{
  rotate([30,0,0]) cube([10,10,1]);
  translate([0,0,10]) cylinder(r=2,h=1);
}


Carsten Arnholm


From mschafer at wireframe.biz  Mon Mar  7 16:51:20 2016
From: mschafer at wireframe.biz (Neon22)
Date: Mon, 7 Mar 2016 14:51:20 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <CAEEmnrMOF2uH9HrjwC20zrMjEojvVDQ64soFweOKXJJ_rCNAcA@mail.gmail.com>
References: <1457305739994-16306.post@n5.nabble.com>
	<CAGV6i+MMce_Ddq-YZSUofVd6EGTR2FgVfhd9wjrk4U1cfEAK4A@mail.gmail.com>
	<1457327318841-16311.post@n5.nabble.com>
	<1457331133749-16312.post@n5.nabble.com>
	<1457334657781-16313.post@n5.nabble.com>
	<CAEEmnrM13_OSyJtBoLO3edSwgYVR0WiotBzttvjaGfGEz5RgvQ@mail.gmail.com>
	<CA+i9EaCHdHjEq4jjPjaTUFU8gBEaMBvbUhombk2=W-xOhRDLiA@mail.gmail.com>
	<CAEEmnrOk3Lb2ZzQ+WOBqdQECJzHx8RuAXZdZg17AhiaqpMtowg@mail.gmail.com>
	<1457369991835-16320.post@n5.nabble.com>
	<CAEEmnrMOF2uH9HrjwC20zrMjEojvVDQ64soFweOKXJJ_rCNAcA@mail.gmail.com>
Message-ID: <1457387480246-16336.post@n5.nabble.com>

Thanks @nophead. That clinched it. The code is not that pretty but it does
work :)
Thanks everyone.
Now I just need to make the ships look good :)
(F6 warning - not for the faint hearted...)

// OpenSCAD version of the openCscad tool here:
//  - https://github.com/smcameron/opencscad

// User editable parameters
// None yet

//---------------------------------
// Random seed control is critical.
// The seed defines all the variation. Using the same seed will give the
same ship.
//
$seed = floor(rands(0,1000000,1)[0]);
// $seed = 970439;
max_random_values = 300;
echo("Seed=",$seed);
function randn(n,idx=0) = floor(rands(0,n,max_random_values, $seed)[idx]);
function randf(n,idx=0) = rands(0,n*1000,max_random_values, $seed)[idx] /
1000.0;
 
// echo(randn(10,0), randn(10,1));
// echo(randf(12.5,0), randf(12.5,1));

cyl_res = 40;
sph_res = 80;
Gseed = false;
verbose = false;

//---------------------------------              
// from opencscad
module cyl(h,r1,r2,ctr=false) {
	//if (verbose) {echo("cyl", h, r1, r2, ctr);}
	cylinder(h=h, r1=r1, r2=r2, center=ctr, $fn=cyl_res);
}

//---------------------------------
// cylinder_rings
//
module cylinder_rings(length, r1, r2, nrings, rand_idx)  {
	if (verbose) {echo("cyl_rings", nrings, rand_idx);}
	ringspacing = length / (nrings + 1.0);
	ringheight = ringspacing / 3.0;
	z = -(ringspacing * nrings) / 2.0;
	dstart = ringspacing;
	rstart = r1 * 1.3;
	dr = ((r2 * 1.3) - rstart) / nrings;
	//
	for (i = [0:nrings]) {
		z = (i+1) * ringspacing + dstart;
		r = (i+1) * dr + rstart;
		translate([0, 0, z])
			cyl(ringheight, r, r, true);
	}
}


// cylinder_ribs
module cylinder_ribs(length, r1, r2, nribs, rand_idx)  {
	if (verbose) {echo("cyl_ribs", rand_idx);}
	dangle = 360.0 / nribs/4;
	extra_factor = randf(1, rand_idx)+1;
	//
	for (i=[0:nribs]) {
		angle = dangle*i;
		rotate([0, 0, angle])
		intersection() {
			union() {
				translate([max(r1, r2) * 1.05, 0, 0]);
					cube(size=[max(r1, r2) * 2, max(r1, r2) * 2, length + 2], center=true);
				translate([max(r1, r2) * -1.05, 0, 0]);
					cube(size=[max(r1, r2) * 2, max(r1, r2) * 2, length + 2], center=true);
				translate([0, max(r1, r2), 0]);
					cube(size=[max(r1, r2) * 2.1, max(r1, r2) * 2.1, length + 2],
center=true);
			}
			cyl(length, r1*extra_factor, r2*(extra_factor*0.8), true); 
		}
	}
}

// cylindrical_thing
module cylindrical_thing(length, r1, r2, rand_idx) {
	if (verbose) {echo("cyl_thing", rand_idx);}
	cyl(length, r1, r2, true);
	cylinder_rings(length, r1, r2, randn(3, rand_idx) + 5);
}


// cylinder_protrusions
module cylinder_protrusions(length, r1, r2, nprotrusions, rand_idx,
excess=1.5)  {
	if (verbose) {echo("cylinder_protusions", rand_idx);}
	intersection() {
		// cyl(length, r1 * excess, r2 * excess, true); 
		cylindrical_thing(length, r1 * excess, r2 * excess, rand_idx);
		//
		union() {
			rand_local = rand_idx+1;
			for (i = [0:nprotrusions]) {
				h = ((randn(80, rand_local) + 20) / 100.0) * length;
				z = -((length - h) / 2.0) * (randn(100, rand_local+1) / 100.0);
				x = min(r1, r2) * randf(0.2, rand_local+2); 
				angle = randf(360.0, rand_local+3);
				translate([0, 0, z])
				rotate([0, 0, angle])
					cube(size=[x, max(r1, r2) * 3, h], center=true);
				rand_local = rand_local + 1;
			}
		}
	}
}


// random_cylinder_protrusions
module random_cylinder_protrusions(length, r1, r2, nelaborations, rand_idx) 
{
	if (verbose) {echo("rand_cyl_protrusions", rand_idx);}
	nprots = randn(5, rand_idx) + 5;
	pheight = randf(0.1, rand_idx+1);
	l = (1.0 - randf(0.7, rand_idx+2)) * length / nelaborations; 
	offset = randf((length / 2.0) - (l / 2.0), rand_idx+3);
	if (randn(100, rand_idx+4) < 50) {
		offset = -offset; }
	translate([0, 0, offset])
		cylinder_protrusions(l, ((r1 + r2) / 2.0) * (1 + pheight), ((r1 + r2) /
2.0) * (1 + pheight), nprots, rand_idx+5);
}

// random_cylinder_ribs
module random_cylinder_ribs(length, r1, r2, nelaborations, rand_idx)  {
	if (verbose) {echo("rand_cyl_ribs", rand_idx); }
	nribs = randn(5, rand_idx) + 5;
	ribheight = randf(0.3, rand_idx+1);
	l = (1.0 - randf(0.7, rand_idx+2)) * length / nelaborations; 
	offset = randf((length / 2.0) - (l / 2.0), rand_idx+3);
	if (randn(100, rand_idx+4) < 50) {
		offset = -offset; }
	translate([0, 0, offset])
		cylinder_ribs(l, ((r1 + r2) / 2.0) * (1 + ribheight), ((r1 + r2) / 2.0) *
(1 + ribheight), nribs, rand_idx+5);
}

// random_cylinder_rings
module random_cylinder_rings(length, r1, r2, nelaborations, rand_idx)  {
	if (verbose) {echo("rand_cyl_rings", rand_idx);}
	nrings = randn(4, rand_idx) + 1;
	ringheight = randf(0.05, rand_idx+1);
	l = (1.0 - randf(0.7, rand_idx+2)) * length / nelaborations; 
	offset = randf((length / 2.0) - (l / 2.0), rand_idx+3);
	if (randn(100, rand_idx+4) < 50) {
		offset = -offset;}
	translate([0, 0, offset])
		cylinder_rings(l, r1 * (1 + ringheight), r2 * (1 + ringheight), nrings,
rand_idx+5);
}

// block_pile
module block_pile(length, r1, r2, rand_idx)  {
	if (verbose) {echo("block_pile", rand_idx);}
	w = max(r1, r2);
	pod_module(length * 0.9, w * 0.7);
	block_count = randn(40, rand_idx) + 20;
	rand_local = rand_idx;
	for (i =[0:block_count]) {
		x = 0.8 * (randf(w, rand_local+1) - (w / 2.0));
		y = 0.8 * (randf(w, rand_local+2) - (w / 2.0));
		z = 0.8 * (randf(length - (length / 2.0),rand_local+3));
		sx = randf(w / 2.0, rand_local+4) + w / 2.0;
		sy = randf(w / 2.0, rand_local+5) + w / 2.0;
		sz = randf(w / 2.0, rand_local+6) + w / 2.0;
		translate([x, y, z])
			cube(size=[sx, sy, sz], center=true);
		rand_local = rand_local + 1;
	}
}

// elaborate_cylinder
module elaborate_cylinder(length, r1, r2, nelaborations, with_spheres=false,
rand_idx) {
	if (verbose) {echo("elaborate_cylinder",length, r1, r2, nelaborations,
with_spheres, rand_idx);}
	cyl(length, r1, r2, true);
	for (i = [0:nelaborations]) {
		e = randn(3, rand_idx);
		if (e==0) {
			random_cylinder_protrusions(length, r1, r2, nelaborations, rand_idx+1+i);
		} else if (e==1) {
			random_cylinder_ribs(length, r1, r2, nelaborations, rand_idx+1+i);
		} else if (e==2) {
			random_cylinder_rings(length, r1, r2, nelaborations, rand_idx+1+i);
		}
	}
	//
	if (with_spheres) {
		translate([0, 0, -length / 2.0])
		if (randn(100, rand_idx+2) < 30) {
			if (verbose) {echo("  elab=sph-cyl");}
			difference() {
				sphere(r1, $fn=sph_res);
				//
				translate([0, 0, -r1/2.0])
					cyl(r1 * 1.2, r1 * 0.9, r1 * 0.7, true);
			}
		} else if (randn(100, rand_idx+3) < 30) {
			if (verbose) {echo("  elab=thrustcluster");}
			rotate(180, 0, 1, 0)
				thruster_cluster(r1, rand_idx+4);
		} else {
			if (verbose) {echo("  elab=sphonly");}
			sphere(r1, $fn=sph_res);
		}
		//
		translate([0, 0, length / 2.0])
		if (randn(100, rand_idx+5) < 50) {
			if (verbose) {echo("  sph-r2");}
			sphere(r2, $fn=sph_res);
		} else {
			difference() {
				if (verbose) {echo("  sph2-cyl");}
				sphere(r2, $fn=sph_res);
				//
				translate([0, 0, r2 / 2.0])
					cyl(r1 * 1.2, r2 * 0.9, r2 * 0.7, true);
			}
		}
	}
	//
}

// thruster_module
module thruster_module(length, r1, r2, rand_idx)  {
	if (verbose) {echo("thruster_module", length, r1, r2, rand_idx);}
	nelaborations = randn(2, rand_idx)+1;
	difference()  {
		elaborate_cylinder(length, r1, r2, nelaborations, false, rand_idx+1);
		//
		translate([0, 0, length * 0.05])
			cyl(length, r1 * 0.95, r2 * 0.95, true);
	}
}

// thruster
module thruster_variant(length, r1, r2, rand_idx)  {
	if (verbose) {echo("thruster_variant", length, r1, r2, rand_idx);}
	v = randf(0.3, rand_idx) - 0.15 + 1.0;
	v2 = randf(0.3, rand_idx+1) - 0.15 + 1.0;
	thruster_module(length, r1 * v, r2 * v2, rand_idx+2);
}

// thruster_cluster
module thruster_cluster(r, rand_idx)  {
	if (verbose) {echo("thruster_cluster", rand_idx);}
	ttype = randn(3, rand_idx);
	cyl(r * 0.2, r, r, true);
	v1 = randf(0.3, rand_idx+1) - 0.15 + 1.0;
	v2 = randf(0.3, rand_idx+2) - 0.15 + 1.0;
	v3 = randf(0.3, rand_idx+3) - 0.15 + 1.0;
	translate([0, 0, r * 0.1])  {
		if (ttype==0) {
			if (verbose) {echo("thrust");}
			thruster_variant(r * v1  * 1.5, r * v2 * 0.4, r * v3, rand_idx+4);
		} else {
			if (verbose) {echo("thrust xN");}
			n = randn(7, rand_idx+4) + 2;
			r1 = r * 0.5 * v1;
			r2 = r * 0.2 * v2;
			r3 = r * 0.7;
			thruster_variant(r1 * v3 * 1.5, r1 * v2 * 0.4, r1 * v3, rand_idx+5);
			angle = 360.0 / n;
			for (i=[0:n]) { 
				a = i*angle;
				rotate([0,0,a])
				translate([r3,0,0])
					thruster_module(r2 * v3 * 1.5, r2 * v2 * 0.4, r2 * v3, rand_idx+6+i);
			}
		}
	}
}

// fuselage_module
module fuselage_module(length, r1, r2, rand_idx)  {
	if (verbose) {echo("fuselage_module", rand_idx);}
	nelabs = randn(3, rand_idx) + 2;
	squashx = 1.0;
	squashy = randf(0.5, rand_idx+1) + 0.5;
	if (randn(100, rand_idx+2) < 50) {
		squashx = randf(0.5, rand_idx+3) + 0.5;
		squashy = 1.0;
	}
	scale([squashx, squashy, 1.0]) {
		if (randn(100, rand_idx+4) < 50)
			elaborate_cylinder(length, r1, r2, nelabs, true, rand_idx+5);
		else
			block_pile(length, r1, r2, rand_idx+5); 
	}
}

// spar_module
module spar_module(length, angle, rand_idx)  {
	if (verbose) {echo("spar_module", rand_idx);}
	squash = 0.3 + randf(0.7, rand_idx);
	r = length / (10.0 + randf(10.0, rand_idx+1));
	rotate([0,angle,0])
	scale([1.0, squash, 1.0])
		cyl(length, r, r * randf(0.4, rand_idx+2) + 0.4, false);
}

// pod_module
module pod_module(length, r, rand_idx)  {
	if (verbose) {echo("pod_module", rand_idx);}
	scale([r / 10.0, r / 10.0, length / 20.0])
		sphere(r=10.0, $fn=sph_res);
}


// ring
module ring(length, rand_idx)  {
	if (verbose) {echo("ring", rand_idx);}
	r = length * randf(0.5, rand_idx) + 0.5;
	h = (r * 0.4) - randf(0.2, rand_idx+1);
	difference() {
		cyl(h, r, r, true);
		cyl(h + 1, r * 0.95, r * 0.95, true);
	}
}

// outrigger_module
module outrigger_module(length, rand_idx)  {
	if (verbose) {echo("outrigger_module", rand_idx);}
	dualpod = (randn(100, rand_idx) < 50);
	angle = randn(60, rand_idx+1) + 90;
	//
	spar_length = length;//(1+randn(2));
	spar_module(spar_length, angle, rand_idx+2);
	translate([sin(angle) * spar_length, 0, cos(angle) * spar_length])
	//translate([0,0,spar_length/3/(2+randn(4))]) 
		if (randn(100, rand_idx+2) < 50)
			pod_module(length / 3.0, length / 10.0, rand_idx+3);
		else
			fuselage_module(length / 3.0, length / 10.0, length / 12.0, rand_idx+3);
	//
	if (dualpod) {
		if (verbose) {echo("  dualpod"); }
		dprad = randf(spar_length * 0.8, rand_idx+3) + spar_length * 0.1;
		translate([sin(angle) * dprad, 0, cos(angle) * dprad])
		//translate([0,0,-spar_length/3/(1+randn(4))])     
			if (randn(100, rand_idx+4) < 50)
				pod_module(length / 3.0, length / 10.0, rand_idx+5);
			else
				fuselage_module(length / 3.0, length / 10.0, length / 12.0, rand_idx+5);
	}
	//
	if (randn(100, rand_idx+5) < 10) {
		if (verbose) {echo("  ring");}
		dprad = randf(length * 0.8, rand_idx+6) + length * 0.1;
		translate([0, 0, cos(angle) * dprad])
			ring(length, rand_idx+7);
	}
}

// outrigger_set_module
module outrigger_set_module(maxlength, minlength, rand_idx)  {
	if (verbose) {echo("outrigger_set_module", rand_idx);}
	length = randf(maxlength - minlength, rand_idx) + minlength; 
	if (randn(100, rand_idx+1) < 20) {
		n = randn(8, rand_idx+2) + 1;
		angle = 360.0 / n;
		for (i=[0:n]) {
			rotate([0,0,angle*i])
				outrigger_module(length, rand_idx+2+i);
		}
	} else {
		angle = randn(360, rand_idx+3);
		if (randn(100, rand_idx+4) < 30) {
			angle = randn(4, rand_idx+5) * 90;
		}
		rotate([0, 0, angle])
				outrigger_module(length, rand_idx+6);
	}
}

// cut_in_half
module cut_in_half(size)  {
	if (verbose) {echo("cut in half");}
	intersection() {
		translate([0, -size/2.0, -size/2.0])
			cube(size=size, center=false);
		//
		children(0);
	}
}

// bilaterally_symmetricalize
module bilaterally_symmetricalize(size)  {
	if (verbose) {echo("Symmetry");}
	cut_in_half(size) children(0);
	mirror([1,0,0])
		cut_in_half(size) children(0);
}

// ship_module
module ship_module(rand_idx=0)  { 
	if (verbose) {echo("Ship module");}
	fuselage_module(30 + randn(60), randn(10) + 8, randn(10) + 8, rand_idx);
	outrigger_count = randn(2, rand_idx+1)+1;
	for (i=[0:outrigger_count]) {
		outrigger_set_module(60, 5, rand_idx+2+i);
	}
}


// Main
module ship() {
	if (randn(100) < 20) { 
			echo("ship",$seed);
			bilaterally_symmetricalize(10000) ship_module();
		} else  {
			ship_module();
	}
}

rotate([90,0,0])
	ship();



--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16336.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Mon Mar  7 16:57:39 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Mon, 7 Mar 2016 14:57:39 -0700 (MST)
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457375942864-16327.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<1457375942864-16327.post@n5.nabble.com>
Message-ID: <1457387859619-16337.post@n5.nabble.com>

runsun wrote
> From my understanding, children() looks like a func or module call, that
> it generates something when it is called. In the code below:
>> module m_mirror() { 
>>         children(0); 
>>         mirror([1,0,0]) 
>>                 children(0); 
>> } 
> The children is "called" twice. So anything inside the children code will
> be executed twice, even if rands() is not used. This doesn't look buggy to
> me. 
> 
> In fact it is consistent with how func_call and module_call work --- that
> is, a "( )" indicates "going through the inner code to get a new data". 
> 
> If we want to make a children NOT "CALLED" after the first use, then
> something like 
*
> $children
*
>  might be better.

You could consider that it should only be evaluated again iif its scope has
changed, for example the following with a test on $face in the child would
be a normal use case where you want it evaluated twice.


> module m_mirror() { 
>         $face="front";
>         children(0); 
>         $face="back";
>         mirror([1,0,0]) 
>                 children(0); 
> } 





-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16337.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Mon Mar  7 18:16:16 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Mon, 7 Mar 2016 16:16:16 -0700 (MST)
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <56DDF029.1040405@arnholm.org>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
Message-ID: <1457392576530-16338.post@n5.nabble.com>

You can regard minkowski as an inner product. Which "natural" 3D semantics
would you expect when translations are inserted?

but try this: 

$fn=50;
minkowski()
{
   rotate([45, 45, 0])
  cube([10,10,1]);
  cylinder(r=2,h=1);
}

or this: 

$fn=50;
minkowski()
{
   rotate([45, 45, 0])
  cube([10,10,1]);
  scale([2, 1, 1])
 cylinder(r=2,h=1);
}




--
View this message in context: http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16338.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Mon Mar  7 19:01:32 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 00:01:32 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <1457392576530-16338.post@n5.nabble.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
Message-ID: <CAEEmnrOqh-1GfCYjUOMgFAXZosEBcWwazBTQWKjxiNxx2x7N=g@mail.gmail.com>

>
> It looks like the second object is now swept along the edge of the first
> object, and the area between is almost like a hull. However, if you switch
> the order, the result is the same...
>

A Minkowski sum is commutative so yes if you swap the order you get the
same result.

Is there a more detailed description somewhere on how this really works?
> Are these examples well defined?
>

Yes it is well defined mathematically, see
https://en.wikipedia.org/wiki/Minkowski_addition.

Basically if you think of the origin of one object swept along all the
edges of the other object and unioned together that is the result. All your
examples do what I expect.

On 7 March 2016 at 23:16, Parkinbot <rudolf at parkinbot.com> wrote:

> You can regard minkowski as an inner product. Which "natural" 3D semantics
> would you expect when translations are inserted?
>
> but try this:
>
> $fn=50;
> minkowski()
> {
>    rotate([45, 45, 0])
>   cube([10,10,1]);
>   cylinder(r=2,h=1);
> }
>
> or this:
>
> $fn=50;
> minkowski()
> {
>    rotate([45, 45, 0])
>   cube([10,10,1]);
>   scale([2, 1, 1])
>  cylinder(r=2,h=1);
> }
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16338.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/7dd2b9fe/attachment.html>

From arnholm at arnholm.org  Tue Mar  8 01:15:48 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Tue, 08 Mar 2016 07:15:48 +0100
Subject: [OpenSCAD] =?utf-8?q?Does_Minkowski_work_only_in_2d=3F?=
In-Reply-To: <1457392576530-16338.post@n5.nabble.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
Message-ID: <e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>

On 2016-03-08 00:16, Parkinbot wrote:
> You can regard minkowski as an inner product. Which "natural" 3D 
> semantics
> would you expect when translations are inserted?

What do you mean by inner product in this context? I don't have a lot of 
expectations, but rather trying to understand the definition so I can 
establish expectations of how this is supposed to work.


From nop.head at gmail.com  Tue Mar  8 03:59:56 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 08:59:56 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
Message-ID: <CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>

The definition in simple terms is that the origin of the first object is
placed at every point inside the second object and the results unioned. Of
course that would be an infinite number unless the object was divided into
voxels.

In practice you get exactly the same result sweeping the origin of the
first object along all the edges of the second object. Again infinite but
less so ;-)

If the object is convex than you can place the origin of the first object
at all of the vertices of the second object and take the convex hull. This
is now finite to compute as it is just a hull of all the vertices of one
object added to all the vertices of the other object. This is why you said
some of the results look like a hull. They are. And since vector addition
is commutative, so is Minkowski.

To do Minkowski on concave objects you need to decompose them into multiple
convex ones, do convex Minkowski on those and then union the results.




On 8 March 2016 at 06:15, <arnholm at arnholm.org> wrote:

> On 2016-03-08 00:16, Parkinbot wrote:
>
>> You can regard minkowski as an inner product. Which "natural" 3D semantics
>> would you expect when translations are inserted?
>>
>
> What do you mean by inner product in this context? I don't have a lot of
> expectations, but rather trying to understand the definition so I can
> establish expectations of how this is supposed to work.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/8d1f42dc/attachment.html>

From nop.head at gmail.com  Tue Mar  8 04:25:56 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 09:25:56 +0000
Subject: [OpenSCAD] children() and extra unwanted evaluations
In-Reply-To: <1457387859619-16337.post@n5.nabble.com>
References: <1457175692982-16291.post@n5.nabble.com>
	<5200A7B8-63A6-4230-9B36-AD36D7586816@kintel.net>
	<1457375942864-16327.post@n5.nabble.com>
	<1457387859619-16337.post@n5.nabble.com>
Message-ID: <CAEEmnrMKJ7PuL+mFuPLCdvwQkQZBiAuup7czbY8fD8Qou-sV5Q@mail.gmail.com>

That example sets $face to "back" for both children because of the last
assignment rule in OpenScad. You need to use assign or let or for to get a
different scope for each child.

On 7 March 2016 at 21:57, MichaelAtOz <oz.at.michael at gmail.com> wrote:

> runsun wrote
> > From my understanding, children() looks like a func or module call, that
> > it generates something when it is called. In the code below:
> >> module m_mirror() {
> >>         children(0);
> >>         mirror([1,0,0])
> >>                 children(0);
> >> }
> > The children is "called" twice. So anything inside the children code will
> > be executed twice, even if rands() is not used. This doesn't look buggy
> to
> > me.
> >
> > In fact it is consistent with how func_call and module_call work --- that
> > is, a "( )" indicates "going through the inner code to get a new data".
> >
> > If we want to make a children NOT "CALLED" after the first use, then
> > something like
> *
> > $children
> *
> >  might be better.
>
> You could consider that it should only be evaluated again iif its scope has
> changed, for example the following with a test on $face in the child would
> be a normal use case where you want it evaluated twice.
>
>
> > module m_mirror() {
> >         $face="front";
> >         children(0);
> >         $face="back";
> >         mirror([1,0,0])
> >                 children(0);
> > }
>
>
>
>
>
> -----
> Admin - PM me if you need anything, or if I've done something stupid...
>
> Unless specifically shown otherwise above, my contribution is in the
> Public Domain; to the extent possible under law, I have waived all
> copyright and related or neighbouring rights to this work. Obviously
> inclusion of works of previous authors is not included in the above.
>
> The TPP is no simple ?trade agreement.?   Fight it!
> http://www.ourfairdeal.org/   time is running out!
> --
> View this message in context:
> http://forum.openscad.org/children-and-extra-unwanted-evaluations-tp16291p16337.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/464a8079/attachment.html>

From Torsten.Paul at gmx.de  Tue Mar  8 04:35:51 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 8 Mar 2016 10:35:51 +0100
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>,
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
Message-ID: <trinity-01a29fc0-f213-4058-8675-4a246b7a71c8-1457429751501@3capp-gmx-bs45>

Von:?"nop head" <nop.head at gmail.com>
> If the object is convex than you can place the origin of
> the first object at all of the vertices of the second object
> and take the convex hull. This is now finite to compute as
> it is just a hull of all the vertices of one object added
> to all the vertices of the other object. This is why you
> said some of the results look like a hull. They are. And
> since vector addition is commutative, so is Minkowski.?
>
Yep, that's exactly how it's implemented now. IIRC that
was the optimization Oskar did some time ago.
It uses CGAL to do a convex decomposition and then creates
the convex minkowski meshes and unions those together again.

This is the reason why minkowski now can be very fast if
the convex decomposition produces only a small number of
parts while object like a cube with a sphere cut out are
quite slow as there's a huge performance hit with the final
union operation.

ciao,
  Torsten.


From nop.head at gmail.com  Tue Mar  8 06:04:44 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 11:04:44 +0000
Subject: [OpenSCAD] Peculiar artifact in model generation
In-Reply-To: <1457376509636-16328.post@n5.nabble.com>
References: <1457371727122-16323.post@n5.nabble.com>
	<1457373970937-16325.post@n5.nabble.com>
	<1457375478211-16326.post@n5.nabble.com>
	<1457376509636-16328.post@n5.nabble.com>
Message-ID: <CAEEmnrPRXOFpu7ewxCR0dsgAGyEkSDMoUy4728J5rLVk0WgV-g@mail.gmail.com>

Normally you only need the overlap to overcome numerical inaccuracies due
to floating point to make F6 work. For F5 to work you need enough overlap
to prevent Z buffer fighting.

In this case I think the F6 artefact was due to rotate extrude facets not
lining up with cylinder facets exactly so it had significant thickness.

On 7 March 2016 at 18:48, fred_dot_u <fred_dot_u at yahoo.com> wrote:

> Adding the 0.01 to the outer diameter within the module appeared to have
> resolved the problem.
> Usually I am able to find the answer to my problems simply by phrasing the
> difficulty, confirming it on my end, then discovering my error. I suspected
> it would be necessary to expand a dimension, as I'd had to do so in the
> past. I was unable to identify the best dimension to accomplish the result
> this time.
>
> Thank you for your assistance, off to the printer!
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323p16328.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/424e9247/attachment.html>

From doug at moens.org  Tue Mar  8 07:21:24 2016
From: doug at moens.org (doug moen)
Date: Tue, 8 Mar 2016 07:21:24 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
Message-ID: <CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>

Nop Head said: The definition in simple terms is that the origin of the
first object is placed at every point inside the second object and the
results unioned. Of course that would be an infinite number unless the
object was divided into voxels.

It's not just the origin. Every point within the first object is aligned
with every point within the second object and the results unioned.

If you combine a cube of size 10 with a sphere of diameter 10, you'll get a
rounded cube of size 30.

On Tuesday, 8 March 2016, nop head <nop.head at gmail.com> wrote:

> The definition in simple terms is that the origin of the first object is
> placed at every point inside the second object and the results unioned. Of
> course that would be an infinite number unless the object was divided into
> voxels.
>
> In practice you get exactly the same result sweeping the origin of the
> first object along all the edges of the second object. Again infinite but
> less so ;-)
>
> If the object is convex than you can place the origin of the first object
> at all of the vertices of the second object and take the convex hull. This
> is now finite to compute as it is just a hull of all the vertices of one
> object added to all the vertices of the other object. This is why you said
> some of the results look like a hull. They are. And since vector addition
> is commutative, so is Minkowski.
>
> To do Minkowski on concave objects you need to decompose them into
> multiple convex ones, do convex Minkowski on those and then union the
> results.
>
>
>
>
> On 8 March 2016 at 06:15, <arnholm at arnholm.org
> <javascript:_e(%7B%7D,'cvml','arnholm at arnholm.org');>> wrote:
>
>> On 2016-03-08 00:16, Parkinbot wrote:
>>
>>> You can regard minkowski as an inner product. Which "natural" 3D
>>> semantics
>>> would you expect when translations are inserted?
>>>
>>
>> What do you mean by inner product in this context? I don't have a lot of
>> expectations, but rather trying to understand the definition so I can
>> establish expectations of how this is supposed to work.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> <javascript:_e(%7B%7D,'cvml','Discuss at lists.openscad.org');>
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/f3f8c907/attachment.html>

From nop.head at gmail.com  Tue Mar  8 07:47:19 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 12:47:19 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
Message-ID: <CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>

No that is wrong.

minkowski() {
    cube(10, center = true);
    sphere(d =10);

}

Gives a rounded  20mm cube.


?
If you consider each vertex to be a vector then every possible pair of
vertices are added and the resulting points are hulled. The vertices are
not aligned, they are summed. That is the same as saying the origin of one
object is offset by the vertices of the other.

On 8 March 2016 at 12:21, doug moen <doug at moens.org> wrote:

> Nop Head said: The definition in simple terms is that the origin of the
> first object is placed at every point inside the second object and the
> results unioned. Of course that would be an infinite number unless the
> object was divided into voxels.
>
> It's not just the origin. Every point within the first object is aligned
> with every point within the second object and the results unioned.
>
> If you combine a cube of size 10 with a sphere of diameter 10, you'll get
> a rounded cube of size 30.
>
> On Tuesday, 8 March 2016, nop head <nop.head at gmail.com> wrote:
>
>> The definition in simple terms is that the origin of the first object is
>> placed at every point inside the second object and the results unioned. Of
>> course that would be an infinite number unless the object was divided into
>> voxels.
>>
>> In practice you get exactly the same result sweeping the origin of the
>> first object along all the edges of the second object. Again infinite but
>> less so ;-)
>>
>> If the object is convex than you can place the origin of the first object
>> at all of the vertices of the second object and take the convex hull. This
>> is now finite to compute as it is just a hull of all the vertices of one
>> object added to all the vertices of the other object. This is why you said
>> some of the results look like a hull. They are. And since vector addition
>> is commutative, so is Minkowski.
>>
>> To do Minkowski on concave objects you need to decompose them into
>> multiple convex ones, do convex Minkowski on those and then union the
>> results.
>>
>>
>>
>>
>> On 8 March 2016 at 06:15, <arnholm at arnholm.org> wrote:
>>
>>> On 2016-03-08 00:16, Parkinbot wrote:
>>>
>>>> You can regard minkowski as an inner product. Which "natural" 3D
>>>> semantics
>>>> would you expect when translations are inserted?
>>>>
>>>
>>> What do you mean by inner product in this context? I don't have a lot of
>>> expectations, but rather trying to understand the definition so I can
>>> establish expectations of how this is supposed to work.
>>>
>>> _______________________________________________
>>> OpenSCAD mailing list
>>> Discuss at lists.openscad.org
>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>
>>
>>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/1e7fa4fa/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rcube.png
Type: image/png
Size: 23018 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/1e7fa4fa/attachment.png>

From nop.head at gmail.com  Tue Mar  8 07:52:08 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 12:52:08 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
Message-ID: <CAEEmnrPaYHTyLzvy79MQ0WCSE0zoo2FdJ7PYc+2pBBcbuhUb7w@mail.gmail.com>

This produces exactly the same result as it is what OpenScad does
internally for convex shapes.

hull()
    for(x =[-5, 5], y = [-5, 5], z = [-5, 5])
        translate([x, y, z])
            sphere(d = 10);


On 8 March 2016 at 12:47, nop head <nop.head at gmail.com> wrote:

> No that is wrong.
>
> minkowski() {
>     cube(10, center = true);
>     sphere(d =10);
>
> }
>
> Gives a rounded  20mm cube.
>
>
> ?
> If you consider each vertex to be a vector then every possible pair of
> vertices are added and the resulting points are hulled. The vertices are
> not aligned, they are summed. That is the same as saying the origin of one
> object is offset by the vertices of the other.
>
> On 8 March 2016 at 12:21, doug moen <doug at moens.org> wrote:
>
>> Nop Head said: The definition in simple terms is that the origin of the
>> first object is placed at every point inside the second object and the
>> results unioned. Of course that would be an infinite number unless the
>> object was divided into voxels.
>>
>> It's not just the origin. Every point within the first object is aligned
>> with every point within the second object and the results unioned.
>>
>> If you combine a cube of size 10 with a sphere of diameter 10, you'll get
>> a rounded cube of size 30.
>>
>> On Tuesday, 8 March 2016, nop head <nop.head at gmail.com> wrote:
>>
>>> The definition in simple terms is that the origin of the first object is
>>> placed at every point inside the second object and the results unioned. Of
>>> course that would be an infinite number unless the object was divided into
>>> voxels.
>>>
>>> In practice you get exactly the same result sweeping the origin of the
>>> first object along all the edges of the second object. Again infinite but
>>> less so ;-)
>>>
>>> If the object is convex than you can place the origin of the first
>>> object at all of the vertices of the second object and take the convex
>>> hull. This is now finite to compute as it is just a hull of all the
>>> vertices of one object added to all the vertices of the other object. This
>>> is why you said some of the results look like a hull. They are. And since
>>> vector addition is commutative, so is Minkowski.
>>>
>>> To do Minkowski on concave objects you need to decompose them into
>>> multiple convex ones, do convex Minkowski on those and then union the
>>> results.
>>>
>>>
>>>
>>>
>>> On 8 March 2016 at 06:15, <arnholm at arnholm.org> wrote:
>>>
>>>> On 2016-03-08 00:16, Parkinbot wrote:
>>>>
>>>>> You can regard minkowski as an inner product. Which "natural" 3D
>>>>> semantics
>>>>> would you expect when translations are inserted?
>>>>>
>>>>
>>>> What do you mean by inner product in this context? I don't have a lot
>>>> of expectations, but rather trying to understand the definition so I can
>>>> establish expectations of how this is supposed to work.
>>>>
>>>> _______________________________________________
>>>> OpenSCAD mailing list
>>>> Discuss at lists.openscad.org
>>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>>
>>>
>>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/c59b58a5/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rcube.png
Type: image/png
Size: 23018 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/c59b58a5/attachment.png>

From doug at moens.org  Tue Mar  8 08:58:42 2016
From: doug at moens.org (doug moen)
Date: Tue, 8 Mar 2016 08:58:42 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
Message-ID: <CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>

Thank you for correcting me, Nop Head. I've been confused about this for a
while.

On 8 March 2016 at 07:47, nop head <nop.head at gmail.com> wrote:

> No that is wrong.
>
> minkowski() {
>     cube(10, center = true);
>     sphere(d =10);
>
> }
>
> Gives a rounded  20mm cube.
>
>
> ?
> If you consider each vertex to be a vector then every possible pair of
> vertices are added and the resulting points are hulled. The vertices are
> not aligned, they are summed. That is the same as saying the origin of one
> object is offset by the vertices of the other.
>
> On 8 March 2016 at 12:21, doug moen <doug at moens.org> wrote:
>
>> Nop Head said: The definition in simple terms is that the origin of the
>> first object is placed at every point inside the second object and the
>> results unioned. Of course that would be an infinite number unless the
>> object was divided into voxels.
>>
>> It's not just the origin. Every point within the first object is aligned
>> with every point within the second object and the results unioned.
>>
>> If you combine a cube of size 10 with a sphere of diameter 10, you'll get
>> a rounded cube of size 30.
>>
>> On Tuesday, 8 March 2016, nop head <nop.head at gmail.com> wrote:
>>
>>> The definition in simple terms is that the origin of the first object is
>>> placed at every point inside the second object and the results unioned. Of
>>> course that would be an infinite number unless the object was divided into
>>> voxels.
>>>
>>> In practice you get exactly the same result sweeping the origin of the
>>> first object along all the edges of the second object. Again infinite but
>>> less so ;-)
>>>
>>> If the object is convex than you can place the origin of the first
>>> object at all of the vertices of the second object and take the convex
>>> hull. This is now finite to compute as it is just a hull of all the
>>> vertices of one object added to all the vertices of the other object. This
>>> is why you said some of the results look like a hull. They are. And since
>>> vector addition is commutative, so is Minkowski.
>>>
>>> To do Minkowski on concave objects you need to decompose them into
>>> multiple convex ones, do convex Minkowski on those and then union the
>>> results.
>>>
>>>
>>>
>>>
>>> On 8 March 2016 at 06:15, <arnholm at arnholm.org> wrote:
>>>
>>>> On 2016-03-08 00:16, Parkinbot wrote:
>>>>
>>>>> You can regard minkowski as an inner product. Which "natural" 3D
>>>>> semantics
>>>>> would you expect when translations are inserted?
>>>>>
>>>>
>>>> What do you mean by inner product in this context? I don't have a lot
>>>> of expectations, but rather trying to understand the definition so I can
>>>> establish expectations of how this is supposed to work.
>>>>
>>>> _______________________________________________
>>>> OpenSCAD mailing list
>>>> Discuss at lists.openscad.org
>>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>>
>>>
>>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/63e0eaeb/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rcube.png
Type: image/png
Size: 23018 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/63e0eaeb/attachment.png>

From fred_dot_u at yahoo.com  Tue Mar  8 09:01:57 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Tue, 8 Mar 2016 07:01:57 -0700 (MST)
Subject: [OpenSCAD] Peculiar artifact in model generation
In-Reply-To: <CAEEmnrPRXOFpu7ewxCR0dsgAGyEkSDMoUy4728J5rLVk0WgV-g@mail.gmail.com>
References: <1457371727122-16323.post@n5.nabble.com>
	<1457373970937-16325.post@n5.nabble.com>
	<1457375478211-16326.post@n5.nabble.com>
	<1457376509636-16328.post@n5.nabble.com>
	<CAEEmnrPRXOFpu7ewxCR0dsgAGyEkSDMoUy4728J5rLVk0WgV-g@mail.gmail.com>
Message-ID: <1457445717950-16351.post@n5.nabble.com>

I was able to remove the artifact with a 0.01 fudge addition. I like the
explanation of the mismatch of facets to explain the appearance. I'm not so
obsessed with precision that I can't accept a 0.01 adjustment.

The overhang for the pulley groove has proven to be excessively challenging
for my Flux Delta, so I had to move to the toy printer, a Cube 3rd gen, and
use wash-away support material. Only an hour remains to determine how
successful that is.



--
View this message in context: http://forum.openscad.org/Peculiar-artifact-in-model-generation-tp16323p16351.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Tue Mar  8 17:48:38 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Tue, 8 Mar 2016 23:48:38 +0100
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
Message-ID: <56DF56C6.6050104@arnholm.org>

On 08. mars 2016 14:58, doug moen wrote:
> I've been confused about this for a while.

The discussion is kind of interesting, but my overall impression is that 
minkowski is rarely useful in practice as it can be difficult for an end 
user to predict/understand what it does and where the result will end up 
in relation to other parts.

Carsten Arnholm



From rudolf at parkinbot.com  Tue Mar  8 17:51:49 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 8 Mar 2016 15:51:49 -0700 (MST)
Subject: [OpenSCAD] pyopenscad spline-based curved box function
In-Reply-To: <1457459286872-16353.post@n5.nabble.com>
References: <1457459286872-16353.post@n5.nabble.com>
Message-ID: <1457477509113-16355.post@n5.nabble.com>

Why would one use splines for that? In OpenScad just a few lines: 

$fn = 50; 
minkowski()
{
  sphere(5); 
  cube([20, 30, 10]); 
}



--
View this message in context: http://forum.openscad.org/pyopenscad-spline-based-curved-box-function-tp16353p16355.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Tue Mar  8 18:35:29 2016
From: doug at moens.org (doug moen)
Date: Tue, 8 Mar 2016 18:35:29 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <56DF56C6.6050104@arnholm.org>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
Message-ID: <CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>

Minkowski with a centred sphere is a useful operation that inflates an
object like a balloon, producing rounded corners. If the sphere has radius
r, then the new inflated object boundary will be exactly r units away from
the original boundary at all points.

That's the only practical application of minkowski that I know, but it's a
pretty good application, and not difficult to understand on its own.

On 8 March 2016 at 17:48, Carsten Arnholm <arnholm at arnholm.org> wrote:

> On 08. mars 2016 14:58, doug moen wrote:
>
>> I've been confused about this for a while.
>>
>
> The discussion is kind of interesting, but my overall impression is that
> minkowski is rarely useful in practice as it can be difficult for an end
> user to predict/understand what it does and where the result will end up in
> relation to other parts.
>
> Carsten Arnholm
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/9e7d84a0/attachment.html>

From andrew at plumb.org  Tue Mar  8 18:56:50 2016
From: andrew at plumb.org (Andrew Plumb)
Date: Tue, 8 Mar 2016 18:56:50 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
Message-ID: <D2C4308C-3F43-45BF-B78F-DE92FA0EAE30@plumb.org>

Things get more interesting when you think of it in terms of ?shape-directed growth?.  Combine a few minkowski() with difference() and/or intersection() operators and you get things like this:

2D:  https://github.com/clothbot/ClothBotCreations/blob/master/examples/directional_minkowski.scad <https://github.com/clothbot/ClothBotCreations/blob/master/examples/directional_minkowski.scad>

3D:  https://github.com/clothbot/ClothBotCreations/blob/master/utilities/directed_minkowski.scad <https://github.com/clothbot/ClothBotCreations/blob/master/utilities/directed_minkowski.scad>

?or for something really fancy (caveat: the default ?rotated cube? example takes a while to render):

https://github.com/clothbot/ClothBotCreations/blob/master/examples/quantize.scad <https://github.com/clothbot/ClothBotCreations/blob/master/examples/quantize.scad>

Andrew

> On Mar 8, 2016, at 6:35 PM, doug moen <doug at moens.org> wrote:
> 
> Minkowski with a centred sphere is a useful operation that inflates an object like a balloon, producing rounded corners. If the sphere has radius r, then the new inflated object boundary will be exactly r units away from the original boundary at all points.
> 
> That's the only practical application of minkowski that I know, but it's a pretty good application, and not difficult to understand on its own.
> 
> On 8 March 2016 at 17:48, Carsten Arnholm <arnholm at arnholm.org <mailto:arnholm at arnholm.org>> wrote:
> On 08. mars 2016 14:58, doug moen wrote:
> I've been confused about this for a while.
> 
> The discussion is kind of interesting, but my overall impression is that minkowski is rarely useful in practice as it can be difficult for an end user to predict/understand what it does and where the result will end up in relation to other parts.
> 
> Carsten Arnholm
> 
> 
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org <http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org>
> 
> 
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

--

"The future is already here.  It's just not very evenly distributed" -- William Gibson

Me: http://clothbot.com/wiki/ <http://clothbot.com/wiki/>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/51bb7004/attachment.html>

From nop.head at gmail.com  Tue Mar  8 18:58:41 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 8 Mar 2016 23:58:41 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
Message-ID: <CAEEmnrObREP6c4fkyoamZ4mLB0pYoCi+a-tndFCv4BKdhByMJQ@mail.gmail.com>

Sometimes I have used an inverted truncated teardrop instead of a sphere so
I get a rounded object but the bottom is still printable without support.

Other times I have use part of a sphere to round the front of an object but
leave the back flat.

I don't have any problem understanding what it will do or where the results
end up. As I said before it simply sweeps the origin of one object through
all the edges of the other. If each object has an offset from the origin
then the result will have the sum of those offsets from the origin. All the
vertices of the result are a vector sum of two vertices one from each of
the original objects.

On 8 March 2016 at 23:35, doug moen <doug at moens.org> wrote:

> Minkowski with a centred sphere is a useful operation that inflates an
> object like a balloon, producing rounded corners. If the sphere has radius
> r, then the new inflated object boundary will be exactly r units away from
> the original boundary at all points.
>
> That's the only practical application of minkowski that I know, but it's a
> pretty good application, and not difficult to understand on its own.
>
> On 8 March 2016 at 17:48, Carsten Arnholm <arnholm at arnholm.org> wrote:
>
>> On 08. mars 2016 14:58, doug moen wrote:
>>
>>> I've been confused about this for a while.
>>>
>>
>> The discussion is kind of interesting, but my overall impression is that
>> minkowski is rarely useful in practice as it can be difficult for an end
>> user to predict/understand what it does and where the result will end up in
>> relation to other parts.
>>
>> Carsten Arnholm
>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/84d24c59/attachment.html>

From mschafer at wireframe.biz  Tue Mar  8 18:59:55 2016
From: mschafer at wireframe.biz (Neon22)
Date: Tue, 8 Mar 2016 16:59:55 -0700 (MST)
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <56DF56C6.6050104@arnholm.org>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
Message-ID: <1457481595647-16359.post@n5.nabble.com>

I find minkowski generally useful but leads to lazy thinking. Its convenient
to use a cylider 0.1 high and minkowski - when in fact I should be using
offset etc.

So I think a lot of people use it instead of doing it a simpler way which
requires more thinking about what they want to achieve. The length of time
it takes to process is the balancing factor, as this forces you to
reconsider your choices when its taking ages to build :)

I may be incorrect but I think having the minkowski is one of the only
reasons (and hull) we still use nef_polyhedron and the CGAL. I mean the
difficulty in coding a replacement in a faster library...
However - its hard to give up the minkowski... its seductive....

and the hull is fantastically useful of course.



--
View this message in context: http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16359.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Tue Mar  8 19:09:05 2016
From: nop.head at gmail.com (nop head)
Date: Wed, 9 Mar 2016 00:09:05 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <1457481595647-16359.post@n5.nabble.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<1457481595647-16359.post@n5.nabble.com>
Message-ID: <CAEEmnrNzXv-_UpoK-jBC+khDs=uCeQfZ2WL_P1MsDH06hFWUZQ@mail.gmail.com>

Hull is relatively easy to implement and so is convex Minkowski. Concave
Minkowski needs convex decomposition and union. I haven't looked how hard
decomposition is. I know union is more difficult than hull but any CSG
library will have it.

On 8 March 2016 at 23:59, Neon22 <mschafer at wireframe.biz> wrote:

> I find minkowski generally useful but leads to lazy thinking. Its
> convenient
> to use a cylider 0.1 high and minkowski - when in fact I should be using
> offset etc.
>
> So I think a lot of people use it instead of doing it a simpler way which
> requires more thinking about what they want to achieve. The length of time
> it takes to process is the balancing factor, as this forces you to
> reconsider your choices when its taking ages to build :)
>
> I may be incorrect but I think having the minkowski is one of the only
> reasons (and hull) we still use nef_polyhedron and the CGAL. I mean the
> difficulty in coding a replacement in a faster library...
> However - its hard to give up the minkowski... its seductive....
>
> and the hull is fantastically useful of course.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16359.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/18035e47/attachment.html>

From andrew at plumb.org  Tue Mar  8 19:12:56 2016
From: andrew at plumb.org (Andrew Plumb)
Date: Tue, 8 Mar 2016 19:12:56 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAEEmnrNzXv-_UpoK-jBC+khDs=uCeQfZ2WL_P1MsDH06hFWUZQ@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<1457481595647-16359.post@n5.nabble.com>
	<CAEEmnrNzXv-_UpoK-jBC+khDs=uCeQfZ2WL_P1MsDH06hFWUZQ@mail.gmail.com>
Message-ID: <AB3734E2-55A8-4F95-8D0B-4BAB4A1DEB09@plumb.org>

I opened a couple of related issues on the subject: https://github.com/openscad/openscad/issues/1562 <https://github.com/openscad/openscad/issues/1562> and https://github.com/openscad/openscad/issues/1590 <https://github.com/openscad/openscad/issues/1590>


> On Mar 8, 2016, at 7:09 PM, nop head <nop.head at gmail.com> wrote:
> 
> Hull is relatively easy to implement and so is convex Minkowski. Concave Minkowski needs convex decomposition and union. I haven't looked how hard decomposition is. I know union is more difficult than hull but any CSG library will have it.
> 
> On 8 March 2016 at 23:59, Neon22 <mschafer at wireframe.biz <mailto:mschafer at wireframe.biz>> wrote:
> I find minkowski generally useful but leads to lazy thinking. Its convenient
> to use a cylider 0.1 high and minkowski - when in fact I should be using
> offset etc.
> 
> So I think a lot of people use it instead of doing it a simpler way which
> requires more thinking about what they want to achieve. The length of time
> it takes to process is the balancing factor, as this forces you to
> reconsider your choices when its taking ages to build :)
> 
> I may be incorrect but I think having the minkowski is one of the only
> reasons (and hull) we still use nef_polyhedron and the CGAL. I mean the
> difficulty in coding a replacement in a faster library...
> However - its hard to give up the minkowski... its seductive....
> 
> and the hull is fantastically useful of course.
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16359.html <http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16359.html>
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org <http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org>
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

--

"The future is already here.  It's just not very evenly distributed" -- William Gibson

Me: http://clothbot.com/wiki/ <http://clothbot.com/wiki/>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/e247a228/attachment.html>

From doug at moens.org  Tue Mar  8 19:23:32 2016
From: doug at moens.org (doug moen)
Date: Tue, 8 Mar 2016 19:23:32 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <1457481595647-16359.post@n5.nabble.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<1457481595647-16359.post@n5.nabble.com>
Message-ID: <CAGV6i+Pxdk-x5FM4O_BYXj7iY5ST94XBYxnesxpdEdHnAgmgDA@mail.gmail.com>

@Neon22 "I think having the minkowski is one of the only reasons (and hull)
we still use nef_polyhedron and the CGAL."

CGAL is more accurate and robust than any other CSG package, at the expense
of being slow. So it's a tradeoff, and what we probably should do is give
users a configuration choice between CGAL and another package. That way, if
your model blows up using fast CSG, then you can switch to CGAL and get
your work done.

On 8 March 2016 at 18:59, Neon22 <mschafer at wireframe.biz> wrote:

> I find minkowski generally useful but leads to lazy thinking. Its
> convenient
> to use a cylider 0.1 high and minkowski - when in fact I should be using
> offset etc.
>
> So I think a lot of people use it instead of doing it a simpler way which
> requires more thinking about what they want to achieve. The length of time
> it takes to process is the balancing factor, as this forces you to
> reconsider your choices when its taking ages to build :)
>
> I may be incorrect but I think having the minkowski is one of the only
> reasons (and hull) we still use nef_polyhedron and the CGAL. I mean the
> difficulty in coding a replacement in a faster library...
> However - its hard to give up the minkowski... its seductive....
>
> and the hull is fantastically useful of course.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16359.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160308/646e3063/attachment.html>

From alan at lxorguk.ukuu.org.uk  Tue Mar  8 19:50:16 2016
From: alan at lxorguk.ukuu.org.uk (Alan Cox)
Date: Wed, 9 Mar 2016 00:50:16 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
Message-ID: <20160309005016.5f313fc1@www.etchedpixels.co.uk>

On Tue, 8 Mar 2016 18:35:29 -0500
doug moen <doug at moens.org> wrote:

> Minkowski with a centred sphere is a useful operation that inflates an
> object like a balloon, producing rounded corners. If the sphere has radius
> r, then the new inflated object boundary will be exactly r units away from
> the original boundary at all points.

It's usually easier to use cylinders and spheres and hull() in my
experience - and a ton faster.
> 
> That's the only practical application of minkowski that I know, but it's a
> pretty good application, and not difficult to understand on its own.

Another really useful one is turning a solid object into a skin with a
defined wall thickness.

subtract the original from a solid block
minkowski that with a wall thickness sphere
intersect it with the original

Very useful when rescaling models and you want a constant wall thickness.

Alan


From amarjeet.kapoor1 at gmail.com  Tue Mar  8 20:35:37 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Wed, 9 Mar 2016 07:05:37 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <56DDEC04.6090302@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
Message-ID: <CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>

On Mar 8, 2016 2:32 AM, "Torsten Paul" <Torsten.Paul at gmx.de> wrote:
>
> Hi!
>
> Welcome to the list.
>

Thanks Torsten.

> Yes, that's a good summary of the core functionality. The github issue
> has links to some short screencasts that illustrate how it could look
> like. I guess the first challenge is to divide the topic into smaller
> parts that can be handled easily. This is certainly a project where
> it's possible to get lost in all the ideas that can be put into it :-).

Yes, your right about geting lost in all the ideas for projects like this.

At Present I am trying to know the software little bit from user's point of
veiw. so, as to know is their anything provided to user by openscad that
can be used in for above project like system arguments while executing the
.scad file.

And I have not found the developer's documentation of openscad just found
some charts which provided information regarding how a module in .scad file
is run by opensacd but it doesn't tells in which file the starting code
exits or relationship and functionality of code in each file.

Would you guide me from where can I get an abstract view of the softwares
based on flow of data in openscad.

-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/06844b35/attachment.html>

From sarangpande at gmail.com  Wed Mar  9 00:26:01 2016
From: sarangpande at gmail.com (Sarang Pande)
Date: Wed, 9 Mar 2016 10:56:01 +0530
Subject: [OpenSCAD] Fwd: STTP on Additive Manufacturing
In-Reply-To: <CAGjnhXkvE-wSSLLU+L8TXSzBU5BRoGoku5eZPjPefjy1OU-Ytw@mail.gmail.com>
References: <CADcqMHmDgK53kjtU+Jm6adXeObUzFZUM_MoE6ehxc+_6pwAtaA@mail.gmail.com>
	<CADcqMHmNnBUM9uEB7T3Bqj4L_Bk5CEVuDs1xKSAYkjzHO8bziQ@mail.gmail.com>
	<CADcqMHmxjDRVZtr9oOc-vLrtki7fTEFgcETZ_uhDGb=gGUAjAg@mail.gmail.com>
	<CAGjnhXkvE-wSSLLU+L8TXSzBU5BRoGoku5eZPjPefjy1OU-Ytw@mail.gmail.com>
Message-ID: <CAGjnhX=ABg-2FY1WrUxKK-grHENWbuJ8Z8sU-MPTUf9P5yh-uA@mail.gmail.com>

Dear Sir / Madam,

It gives me a great pleasure in announcing that Department of Mechanical
Engineering of Marwadi Education Foundation, Rajkot, is organising
??
??
F
??
ive day Short Term Training Program on Additive Manufacturing during April
25 ? 29, 2016. The objective of this workshop is to provide participants an
opportunity to get an exposure of future technologies in the manufacturing
industry. This technology will be adopted for better production from
quality and quantity point of view.

You and members from your departmen
??
t are most welcome to this STTP at MEFGI, Rajkot during 25-29 Apr, 2016.
Participants are requested to send the duly filled complete form before
March 25, 2016. Limited numbers of seats are available on first come first
serve basis.

With regards.

Sarang Pande

-------
Dr. Sarang Pande
MEFGI, Rajkot
+91 75830 30722
+91 94257 49058
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/6bc98c2e/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Brochure STTP AM.pdf
Type: application/pdf
Size: 1086005 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/6bc98c2e/attachment.pdf>

From arnholm at arnholm.org  Wed Mar  9 02:24:19 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Wed, 09 Mar 2016 08:24:19 +0100
Subject: [OpenSCAD] =?utf-8?q?Does_Minkowski_work_only_in_2d=3F?=
In-Reply-To: <1457481595647-16359.post@n5.nabble.com>
References: <56DDEE85.5000504@arnholm.org> <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org> <1457481595647-16359.post@n5.nabble.com>
Message-ID: <74e8d92ae74251df10d205e3c6b4914d@arnholm.org>

On 2016-03-09 00:59, Neon22 wrote:
> I may be incorrect but I think having the minkowski is one of the only
> reasons (and hull) we still use nef_polyhedron and the CGAL. I mean the
> difficulty in coding a replacement in a faster library...
> However - its hard to give up the minkowski... its seductive....
> 
> and the hull is fantastically useful of course.

Not sure about minkowski, but for hull you don't need CGAL.

Carsten Arnholm


From Torsten.Paul at gmx.de  Wed Mar  9 02:34:46 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Wed, 9 Mar 2016 08:34:46 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
Message-ID: <56DFD216.8000508@gmx.de>

On 03/09/2016 02:35 AM, Amarjeet Kapoor wrote:
> And I have not found the developer's documentation of openscad
> just found some charts which provided information regarding how
> a module in .scad file is run by opensacd but it doesn't tells
> in which file the starting code exits or relationship and
> functionality of code in each file.
>
There is an overview of the main flow and relation of the core
objects in:
https://github.com/openscad/openscad/blob/master/doc/OpenSCAD-compile.pdf
Otherwise the existing developer documentation focuses more on
things like building the application on various platforms.

For myself I found the best strategy to get to know new code
base is to find some small topic and dig into the part of code
that is related to this. Understanding then grows from there.
Sitting down and trying to understand all details of the code
by just looking at it is a very scary and dreary work and rarely
needed to be productive.

> Would you guide me from where can I get an abstract view of
> the softwares based on flow of data in openscad.
>
The PDF mentioned above shows the main steps involved when
compiling and displaying a model. This is a good base for
understanding OpenSCAD in general and will also help a bit
for the "Customizer" project. It's probably not needed to
understand every detail to work on the project. A big part
of this project is also GUI/Qt to give the user the means
to modify the parameters.

In parallel, I'd suggest to just get the code from github and
get it compiling. For GSoC we'll follow the framework of our
umbrella org BRL-CAD, so a small and simple patch would be
required as well. This could be one of the tasks tagged as
"low hanging" in github, or we can discuss some other options
(probably easier in a more interactive way on IRC).

ciao,
  Torsten.



From amarjeet.kapoor1 at gmail.com  Wed Mar  9 03:14:27 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Wed, 9 Mar 2016 13:44:27 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <56DFD216.8000508@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
Message-ID: <CABskhPNdUb=-Egs-HZsRyWZraqr_gPdUEA7NnyvfMTdMqND2nA@mail.gmail.com>

On Mar 9, 2016 1:05 PM, "Torsten Paul" <Torsten.Paul at gmx.de> wrote:
> There is an overview of the main flow and relation of the core
> objects in:
> https://github.com/openscad/openscad/blob/master/doc/OpenSCAD-compile.pdf
> Otherwise the existing developer documentation focuses more on
> things like building the application on various platforms.
>

Thanks I will go through.

<snipe>

> In parallel, I'd suggest to just get the code from github and
> get it compiling. For GSoC we'll follow the framework of our
> umbrella org BRL-CAD, so a small and simple patch would be
> required as well. This could be one of the tasks tagged as
> "low hanging" in github, or we can discuss some other options
> (probably easier in a more interactive way on IRC).

Yes, sure  and I have complied it.

-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/c5bb68d5/attachment.html>

From bioinformatics at gringene.org  Wed Mar  9 04:02:00 2016
From: bioinformatics at gringene.org (David Eccles (gringer))
Date: Wed, 9 Mar 2016 02:02:00 -0700 (MST)
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <20160309005016.5f313fc1@www.etchedpixels.co.uk>
References: <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
	<20160309005016.5f313fc1@www.etchedpixels.co.uk>
Message-ID: <1457514120883-16369.post@n5.nabble.com>

I've used Minkowski for making bevelled indents for cookie stamps:

http://www.thingiverse.com/thing:199200

And for making bevelled text:

http://www.thingiverse.com/thing:865304

And bevelled edges on a maze:

http://www.thingiverse.com/thing:212652

... in short, I use it a bit like a chisel. I have yet to find a use for it
beyond making edges look nicer, though.



--
View this message in context: http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16369.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Wed Mar  9 05:00:23 2016
From: nop.head at gmail.com (nop head)
Date: Wed, 9 Mar 2016 10:00:23 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <1457514120883-16369.post@n5.nabble.com>
References: <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
	<20160309005016.5f313fc1@www.etchedpixels.co.uk>
	<1457514120883-16369.post@n5.nabble.com>
Message-ID: <CAEEmnrOencCvHEdYEsd9NvvHtCypTFUqamjmfAMpL6QwFiuF+g@mail.gmail.com>

>It's usually easier to use cylinders and spheres and hull() in my
experience - and a ton faster.

You can only do that when the object is convex and that is now exactly what
OpenScad does internally for convex shapes with Mincowkski. It doesn't use
CGAL unless you do a convex shape.

On 9 March 2016 at 09:02, David Eccles (gringer) <
bioinformatics at gringene.org> wrote:

> I've used Minkowski for making bevelled indents for cookie stamps:
>
> http://www.thingiverse.com/thing:199200
>
> And for making bevelled text:
>
> http://www.thingiverse.com/thing:865304
>
> And bevelled edges on a maze:
>
> http://www.thingiverse.com/thing:212652
>
> ... in short, I use it a bit like a chisel. I have yet to find a use for it
> beyond making edges look nicer, though.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Does-Minkowski-work-only-in-2d-tp16334p16369.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/cd56d5ac/attachment.html>

From alan at lxorguk.ukuu.org.uk  Wed Mar  9 05:06:18 2016
From: alan at lxorguk.ukuu.org.uk (Alan Cox)
Date: Wed, 9 Mar 2016 10:06:18 +0000
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <CAEEmnrOencCvHEdYEsd9NvvHtCypTFUqamjmfAMpL6QwFiuF+g@mail.gmail.com>
References: <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
	<20160309005016.5f313fc1@www.etchedpixels.co.uk>
	<1457514120883-16369.post@n5.nabble.com>
	<CAEEmnrOencCvHEdYEsd9NvvHtCypTFUqamjmfAMpL6QwFiuF+g@mail.gmail.com>
Message-ID: <20160309100618.254d5352@www.etchedpixels.co.uk>

On Wed, 9 Mar 2016 10:00:23 +0000
nop head <nop.head at gmail.com> wrote:

> >It's usually easier to use cylinders and spheres and hull() in my  
> experience - and a ton faster.
> 
> You can only do that when the object is convex and that is now exactly what
> OpenScad does internally for convex shapes with Mincowkski. It doesn't use
> CGAL unless you do a convex shape.

I do it for quite a few concave objects by doing them in bits and
unioning. Tedious but sometimes needed.

Sounds like I need to update my OpenSCAD if convex Minkowski is now done
with hull() automatically.

Thanks

Alan


From jpmendes54 at gmail.com  Wed Mar  9 10:17:31 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 9 Mar 2016 08:17:31 -0700 (MST)
Subject: [OpenSCAD] Export seperate objects
In-Reply-To: <1457532710784-16373.post@n5.nabble.com>
References: <1457532710784-16373.post@n5.nabble.com>
Message-ID: <1457536651628-16374.post@n5.nabble.com>

Hello,

One day we will get there I hope. Meanwhile you should generate the objects
separately and export one at time.
Eventually using a python script  and calling OpenSCAD in command mode you
can do that, but I'm not a python/programmer specialist so I can't tell you
how to.
The way I'm seeing it is to create a module for the "actions" and then
generate the set of objects as children. 
If you search the forum for "export from script" you will find some threads
about the subject. 

Cheers
jpmendes



--
View this message in context: http://forum.openscad.org/Export-seperate-objects-tp16373p16374.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Wed Mar  9 11:00:52 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Wed, 09 Mar 2016 17:00:52 +0100
Subject: [OpenSCAD] Export seperate objects
In-Reply-To: <1457536651628-16374.post@n5.nabble.com>
References: <1457532710784-16373.post@n5.nabble.com>
	<1457536651628-16374.post@n5.nabble.com>
Message-ID: <d55a8af4b674b8c879bf08ffbcd7b2a6@arnholm.org>

phlipp wrote:
> I could not find any solution for that, so I hope to get any help here. 
> Taking the
> following code for example:

for(x=[0:10:40]) translate([x, 0, 0]) {
     cube(center=true, size=5);
}

> As expected, it generates four cubes.

five, actually...

> If I export that as *.stl and import it into
> blender, it appears as one single Object, having a ?four cube 
> geometry?.

The simple solution in OpenSCAD is to create and export each part 
separately. But if you insist on doing it in one go, you need to use 
another tool. AngelScript CSG can do it:

==========
shape@ main_shape()
{
    solid@[] shapes;
    for(int i=0;i<5;i++) {
       double x = 10+i*10;
       shapes.push_back(translate(x,0,0)*cube(center:true,size:5));
       shapes[i].write_csg(GetOutputFullPath('part'+i+'.csg'));
    }
    return union3d(shapes);
}

void main()
{
    shape@ obj = main_shape();
    obj.write_csg(GetOutputFullPath('.csg'));
}

===============

This generates messages:

Created OpenSCAD file: ..\samples\separate_example.part1.csg
Created OpenSCAD file: ..\samples\separate_example.part2.csg
Created OpenSCAD file: ..\samples\separate_example.part3.csg
Created OpenSCAD file: ..\samples\separate_example.part4.csg
Created OpenSCAD file: ..\samples\separate_example.part5.csg
Created OpenSCAD file: ..\samples\separate_example.csg

I.e. one OpenSCAD file per part + one with all as in your original 
example. The above will run in the latest public version 
http://arnholm.org/using-angelscript-csg/ . You would still use OpenSCAD 
for creating STL for each part.

[ In an upcoming version it will be possible to use named parameters 
similar to your example, i.e. it would become: cube(center:true,size:5)) 
]

Carsten Arnholm


From rcmpersiano at gmail.com  Wed Mar  9 12:25:55 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 9 Mar 2016 10:25:55 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457457869508-16352.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457457869508-16352.post@n5.nabble.com>
Message-ID: <1457544355190-16376.post@n5.nabble.com>

Hi, lkcl.

That was your second mention to a non-NP-completeness of OpenSCAD language.
What do you by that? I know the expression relative to problems and
algorithms only.

Ronaldo



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16376.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Wed Mar  9 15:17:08 2016
From: doug at moens.org (doug moen)
Date: Wed, 9 Mar 2016 15:17:08 -0500
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457544355190-16376.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457457869508-16352.post@n5.nabble.com>
	<1457544355190-16376.post@n5.nabble.com>
Message-ID: <CAGV6i+P737JSCz9n+RYdxK8+o5t35CJkH5PsmMq_Dj=RiZurUg@mail.gmail.com>

@Ronaldo The term NP-Complete comes from computability theory, and it
applies to algorithms, not to languages. Ikcl is probably thinking of
another term, "Turing complete", also from computability theory, which
refers to the expressive power of a language. A language is Turing complete
if you can write a program that simulates a Turing machine. OpenSCAD is
Turing complete, since it has numbers, conditionals, lists and recursive
functions.

On 9 March 2016 at 12:25, Ronaldo <rcmpersiano at gmail.com> wrote:

> Hi, lkcl.
>
> That was your second mention to a non-NP-completeness of OpenSCAD language.
> What do you by that? I know the expression relative to problems and
> algorithms only.
>
> Ronaldo
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16376.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/dc5c404c/attachment.html>

From rcmpersiano at gmail.com  Wed Mar  9 15:34:18 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 9 Mar 2016 13:34:18 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <CAGV6i+P737JSCz9n+RYdxK8+o5t35CJkH5PsmMq_Dj=RiZurUg@mail.gmail.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457457869508-16352.post@n5.nabble.com>
	<1457544355190-16376.post@n5.nabble.com>
	<CAGV6i+P737JSCz9n+RYdxK8+o5t35CJkH5PsmMq_Dj=RiZurUg@mail.gmail.com>
Message-ID: <1457555658417-16378.post@n5.nabble.com>

Thank you doug, this makes sense.



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16378.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Wed Mar  9 16:42:19 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Wed, 9 Mar 2016 14:42:19 -0700 (MST)
Subject: [OpenSCAD] Export seperate objects
In-Reply-To: <1457532710784-16373.post@n5.nabble.com>
References: <1457532710784-16373.post@n5.nabble.com>
Message-ID: <1457559739117-16379.post@n5.nabble.com>

Hi Phillip,
Welcome to the forum. Your post is still flagged as "This post has NOT been
accepted by the mailing list yet", so nobody gets it unless they look. 
You need to subscribe to the  mailing list
<http://forum.openscad.org/mailing_list/MailingListOptions.jtp?forum=1>  ,
and respond to the registration email.

re your question: No. At the moment OpenSCAD does a union() of all top level
objects. There is activity to change this but it is not close to release.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Export-seperate-objects-tp16373p16379.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Wed Mar  9 16:44:03 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Wed, 9 Mar 2016 14:44:03 -0700 (MST)
Subject: [OpenSCAD] Graphics for Digital Fabrication 2016: call for
	papers
In-Reply-To: <961DE5AAD50EED46A1909C824423A615010020E475@ALUDRA.university.brighton.ac.uk>
References: <961DE5AAD50EED46A1909C824423A615010020E475@ALUDRA.university.brighton.ac.uk>
Message-ID: <1457559843404-16380.post@n5.nabble.com>

Posting so this makes it to mailing-list users.

karina wrote
> Apologies for cross-posting
> -----------------------------------------------------------------------------------------------------------
> 
> Call for Papers: Eurographics Workshop on Graphics for Digital Fabrication
> (GraDiFab 2016)
> Lisbon, May 8, 2016. Co-located with the 37th annual conference of the
> European Association for Computer Graphics.
> Workshop URL: http://www.gradifab.org/
> Submissions deadline: March 25, 2016
> 
> ** Aims and scope **
> Digital fabrication technologies comprise a combination of programmable
> digital tools, processes, materials and equipment which allow the creation
> of physical objects of complexities not achievable by traditional
> manufacturing processes. Computer graphics research is at the centre of
> these developments, as it provides the underlying technologies which allow
> creating, validating and processing the 3D shapes and textures to be
> fabricated. We invite paper submission from a wide range of researchers
> and experts investigating on the many aspects related to computer graphics
> and digital fabrication technologies. This research is expected to
> contribute towards the establishment of digital fabrication as a viable
> and effective option for the creation of the objects of the future.
> 
> Topics include (but are not limited to) the following:
> - 3D acquisition for digital fabrication
> - Algorithms and design tools for digital fabrication
> - Analysis for digital fabrication
> - Computational architecture
> - Multi-material fabrication
> - Optimisation algorithms for 3D printing
> - Validation tools
> - Interactive techniques with fabricated objects
> - User applications
> 
> The intended audience involves experts from a wide range of areas such as
> computer graphics, additive manufacturing, computer aided design, material
> engineering, human computer interaction as well as end users from a wide
> range of applications including medicine, biology, engineering, arts and
> architecture. Hence, papers will need to present innovative computer
> graphics content but also refer to other areas or applications where they
> have been, or are going to be, tested and evaluated.
> 
> ** Submission instructions **
> Submissions reporting new work or new ideas in a relevant research area
> should be no longer than 10 pages and should follow the EG guidelines:
> https://www.eg.org/index.php/publications/guidelines#WS_Authors
> 
> Authors are encouraged to submit printable 3D models along with their
> submissions to demonstrate the application of their techniques and
> methods. It is expected physical replicas will be exhibited during the
> workshop to disseminate the research to the wider Eurographics audience.
> 
> Submissions will be reviewed by the International Programme Committee with
> a minimum of three reviewers per paper. Successful submissions will be
> presented at the workshop. Furthermore, proceedings of the workshop will
> be published by EG Publishing in the EG Digital Library
> 
> ** Important dates **
> Paper submission: March 25th, 2016
> Paper notification: April 5th, 2016
> Camera-ready deadline: April 10th, 2016
> Workshop: May 8th, 2016
> 
> 
> 
> 
> ___________________________________________________________
> This email has been scanned by MessageLabs' Email Security System
> on behalf of the University of Brighton. For more information see:
> https://staff.brighton.ac.uk/is/computing/Pages/Email/spam.aspx





-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Graphics-for-Digital-Fabrication-2016-call-for-papers-tp16370p16380.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Wed Mar  9 16:50:52 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 9 Mar 2016 14:50:52 -0700 (MST)
Subject: [OpenSCAD] Problem with color map
Message-ID: <1457560252423-16381.post@n5.nabble.com>

Hello,

I noticed that colors "DimGray" and "DarkGray" are reversed i.e. "DimGray
should be DarkGray" and vice-versa. The manual is coherent with the code,
but the meaning is not. Correcting this poses a backward compatibility,
however do not make much sense a darker color to be lighter than a dimmed
one. 

Cheers
jpmendes





--
View this message in context: http://forum.openscad.org/Problem-with-color-map-tp16381.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Wed Mar  9 17:13:18 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Wed, 9 Mar 2016 23:13:18 +0100
Subject: [OpenSCAD] Problem with color map
In-Reply-To: <1457560252423-16381.post@n5.nabble.com>
References: <1457560252423-16381.post@n5.nabble.com>
Message-ID: <56E09FFE.2070209@gmx.de>

On 03/09/2016 10:50 PM, jpmendes wrote:
> I noticed that colors "DimGray" and "DarkGray" are reversed i.e. "DimGray
> should be DarkGray" and vice-versa. The manual is coherent with the code,
> but the meaning is not. Correcting this poses a backward compatibility,
> however do not make much sense a darker color to be lighter than a dimmed
> one. 
> 
The colors are following the definition from the CSS spec, so I guess
it's more a matter of different interpretations of Dim vs. Dark.

See: https://drafts.csswg.org/css-color/

ciao,
  Torsten.



From pproj at posteo.de  Wed Mar  9 19:12:22 2016
From: pproj at posteo.de (pproj)
Date: Thu, 10 Mar 2016 01:12:22 +0100
Subject: [OpenSCAD] =?utf-8?q?=5Bsemi-on-topic=5D_print_speed_optimized_si?=
 =?utf-8?q?nus_support_material=2E_integration_interface_possible=3F=3F?=
Message-ID: <289a7fd410a9b189d24a9ebf30652190@posteo.de>

Hello Everyone
i am sorry if i am not off-topic with this,hope it is ok

i have thrown together a javascript tool to semi-automatically create 
continuous sinusoidal support for my openscad models .i tried but failed 
to implement it using  scad language only.

  its aim is to minimize sharp corners and empty head moves(with filament 
retractions) in the  inbuilt support of my openscad model.

in case you want to have a look,  i have put together some instructions 
and put the tool on the github:
https://github.com/solidboredom/sinus-support/


After putting quite some effort into an .scad version of it, i could not 
figure a possibility to make it _continous_ around the parts outline 
using openscad only, so i have aborted my efforts and created this  
javascript tool.

external tool makes  the whole process more complicated, you have to 
export SVG  and import twice.
so how could i simplify the process? is the only  way to implement 
something like this directly in the source-code of openscad source?

reason i have made it:
i  was unhappy with slic3r generated support for long time.
it works very good on simple parts, but It fails quite a lot on my 
complex models, and it fills all gaps in any height. i only wanted to 
support the part from below.
the simple inbuilt support i have created before using n openscad  only, 
always been slowing down my print because of discontinuities and sharp 
corners.

so is this  possible to streamline the exchange between openscad and 
javascript? (i actually do not think so)  is it time for an open 
interface for openscad?

Peter



From marius at kintel.net  Wed Mar  9 20:08:18 2016
From: marius at kintel.net (Marius Kintel)
Date: Wed, 9 Mar 2016 20:08:18 -0500
Subject: [OpenSCAD] Does Minkowski work only in 2d?
In-Reply-To: <20160309100618.254d5352@www.etchedpixels.co.uk>
References: <56DDF029.1040405@arnholm.org>
	<1457392576530-16338.post@n5.nabble.com>
	<e60a52b2d0dcea07172d487ebcbaa4a6@arnholm.org>
	<CAEEmnrPLKmF9FaLkL5FD_Qn-yhRWEPetmagvTzdQrft+=4S61Q@mail.gmail.com>
	<CAGV6i+MehCiEJja1bWKDknQNbcsYFbO4-sqsHJPkwR-fsFAH0Q@mail.gmail.com>
	<CAEEmnrPQm3hMtfguaGHeTMUDypkfjqy9-iTRffrj-3e1-s=j6w@mail.gmail.com>
	<CAGV6i+OP6e746G8isqjXPwxD5g6EbDYxLMJGj4QaCjKzsiJ9nQ@mail.gmail.com>
	<56DF56C6.6050104@arnholm.org>
	<CAGV6i+PO=du1xkzdyS8uJyeg+iQWJv-T_+gy0zr-2-SKZ36tMQ@mail.gmail.com>
	<20160309005016.5f313fc1@www.etchedpixels.co.uk>
	<1457514120883-16369.post@n5.nabble.com>
	<CAEEmnrOencCvHEdYEsd9NvvHtCypTFUqamjmfAMpL6QwFiuF+g@mail.gmail.com>
	<20160309100618.254d5352@www.etchedpixels.co.uk>
Message-ID: <96ACF4AD-1F46-4102-B3A3-AED87CCED5EB@kintel.net>

> On Mar 9, 2016, at 05:06 AM, Alan Cox <alan at lxorguk.ukuu.org.uk> wrote:
> 
> Sounds like I need to update my OpenSCAD if convex Minkowski is now done
> with hull() automatically.
> 
..since 2015.03.

 -Marius



From doug at moens.org  Wed Mar  9 21:19:43 2016
From: doug at moens.org (doug moen)
Date: Wed, 9 Mar 2016 21:19:43 -0500
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
Message-ID: <CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>

Pretty cool project.

With respect to your comments about an "open interface", I feel this is the
kind of project that ought to be possible in OpenSCAD. You are taking one
geometric object and transforming it into another, and that's exactly the
sort of thing that OpenSCAD ought to be good at, especially if the
application is 3D printing.

I don't know exactly what your roadblock was, but for support generation, I
think the missing feature is a full set of capabilities for querying the
geometry of an object. Creating a "plugin interface" to OpenSCAD is a big
can of worms, and in some ways it's easier to just fix the deficiencies in
the language. (Both approaches, plugins and geometric queries, are
controversial within the dev team, but my vote is to make the language more
powerful.)

As for Slic3r having poor support generation, this was being discussed in
another forum that I participate in, and a number of people recommend using
Simplify3D instead.

Note that Simplify3D is proprietary and costs money, but for some users,
that's not a problem. On the other hand, if OpenSCAD made it easier for
people to experiment with new support algorithms, then that could allow
progress to be made within the open source community without the
requirement to hack the internals of Slic3r or Cura.

On 9 March 2016 at 19:12, pproj <pproj at posteo.de> wrote:

> Hello Everyone
> i am sorry if i am not off-topic with this,hope it is ok
>
> i have thrown together a javascript tool to semi-automatically create
> continuous sinusoidal support for my openscad models .i tried but failed to
> implement it using  scad language only.
>
>  its aim is to minimize sharp corners and empty head moves(with filament
> retractions) in the  inbuilt support of my openscad model.
>
> in case you want to have a look,  i have put together some instructions
> and put the tool on the github:
> https://github.com/solidboredom/sinus-support/
>
>
> After putting quite some effort into an .scad version of it, i could not
> figure a possibility to make it _continous_ around the parts outline using
> openscad only, so i have aborted my efforts and created this  javascript
> tool.
>
> external tool makes  the whole process more complicated, you have to
> export SVG  and import twice.
> so how could i simplify the process? is the only  way to implement
> something like this directly in the source-code of openscad source?
>
> reason i have made it:
> i  was unhappy with slic3r generated support for long time.
> it works very good on simple parts, but It fails quite a lot on my complex
> models, and it fills all gaps in any height. i only wanted to support the
> part from below.
> the simple inbuilt support i have created before using n openscad  only,
> always been slowing down my print because of discontinuities and sharp
> corners.
>
> so is this  possible to streamline the exchange between openscad and
> javascript? (i actually do not think so)  is it time for an open interface
> for openscad?
>
> Peter
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/48269fb2/attachment.html>

From jpmendes54 at gmail.com  Wed Mar  9 21:20:21 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 9 Mar 2016 19:20:21 -0700 (MST)
Subject: [OpenSCAD] Problem with color map
In-Reply-To: <56E09FFE.2070209@gmx.de>
References: <56E09FFE.2070209@gmx.de>
Message-ID: <1457576420889-16385.post@n5.nabble.com>

Hi
Yes you are right, I went to investigate the subject and deleted my post 10
minutes later.
Anyway is strange to me that the "DarkGray" is lighter than the "Gray"
itself.
Maybe it is a linguistic semantic divergence between English and Portuguese
. 

http://coloreminder.com/808080 <http://coloreminder.com/808080>  
http://coloreminder.com/a9a9a9 <http://coloreminder.com/a9a9a9>  

jpmendes



--
View this message in context: http://forum.openscad.org/Re-Problem-with-color-map-tp16382p16385.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Wed Mar  9 21:32:56 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Wed, 9 Mar 2016 19:32:56 -0700 (MST)
Subject: [OpenSCAD] Problem with color map
In-Reply-To: <1457576420889-16385.post@n5.nabble.com>
References: <56E09FFE.2070209@gmx.de> <1457576420889-16385.post@n5.nabble.com>
Message-ID: <1457577176139-16387.post@n5.nabble.com>

you will find it is two or more lists of colours crammed together to make a
'standard'.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Re-Problem-with-color-map-tp16382p16387.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Wed Mar  9 21:47:43 2016
From: doug at moens.org (doug moen)
Date: Wed, 9 Mar 2016 21:47:43 -0500
Subject: [OpenSCAD] Problem with color map
In-Reply-To: <1457576420889-16385.post@n5.nabble.com>
References: <56E09FFE.2070209@gmx.de> <1457576420889-16385.post@n5.nabble.com>
Message-ID: <CAGV6i+PJtZ+em30aB+Xvax74zdUT+sVwDV_6s7rOE=Hm1TdSrQ@mail.gmail.com>

Wikipedia explains why DarkGray is lighter than Gray.
https://en.wikipedia.org/wiki/Grey#Web_colors

So, it's just an outcome of different designers clashing over what the
value of "Gray" should be. The original designer (of the X11 colour system)
made Gray lighter than DarkGray, then when this system was copied into
HTML/CSS, another designer changed the value of Gray to something that made
more sense to them, without changing the value of DarkGray.

On 9 March 2016 at 21:20, jpmendes <jpmendes54 at gmail.com> wrote:

> Hi
> Yes you are right, I went to investigate the subject and deleted my post 10
> minutes later.
> Anyway is strange to me that the "DarkGray" is lighter than the "Gray"
> itself.
> Maybe it is a linguistic semantic divergence between English and Portuguese
> .
>
> http://coloreminder.com/808080 <http://coloreminder.com/808080>
> http://coloreminder.com/a9a9a9 <http://coloreminder.com/a9a9a9>
>
> jpmendes
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Re-Problem-with-color-map-tp16382p16385.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160309/06478fbf/attachment.html>

From jpmendes54 at gmail.com  Wed Mar  9 22:02:40 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 9 Mar 2016 20:02:40 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457457869508-16352.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457457869508-16352.post@n5.nabble.com>
Message-ID: <1457578960748-16389.post@n5.nabble.com>

Hi
I followed  the link and download your project. The .zip consists of only
one stl called layer1.stl  + 2 attribution pdfs + 1 jpeg.

In OpenSCAD you may use "#" and "%" to see the inner of the objects.
You may also control from the script  the viewpoint using $vpt=[x,y,z] for
panning and $vpr=[ax,ay,az] for rotation. Although precise and useful for
animations it's not the most user friendly solution for the regular use. I
would like to have the viewpoint control as a console input also. 

jpmendes



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16389.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From peterlundh at me.com  Thu Mar 10 04:56:44 2016
From: peterlundh at me.com (plundh)
Date: Thu, 10 Mar 2016 02:56:44 -0700 (MST)
Subject: [OpenSCAD] Create lightweight,
 latticed designs that are functionally optimized and accurate for
 3D printing
In-Reply-To: <1457578960748-16389.post@n5.nabble.com>
References: <1457039666703-16279.post@n5.nabble.com>
	<1457457869508-16352.post@n5.nabble.com>
	<1457578960748-16389.post@n5.nabble.com>
Message-ID: <1457603804306-16391.post@n5.nabble.com>

Hi Cacb et. al- Thanks much for more replies. I've dowloaded Z88 Aurora v3
for Mac and this find of FEM/FAI software (free with a GUI)  is just what I
was looking for. Thanks so much. -Peter



--
View this message in context: http://forum.openscad.org/Create-lightweight-latticed-designs-that-are-functionally-optimized-and-accurate-for-3D-printing-tp16279p16391.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mickvav at gmail.com  Thu Mar 10 06:00:22 2016
From: mickvav at gmail.com (Mihail Vasiliev)
Date: Thu, 10 Mar 2016 14:00:22 +0300
Subject: [OpenSCAD] Export seperate objects
In-Reply-To: <1457559739117-16379.post@n5.nabble.com>
References: <1457532710784-16373.post@n5.nabble.com>
	<1457559739117-16379.post@n5.nabble.com>
Message-ID: <CAPmXz3U2w_+dbA9=YeMz9VsjFo5+pn8dt3UjL85BAJgsxoN+oA@mail.gmail.com>

Just to notice - export() function, which I proposed and implemented couple
months ago (https://github.com/mickvav/openscad) solves this. But it was
not accepted
10 ????? 2016 ?. 0:43 ???????????? "MichaelAtOz" <oz.at.michael at gmail.com>
???????:

> Hi Phillip,
> Welcome to the forum. Your post is still flagged as "This post has NOT been
> accepted by the mailing list yet", so nobody gets it unless they look.
> You need to subscribe to the  mailing list
> <http://forum.openscad.org/mailing_list/MailingListOptions.jtp?forum=1>  ,
> and respond to the registration email.
>
> re your question: No. At the moment OpenSCAD does a union() of all top
> level
> objects. There is activity to change this but it is not close to release.
>
>
>
> -----
> Admin - PM me if you need anything, or if I've done something stupid...
>
> Unless specifically shown otherwise above, my contribution is in the
> Public Domain; to the extent possible under law, I have waived all
> copyright and related or neighbouring rights to this work. Obviously
> inclusion of works of previous authors is not included in the above.
>
> The TPP is no simple ?trade agreement.?   Fight it!
> http://www.ourfairdeal.org/   time is running out!
> --
> View this message in context:
> http://forum.openscad.org/Export-seperate-objects-tp16373p16379.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160310/980b4ea5/attachment.html>

From pproj at posteo.de  Thu Mar 10 10:46:49 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Thu, 10 Mar 2016 16:46:49 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
Message-ID: <56E196E9.5060301@posteo.de>

Thanks Doug!

 anyways by now i started to think  openscad really lacks extensibility,
through plugins (like i.e. in inkscape) there would be more efficient
possibilities for the problems at hand,perhaps there would alse be less
openscad-variants, and more improvements.

the reason to switch to Javascript for me was indeed  the inability to
query existing geometry,

If the question at hand was, wether to make openscad geomeries
querieable or to build the plugin interface, my answer would be a
definitive "both"!
but i just like you i consider the queriability more important.


if one  needs a result quickly and can't wait untill openscad evolves to
more extensibility,  going the Javascript route like i did is perhaps
not the worst solution,
if anybody has a use for my script as base for his own processing i will
be very happy. and would be even more so if it will me made availiable
for others to use

and thanks for the hint on Simplify3D, but it looks like i will not need
it anymore :)
Peter

On 10.03.2016 03:19, doug moen wrote:
> Pretty cool project.
>
> With respect to your comments about an "open interface", I feel this
> is the kind of project that ought to be possible in OpenSCAD. You are
> taking one geometric object and transforming it into another, and
> that's exactly the sort of thing that OpenSCAD ought to be good at,
> especially if the application is 3D printing.
>
> I don't know exactly what your roadblock was, but for support
> generation, I think the missing feature is a full set of capabilities
> for querying the geometry of an object. Creating a "plugin interface"
> to OpenSCAD is a big can of worms, and in some ways it's easier to
> just fix the deficiencies in the language. (Both approaches, plugins
> and geometric queries, are controversial within the dev team, but my
> vote is to make the language more powerful.)
>
> As for Slic3r having poor support generation, this was being discussed
> in another forum that I participate in, and a number of people
> recommend using Simplify3D instead.
>
> Note that Simplify3D is proprietary and costs money, but for some
> users, that's not a problem. On the other hand, if OpenSCAD made it
> easier for people to experiment with new support algorithms, then that
> could allow progress to be made within the open source community
> without the requirement to hack the internals of Slic3r or Cura.
>
> On 9 March 2016 at 19:12, pproj <pproj at posteo.de
> <mailto:pproj at posteo.de>> wrote:
>
>     Hello Everyone
>     i am sorry if i am not off-topic with this,hope it is ok
>
>     i have thrown together a javascript tool to semi-automatically
>     create continuous sinusoidal support for my openscad models .i
>     tried but failed to implement it using  scad language only.
>
>      its aim is to minimize sharp corners and empty head moves(with
>     filament retractions) in the  inbuilt support of my openscad model.
>
>     in case you want to have a look,  i have put together some
>     instructions and put the tool on the github:
>     https://github.com/solidboredom/sinus-support/
>
>
>     After putting quite some effort into an .scad version of it, i
>     could not figure a possibility to make it _continous_ around the
>     parts outline using openscad only, so i have aborted my efforts
>     and created this  javascript tool.
>
>     external tool makes  the whole process more complicated, you have
>     to export SVG  and import twice.
>     so how could i simplify the process? is the only  way to implement
>     something like this directly in the source-code of openscad source?
>
>     reason i have made it:
>     i  was unhappy with slic3r generated support for long time.
>     it works very good on simple parts, but It fails quite a lot on my
>     complex models, and it fills all gaps in any height. i only wanted
>     to support the part from below.
>     the simple inbuilt support i have created before using n openscad 
>     only, always been slowing down my print because of discontinuities
>     and sharp corners.
>
>     so is this  possible to streamline the exchange between openscad
>     and javascript? (i actually do not think so)  is it time for an
>     open interface for openscad?
>
>     Peter
>
>
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160310/fa76a6ff/attachment.html>

From nop.head at gmail.com  Thu Mar 10 13:32:05 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 10 Mar 2016 18:32:05 +0000
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E196E9.5060301@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
Message-ID: <CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>

How do you print your support structures? Do you slice them separately and
apply a Z offset?

On 10 March 2016 at 15:46, pproj at posteo.de <pproj at posteo.de> wrote:

> Thanks Doug!
>
>  anyways by now i started to think  openscad really lacks extensibility,
> through plugins (like i.e. in inkscape) there would be more efficient
> possibilities for the problems at hand,perhaps there would alse be less
> openscad-variants, and more improvements.
>
> the reason to switch to Javascript for me was indeed  the inability to
> query existing geometry,
>
> If the question at hand was, wether to make openscad geomeries querieable
> or to build the plugin interface, my answer would be a definitive "both"!
> but i just like you i consider the queriability more important.
>
>
> if one  needs a result quickly and can't wait untill openscad evolves to
> more extensibility,  going the Javascript route like i did is perhaps not
> the worst solution,
> if anybody has a use for my script as base for his own processing i will
> be very happy. and would be even more so if it will me made availiable for
> others to use
>
> and thanks for the hint on Simplify3D, but it looks like i will not need
> it anymore :)
> Peter
>
> On 10.03.2016 03:19, doug moen wrote:
>
> Pretty cool project.
>
> With respect to your comments about an "open interface", I feel this is
> the kind of project that ought to be possible in OpenSCAD. You are taking
> one geometric object and transforming it into another, and that's exactly
> the sort of thing that OpenSCAD ought to be good at, especially if the
> application is 3D printing.
>
> I don't know exactly what your roadblock was, but for support generation,
> I think the missing feature is a full set of capabilities for querying the
> geometry of an object. Creating a "plugin interface" to OpenSCAD is a big
> can of worms, and in some ways it's easier to just fix the deficiencies in
> the language. (Both approaches, plugins and geometric queries, are
> controversial within the dev team, but my vote is to make the language more
> powerful.)
>
> As for Slic3r having poor support generation, this was being discussed in
> another forum that I participate in, and a number of people recommend using
> Simplify3D instead.
>
> Note that Simplify3D is proprietary and costs money, but for some users,
> that's not a problem. On the other hand, if OpenSCAD made it easier for
> people to experiment with new support algorithms, then that could allow
> progress to be made within the open source community without the
> requirement to hack the internals of Slic3r or Cura.
>
> On 9 March 2016 at 19:12, pproj <pproj at posteo.de> wrote:
>
>> Hello Everyone
>> i am sorry if i am not off-topic with this,hope it is ok
>>
>> i have thrown together a javascript tool to semi-automatically create
>> continuous sinusoidal support for my openscad models .i tried but failed to
>> implement it using  scad language only.
>>
>>  its aim is to minimize sharp corners and empty head moves(with filament
>> retractions) in the  inbuilt support of my openscad model.
>>
>> in case you want to have a look,  i have put together some instructions
>> and put the tool on the github:
>> https://github.com/solidboredom/sinus-support/
>>
>>
>> After putting quite some effort into an .scad version of it, i could not
>> figure a possibility to make it _continous_ around the parts outline using
>> openscad only, so i have aborted my efforts and created this  javascript
>> tool.
>>
>> external tool makes  the whole process more complicated, you have to
>> export SVG  and import twice.
>> so how could i simplify the process? is the only  way to implement
>> something like this directly in the source-code of openscad source?
>>
>> reason i have made it:
>> i  was unhappy with slic3r generated support for long time.
>> it works very good on simple parts, but It fails quite a lot on my
>> complex models, and it fills all gaps in any height. i only wanted to
>> support the part from below.
>> the simple inbuilt support i have created before using n openscad  only,
>> always been slowing down my print because of discontinuities and sharp
>> corners.
>>
>> so is this  possible to streamline the exchange between openscad and
>> javascript? (i actually do not think so)  is it time for an open interface
>> for openscad?
>>
>> Peter
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
>
> _______________________________________________
> OpenSCAD mailing listDiscuss at lists.openscad.orghttp://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160310/7aa2a7a4/attachment.html>

From Torsten.Paul at gmx.de  Thu Mar 10 16:01:23 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Thu, 10 Mar 2016 22:01:23 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E196E9.5060301@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
Message-ID: <56E1E0A3.8080107@gmx.de>

On 03/10/2016 04:46 PM, pproj at posteo.de wrote:
> anyways by now i started to think  openscad really lacks extensibility,
> through plugins (like i.e. in inkscape) there would be more efficient
> possibilities for the problems at hand, perhaps there would also be less
> openscad-variants, and more improvements.
>
In general I do like the idea of plugins, but I'm not sure how manageable
that would be currently. Creating and maintaining a stable plugin API is
not an easy topic and that would probably mean even less improvements in
other areas.

The geometry query part is certainly one of the biggest issues, but that's
not solvable by just adding plugins, it needs the internal changes to
support that without completely breaking good things like the quick preview.
That's one of the big things the OpenSCAD2 discussion is supposed to give
and I hope we can slowly move into that direction so there's not a huge
leap in the end when trying to get the full list of new features.

As for the variants, and side projects, I'm not so sure. There will always
be a number of use cases where the descriptive nature of OpenSCAD is not
going to cover everything and some additional frontend in a general
programming language is appropriate (like for reading data from a database).

ciao,
  Torsten.



From oz.at.michael at gmail.com  Thu Mar 10 16:43:12 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Thu, 10 Mar 2016 14:43:12 -0700 (MST)
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <1457643911195-16396.post@n5.nabble.com>
References: <1457643911195-16396.post@n5.nabble.com>
Message-ID: <1457646192570-16397.post@n5.nabble.com>

Welcome to the forum. Your post is still flagged as "This post has NOT been
accepted by the mailing list yet", so nobody gets it unless they look. 
You need to subscribe to the  mailing list
<http://forum.openscad.org/mailing_list/MailingListOptions.jtp?forum=1>  ,
and respond to the registration email.


Eric Buijs wrote
> Hi, while doing a simple tutorial I encountered a possible bug in
> OpenScad's renderer. 
> Below is the code. The outer cube should have a circular holes on every
> side of the cube but after pressing F6 some of the holes aren't fully
> circular (the preview mode is ok). Even worse the stl file has the same
> mistake. Any idea what causes this problem?  
> 
> difference()
> {
>     cube([90,90,90], center =true);
>     union()
>     {
>         cube([80,80,80], center =true);
>         cylinder(r = 27.5, h = 90, center = true);
>         rotate([90,0,0]) cylinder(r = 27.5, h = 90, center = true);
>         rotate([0,90,0]) cylinder(r = 27.5, h = 90, center = true);
>     }
> }
<http://forum.openscad.org/file/n16396/cube.jpg> 
> 
> P.S: I work in OSX (10.10.5), OpenScad 2015.03-03





-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16397.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From fred_dot_u at yahoo.com  Thu Mar 10 16:59:58 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Thu, 10 Mar 2016 14:59:58 -0700 (MST)
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <1457643911195-16396.post@n5.nabble.com>
References: <1457643911195-16396.post@n5.nabble.com>
Message-ID: <1457647198002-16398.post@n5.nabble.com>

This is pretty common in OpenSCAD. I was able to clear the problem in your
code by adding a "fudge factor" of 0.01 to each of the horizontal cylinders
h value. One can suspect that the problem is related to floating point math,
but I'm not qualified to address that aspect.



--
View this message in context: http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16398.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From ebuijs at mac.com  Thu Mar 10 17:04:18 2016
From: ebuijs at mac.com (Eric Buijs)
Date: Thu, 10 Mar 2016 15:04:18 -0700 (MST)
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <1457647198002-16398.post@n5.nabble.com>
References: <1457643911195-16396.post@n5.nabble.com>
	<1457647198002-16398.post@n5.nabble.com>
Message-ID: <1457647458996-16399.post@n5.nabble.com>

Great, that took care of the problem. Thanks for the help.



--
View this message in context: http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16399.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Thu Mar 10 18:18:55 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 10 Mar 2016 23:18:55 +0000
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <1457647458996-16399.post@n5.nabble.com>
References: <1457643911195-16396.post@n5.nabble.com>
	<1457647198002-16398.post@n5.nabble.com>
	<1457647458996-16399.post@n5.nabble.com>
Message-ID: <CAEEmnrNuOq5Y=vx1BT=G5xcYhR4uVkrd77fVaaXShVXK29TX5Q@mail.gmail.com>

The precise cause is that rotation by 90 degrees is not exact in OpenScad
because it converts degrees to radians before doing the trig functions.

If you redefine rotate as follows: -

module rotate(a)
{
 cx = cos(a[0]);
 cy = cos(a[1]);
 cz = cos(a[2]);
 sx = sin(a[0]);
 sy = sin(a[1]);
 sz = sin(a[2]);
 multmatrix([
  [ cy * cz, cz * sx * sy - cx * sz, cx * cz * sy + sx * sz, 0],
  [ cy * sz, cx * cz + sx * sy * sz,-cz * sx + cx * sy * sz, 0],
  [-sy,      cy * sx,                cx * cy,                0],
  [ 0,       0,                      0,                      1]
 ]) children();
}

Then F6 works because GCAL can work with coincident faces if they are
exactly coincident. F5 still gives shimmering holes due to Z buffer
fighting so you still need to make the cylinders longer to fix that.

On 10 March 2016 at 22:04, Eric Buijs <ebuijs at mac.com> wrote:

> Great, that took care of the problem. Thanks for the help.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16399.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160310/045dd569/attachment.html>

From ebuijs at mac.com  Thu Mar 10 18:40:43 2016
From: ebuijs at mac.com (Eric Buijs)
Date: Thu, 10 Mar 2016 16:40:43 -0700 (MST)
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <CAEEmnrNuOq5Y=vx1BT=G5xcYhR4uVkrd77fVaaXShVXK29TX5Q@mail.gmail.com>
References: <1457643911195-16396.post@n5.nabble.com>
	<1457647198002-16398.post@n5.nabble.com>
	<1457647458996-16399.post@n5.nabble.com>
	<CAEEmnrNuOq5Y=vx1BT=G5xcYhR4uVkrd77fVaaXShVXK29TX5Q@mail.gmail.com>
Message-ID: <1457653243184-16401.post@n5.nabble.com>

I see, well the rotate module works like a charm. I had to do some catch-up
on my math to understand it however (and still don't understand it fully).
Thanks.



--
View this message in context: http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16401.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Thu Mar 10 19:28:37 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 10 Mar 2016 17:28:37 -0700 (MST)
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
Message-ID: <1457656117541-16402.post@n5.nabble.com>

Hm, nice approach, but somehow very ambitious.

Support structures are usually more than an stl. They interact with your
print as well as with your material. It is a good idea to have it calculated
by your slicer. Maybe you try another slicer like Kisslicer before you put a
lot of work into that.  

This is some of the features you'll want to have:
- support should easily break off. So it is better loosely connected with
the object (a slicer uses jerk control for this)
- support is only needed up to a certain angle and has a heightmap. Don't
see that in your current approach 
- support can have a substructure ... 

If you really want to go into that, I suggest to use some imperative
programming language and
- parse the STL of your print object
- analyse the triangles to determine the surface to be supported 
- do your own sine magic on that surface, which is not trivial to calculate
as intersections are involved

OpenScad can help you with the sine magic
- close your surface into an object (or a bunch of objects depending on your
design) exactly hulling your support structure and export it as STL. 
- now you can import that STL into OpenScad and do your sine magic there in
a generic fashion, intersect it and so on. 

Rudolf






--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16402.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Thu Mar 10 19:52:10 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Thu, 10 Mar 2016 21:52:10 -0300
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <1457653243184-16401.post@n5.nabble.com>
References: <1457643911195-16396.post@n5.nabble.com>
	<1457647198002-16398.post@n5.nabble.com>
	<1457647458996-16399.post@n5.nabble.com>
	<CAEEmnrNuOq5Y=vx1BT=G5xcYhR4uVkrd77fVaaXShVXK29TX5Q@mail.gmail.com>
	<1457653243184-16401.post@n5.nabble.com>
Message-ID: <CA+i9EaCz-JNTBgLFtiX9f8F7b_4o2VtbzWr859EhYK76XsXFwA@mail.gmail.com>

nop head,

Interesting observation; however, it seems to me that your rotate would
require the same convertions.

2016-03-10 20:40 GMT-03:00 Eric Buijs <ebuijs at mac.com>:

> I see, well the rotate module works like a charm. I had to do some catch-up
> on my math to understand it however (and still don't understand it fully).
> Thanks.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16401.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160310/2ea278f9/attachment.html>

From louijp at yahoo.com  Thu Mar 10 19:59:40 2016
From: louijp at yahoo.com (Jean-Paul Louis)
Date: Thu, 10 Mar 2016 19:59:40 -0500
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <CA+i9EaCz-JNTBgLFtiX9f8F7b_4o2VtbzWr859EhYK76XsXFwA@mail.gmail.com>
References: <1457643911195-16396.post@n5.nabble.com>
	<1457647198002-16398.post@n5.nabble.com>
	<1457647458996-16399.post@n5.nabble.com>
	<CAEEmnrNuOq5Y=vx1BT=G5xcYhR4uVkrd77fVaaXShVXK29TX5Q@mail.gmail.com>
	<1457653243184-16401.post@n5.nabble.com>
	<CA+i9EaCz-JNTBgLFtiX9f8F7b_4o2VtbzWr859EhYK76XsXFwA@mail.gmail.com>
Message-ID: <C087E102-05E9-4D63-AFDD-71C2EC8B50D7@yahoo.com>

Why not using a simpler way like 

H   = 90;
W   = 5;
D   = 55;
eps = 0.005;
H1  = H - 2 * W;
H2  = H + eps;
$fn = 360;

difference() {
	cube([ H, H, H], center =true);
	cube([H1,H1,H1], center =true);
	cylinder(d = D, h = H2, center = true);
	rotate([90,0,0]) cylinder(d = D, h = H2, center = true);
	rotate([0,90,0]) cylinder(d = D, h = H2, center = true); }

Just my $0.02,

Jean-Paul
N1JPL


> On Mar 10, 2016, at 7:52 PM, Ronaldo Persiano <rcmpersiano at gmail.com> wrote:
> 
> nop head,
> 
> Interesting observation; however, it seems to me that your rotate would require the same convertions.
> 
> 2016-03-10 20:40 GMT-03:00 Eric Buijs <ebuijs at mac.com>:
> I see, well the rotate module works like a charm. I had to do some catch-up
> on my math to understand it however (and still don't understand it fully).
> Thanks.
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16401.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



From amarjeet.kapoor1 at gmail.com  Fri Mar 11 02:19:05 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Fri, 11 Mar 2016 12:49:05 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <56DFD216.8000508@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
Message-ID: <CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>

On 9 March 2016 at 13:04, Torsten Paul <Torsten.Paul at gmx.de> wrote:

<snip>

> In parallel, I'd suggest to just get the code from github and
> get it compiling. For GSoC we'll follow the framework of our
> umbrella org BRL-CAD, so a small and simple patch would be
> required as well. This could be one of the tasks tagged as
> "low hanging" in github, or we can discuss some other options
> (probably easier in a more interactive way on IRC).

As per you suggested, I have gone through issues with "low hanging"
tag and choose the easiest one to be solved the issue number #1526
https://github.com/openscad/openscad/issues/1526

Please, review it so that I can try to solve other ones. I have send
pull request

https://github.com/openscad/openscad/pull/1601





-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From nop.head at gmail.com  Fri Mar 11 03:51:44 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 11 Mar 2016 08:51:44 +0000
Subject: [OpenSCAD] Bug in OpenScad rendering?
In-Reply-To: <CA+i9EaCz-JNTBgLFtiX9f8F7b_4o2VtbzWr859EhYK76XsXFwA@mail.gmail.com>
References: <1457643911195-16396.post@n5.nabble.com>
	<1457647198002-16398.post@n5.nabble.com>
	<1457647458996-16399.post@n5.nabble.com>
	<CAEEmnrNuOq5Y=vx1BT=G5xcYhR4uVkrd77fVaaXShVXK29TX5Q@mail.gmail.com>
	<1457653243184-16401.post@n5.nabble.com>
	<CA+i9EaCz-JNTBgLFtiX9f8F7b_4o2VtbzWr859EhYK76XsXFwA@mail.gmail.com>
Message-ID: <CAEEmnrM1U0V-r9ofkdNb-3UAyY06dzQLsp9EZLC+n5qn4ji+eA@mail.gmail.com>

Yes but the OpenScad sin and cos functions exposed to the user has special
cases for 0, 30, 45, 90, etc. Unfortunately it doesn't use those internally
for rotate and generating circles.

On 11 March 2016 at 00:52, Ronaldo Persiano <rcmpersiano at gmail.com> wrote:

> nop head,
>
> Interesting observation; however, it seems to me that your rotate would
> require the same convertions.
>
> 2016-03-10 20:40 GMT-03:00 Eric Buijs <ebuijs at mac.com>:
>
>> I see, well the rotate module works like a charm. I had to do some
>> catch-up
>> on my math to understand it however (and still don't understand it fully).
>> Thanks.
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/Bug-in-OpenScad-rendering-tp16396p16401.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/0cb4a962/attachment.html>

From pproj at posteo.de  Fri Mar 11 10:15:54 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Fri, 11 Mar 2016 16:15:54 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
Message-ID: <56E2E12A.50804@posteo.de>

i just include the support structure back into the .scad code of my
model (or import the stl of the model  into the support sructure .scad
code) they get "Unioned" to a new model with inbuilt suport, which i can
export as stl and slice.
it is not a "proper" support in terms of own gcode settings (speed,
extrusion thickness, etc..) but i do not care as long as i get better
results than with the native one. so i  just slice it as if it was a
part of the models Material rather than trying to acheive it through
slic3rs own support structues.
Peter

On 10.03.2016 19:32, nop head wrote:
> How do you print your support structures? Do you slice them separately
> and apply a Z offset?
>
> On 10 March 2016 at 15:46, pproj at posteo.de <pproj at posteo.de
> <mailto:pproj at posteo.de>> wrote:
>
>     Thanks Doug!
>
>      anyways by now i started to think  openscad really lacks
>     extensibility, through plugins (like i.e. in inkscape) there would
>     be more efficient possibilities for the problems at hand,perhaps
>     there would alse be less openscad-variants, and more improvements.
>
>     the reason to switch to Javascript for me was indeed  the
>     inability to query existing geometry,
>
>     If the question at hand was, wether to make openscad geomeries
>     querieable or to build the plugin interface, my answer would be a
>     definitive "both"!
>     but i just like you i consider the queriability more important.
>
>
>     if one  needs a result quickly and can't wait untill openscad
>     evolves to more extensibility,  going the Javascript route like i
>     did is perhaps not the worst solution,
>     if anybody has a use for my script as base for his own processing
>     i will be very happy. and would be even more so if it will me made
>     availiable for others to use
>
>     and thanks for the hint on Simplify3D, but it looks like i will
>     not need it anymore :)
>     Peter
>
>     On 10.03.2016 03:19, doug moen wrote:
>>     Pretty cool project.
>>
>>     With respect to your comments about an "open interface", I feel
>>     this is the kind of project that ought to be possible in
>>     OpenSCAD. You are taking one geometric object and transforming it
>>     into another, and that's exactly the sort of thing that OpenSCAD
>>     ought to be good at, especially if the application is 3D printing.
>>
>>     I don't know exactly what your roadblock was, but for support
>>     generation, I think the missing feature is a full set of
>>     capabilities for querying the geometry of an object. Creating a
>>     "plugin interface" to OpenSCAD is a big can of worms, and in some
>>     ways it's easier to just fix the deficiencies in the language.
>>     (Both approaches, plugins and geometric queries, are
>>     controversial within the dev team, but my vote is to make the
>>     language more powerful.)
>>
>>     As for Slic3r having poor support generation, this was being
>>     discussed in another forum that I participate in, and a number of
>>     people recommend using Simplify3D instead.
>>
>>     Note that Simplify3D is proprietary and costs money, but for some
>>     users, that's not a problem. On the other hand, if OpenSCAD made
>>     it easier for people to experiment with new support algorithms,
>>     then that could allow progress to be made within the open source
>>     community without the requirement to hack the internals of Slic3r
>>     or Cura.
>>
>>     On 9 March 2016 at 19:12, pproj <pproj at posteo.de
>>     <mailto:pproj at posteo.de>> wrote:
>>
>>         Hello Everyone
>>         i am sorry if i am not off-topic with this,hope it is ok
>>
>>         i have thrown together a javascript tool to
>>         semi-automatically create continuous sinusoidal support for
>>         my openscad models .i tried but failed to implement it using 
>>         scad language only.
>>
>>          its aim is to minimize sharp corners and empty head
>>         moves(with filament retractions) in the  inbuilt support of
>>         my openscad model.
>>
>>         in case you want to have a look,  i have put together some
>>         instructions and put the tool on the github:
>>         https://github.com/solidboredom/sinus-support/
>>
>>
>>         After putting quite some effort into an .scad version of it,
>>         i could not figure a possibility to make it _continous_
>>         around the parts outline using openscad only, so i have
>>         aborted my efforts and created this  javascript tool.
>>
>>         external tool makes  the whole process more complicated, you
>>         have to export SVG  and import twice.
>>         so how could i simplify the process? is the only  way to
>>         implement something like this directly in the source-code of
>>         openscad source?
>>
>>         reason i have made it:
>>         i  was unhappy with slic3r generated support for long time.
>>         it works very good on simple parts, but It fails quite a lot
>>         on my complex models, and it fills all gaps in any height. i
>>         only wanted to support the part from below.
>>         the simple inbuilt support i have created before using n
>>         openscad  only, always been slowing down my print because of
>>         discontinuities and sharp corners.
>>
>>         so is this  possible to streamline the exchange between
>>         openscad and javascript? (i actually do not think so)  is it
>>         time for an open interface for openscad?
>>
>>         Peter
>>
>>
>>         _______________________________________________
>>         OpenSCAD mailing list
>>         Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>>         http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>>
>>
>>     _______________________________________________
>>     OpenSCAD mailing list
>>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/66dd6b4d/attachment.html>

From pproj at posteo.de  Fri Mar 11 10:17:28 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Fri, 11 Mar 2016 16:17:28 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <1457656117541-16402.post@n5.nabble.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<1457656117541-16402.post@n5.nabble.com>
Message-ID: <56E2E188.4070904@posteo.de>

Rudolf yes i agree you have a point here.

and of course it would be difficult to program all the functionality a
native support can give you in javascript,
but in my experiments, when slicing the thin  structures in the .stl  it
turned out,  slic3r produces
gcode which seems close enough to what is needed to replace its native
support structures. ( for the parts i have tried  so far at least).
as to the proper alignment of the support material, the art itself and
interface layers, again i agree, that would be quite a big task to
program it all in the js, but i think it is not really eededin in very
may cases.

i do nor mind if i have no thinned out support interface layers, if the
support is thin enough to easy break it off.
i do not mind if the support fills a bit of my model to a certain
heigh,t like in the picture,i have attached, for the  same reason.
creating fine gridded interface layers on top of the coarser  support
(with longer sinus periods and bigger amplitudes at the bottom) might be
needed in some cases, but should be doable in openscad as well, if one
really needs it.
so of course this not an ideal approach, but i think it might be just
practical enough to quickly get  quickly printing  support done quickly.
from what i grasp, it is actually not that difficult to do much of what
you have mentioned in  opencad either.
i.e. just as you write creating a hull of the model and subtracting it
from the support structures will help,
if the Model is not convex it will not quite work, but one can
"subdivide" the model using a small cube  "rastering" the Space
containing your model, creating smaller Hulls in the intersection with
this cube and then unioning them together and subtracting the whole
thing from the support structure.

creating the thinned  "support Structure interface" area where your
support meets the model does not seem that difficult in openscad either,
since one can scale the support a bit higher into the model intersect it
with the model itself, erode the intersection with minkowsi to make it
thinner and move it back just under under the model.
i actually have experimented quite a bit with smoothing and eroding of
the model with hull and minkowski or moving  "rastering" cubes  and it
works, but it is incredibly slow on a complex model.

but like i have said before  i think in quite many cases we might not
need to do any of it, but the support will still be very useful.
 Peter
On 11.03.2016 01:28, Parkinbot wrote:
> Hm, nice approach, but somehow very ambitious.
>
> Support structures are usually more than an stl. They interact with your
> print as well as with your material. It is a good idea to have it calculated
> by your slicer. Maybe you try another slicer like Kisslicer before you put a
> lot of work into that.  
>
> This is some of the features you'll want to have:
> - support should easily break off. So it is better loosely connected with
> the object (a slicer uses jerk control for this)
> - support is only needed up to a certain angle and has a heightmap. Don't
> see that in your current approach 
> - support can have a substructure ... 
>
> If you really want to go into that, I suggest to use some imperative
> programming language and
> - parse the STL of your print object
> - analyse the triangles to determine the surface to be supported 
> - do your own sine magic on that surface, which is not trivial to calculate
> as intersections are involved
>
> OpenScad can help you with the sine magic
> - close your surface into an object (or a bunch of objects depending on your
> design) exactly hulling your support structure and export it as STL. 
> - now you can import that STL into OpenScad and do your sine magic there in
> a generic fashion, intersect it and so on. 
>
> Rudolf
>
>
>
>
>
>
> --
> View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16402.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ModWithSupport.png
Type: image/png
Size: 65768 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/53494b0a/attachment.png>

From pproj at posteo.de  Fri Mar 11 10:19:30 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Fri, 11 Mar 2016 16:19:30 +0100
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E1E0A3.8080107@gmx.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
Message-ID: <56E2E202.7010007@posteo.de>

Torsten  I was just thinking aloud.  of course i cannot be sure what
impact these features(shape queering and plugins) would have had on the
project development.
i beleive you have a much clearer perpective on the project as a whole
anyway.

as for keepig the fast rendering functionality, it makes sense to me,
but perhaps it could be an acceptable compromise for more complex models.
i have to gcal-render big deal of the  models i have created to make
them display properly or be able to turn them in the view without
waiting for tens of seconds.
i like complex models and i like to use .children() in my libraries,
that is probably why.  but that is what .children() was made for right?
i think i also see a compromise solution to pugins: if we could scripts
the export to different formats, which are already available from the
menu, from the scad code itself
and then could run an external tool and then import the results back,
that woud be almost as good as plugins.

yes this could affect the declarativity of the scad code.
so perhaps creating a separate special  module in  code like the classic
"main() function" accepting only imperative code as well as
render() calls could solve it.
i can also see a restriction to have only one main() in all included
.scad files and libraries so the utility libraries do not use it and do
not break the modularity and "nestability" of the library code which
than have to stay declarative only.
i expect people to ask now, why not use shell instead?
here are my considerations:
-calling out from scad would be much more convenient and put most of
simple "one line" dependencies into one scad file. it is also than
possible to pass information as command line parameters to the "plugin"
command.
-it is overall much closer to plug-ins. there is a reason other programs
have plugin systems besides being started from a shell as well, so why
do they need it then?
-it is much easier to share a scad file  than an archive full of shell
scripts and scad files, with scripts having to take care where they have
been started from, where are the other files they need, etc.
-it is much simpler to put everything into a single file and perhaps add
one external program or use a system program. HEY HOW ABOUT a 3D ls or
dir command with spheric files flying around your cubic folders and
sub-folder wiggling next to them? just run the 3d-dir.scad...:) it just
one  hypothetical example of integration possibilities and uses that
will open...
Peter
 On 10.03.2016 22:01, Torsten Paul wrote:
> On 03/10/2016 04:46 PM, pproj at posteo.de wrote:
>> anyways by now i started to think  openscad really lacks extensibility,
>> through plugins (like i.e. in inkscape) there would be more efficient
>> possibilities for the problems at hand, perhaps there would also be less
>> openscad-variants, and more improvements.
>>
> In general I do like the idea of plugins, but I'm not sure how manageable
> that would be currently. Creating and maintaining a stable plugin API is
> not an easy topic and that would probably mean even less improvements in
> other areas.
>
> The geometry query part is certainly one of the biggest issues, but that's
> not solvable by just adding plugins, it needs the internal changes to
> support that without completely breaking good things like the quick preview.
> That's one of the big things the OpenSCAD2 discussion is supposed to give
> and I hope we can slowly move into that direction so there's not a huge
> leap in the end when trying to get the full list of new features.
>
> As for the variants, and side projects, I'm not so sure. There will always
> be a number of use cases where the descriptive nature of OpenSCAD is not
> going to cover everything and some additional frontend in a general
> programming language is appropriate (like for reading data from a database).
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>




From jon at jonbondy.com  Fri Mar 11 10:20:18 2016
From: jon at jonbondy.com (jon)
Date: Fri, 11 Mar 2016 10:20:18 -0500
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E2E12A.50804@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de>
Message-ID: <56E2E232.20207@jonbondy.com>

I often do the same thing when automatic support structures are 
ineffective.  I use posts or sheets that are roughly 0.3 mm in diameter 
or thickness.  If I generate them in a separate module, then I can 
disable them quickly if necessary.

Jon

On 3/11/2016 10:15 AM, pproj at posteo.de wrote:
> i just include the support structure back into the .scad code of my 
> model (or import the stl of the model  into the support sructure .scad 
> code) they get "Unioned" to a new model with inbuilt suport, which i 
> can export as stl and slice.
> it is not a "proper" support in terms of own gcode settings (speed, 
> extrusion thickness, etc..) but i do not care as long as i get better 
> results than with the native one. so i  just slice it as if it was a 
> part of the models Material rather than trying to acheive it through 
> slic3rs own support structues.
> Peter
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/5c53e59c/attachment.html>

From doug at moens.org  Fri Mar 11 11:06:21 2016
From: doug at moens.org (doug moen)
Date: Fri, 11 Mar 2016 11:06:21 -0500
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E2E202.7010007@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
Message-ID: <CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>

That's an interesting idea. It can be done in a declarative way.

external_transform("warp $in >$out", in="stl", out="stl") cube(10);

The external_transform module takes a shape as an argument, and returns a
second shape, which is constructed by executing a shell command. The input
shape is written to a file, the shell command is run, then the output file
is read to obtain the resulting shape.

I see two problems.

The big problem is security:
   external_transform("rm -rf $HOME");
It allows people to write malicious OpenSCAD scripts. This would be a
problem for Thingiverse and other companies that allow people to upload
OpenSCAD scripts and execute them on their servers. Hackers could
distribute trojan-horse OpenSCAD scripts to attack people's personal
computers.

A smaller problem is that we'd have to execute the shell script during
preview, which would slow down preview. This could be mitigated by caching.

On 11 March 2016 at 10:19, pproj at posteo.de <pproj at posteo.de> wrote:

> Torsten  I was just thinking aloud.  of course i cannot be sure what
> impact these features(shape queering and plugins) would have had on the
> project development.
> i beleive you have a much clearer perpective on the project as a whole
> anyway.
>
> as for keepig the fast rendering functionality, it makes sense to me,
> but perhaps it could be an acceptable compromise for more complex models.
> i have to gcal-render big deal of the  models i have created to make
> them display properly or be able to turn them in the view without
> waiting for tens of seconds.
> i like complex models and i like to use .children() in my libraries,
> that is probably why.  but that is what .children() was made for right?
> i think i also see a compromise solution to pugins: if we could scripts
> the export to different formats, which are already available from the
> menu, from the scad code itself
> and then could run an external tool and then import the results back,
> that woud be almost as good as plugins.
>
> yes this could affect the declarativity of the scad code.
> so perhaps creating a separate special  module in  code like the classic
> "main() function" accepting only imperative code as well as
> render() calls could solve it.
> i can also see a restriction to have only one main() in all included
> .scad files and libraries so the utility libraries do not use it and do
> not break the modularity and "nestability" of the library code which
> than have to stay declarative only.
> i expect people to ask now, why not use shell instead?
> here are my considerations:
> -calling out from scad would be much more convenient and put most of
> simple "one line" dependencies into one scad file. it is also than
> possible to pass information as command line parameters to the "plugin"
> command.
> -it is overall much closer to plug-ins. there is a reason other programs
> have plugin systems besides being started from a shell as well, so why
> do they need it then?
> -it is much easier to share a scad file  than an archive full of shell
> scripts and scad files, with scripts having to take care where they have
> been started from, where are the other files they need, etc.
> -it is much simpler to put everything into a single file and perhaps add
> one external program or use a system program. HEY HOW ABOUT a 3D ls or
> dir command with spheric files flying around your cubic folders and
> sub-folder wiggling next to them? just run the 3d-dir.scad...:) it just
> one  hypothetical example of integration possibilities and uses that
> will open...
> Peter
>  On 10.03.2016 22:01, Torsten Paul wrote:
> > On 03/10/2016 04:46 PM, pproj at posteo.de wrote:
> >> anyways by now i started to think  openscad really lacks extensibility,
> >> through plugins (like i.e. in inkscape) there would be more efficient
> >> possibilities for the problems at hand, perhaps there would also be less
> >> openscad-variants, and more improvements.
> >>
> > In general I do like the idea of plugins, but I'm not sure how manageable
> > that would be currently. Creating and maintaining a stable plugin API is
> > not an easy topic and that would probably mean even less improvements in
> > other areas.
> >
> > The geometry query part is certainly one of the biggest issues, but
> that's
> > not solvable by just adding plugins, it needs the internal changes to
> > support that without completely breaking good things like the quick
> preview.
> > That's one of the big things the OpenSCAD2 discussion is supposed to give
> > and I hope we can slowly move into that direction so there's not a huge
> > leap in the end when trying to get the full list of new features.
> >
> > As for the variants, and side projects, I'm not so sure. There will
> always
> > be a number of use cases where the descriptive nature of OpenSCAD is not
> > going to cover everything and some additional frontend in a general
> > programming language is appropriate (like for reading data from a
> database).
> >
> > ciao,
> >   Torsten.
> >
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> >
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/0701d359/attachment.html>

From doug at moens.org  Fri Mar 11 11:37:52 2016
From: doug at moens.org (doug moen)
Date: Fri, 11 Mar 2016 11:37:52 -0500
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
	<CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
Message-ID: <CAGV6i+O1GAa7MEP-_MLNm230mc9b+5F65UQ0pPx-MzFO12OAgg@mail.gmail.com>

A third problem is that the syntax of shell commands is different between
Windows, Mac, Linux. We'd want a syntax that is platform independent.

The security issues could be mitigated by requiring that external "plugin"
executables are installed in an OpenSCAD plugin directory.

On 11 March 2016 at 11:06, doug moen <doug at moens.org> wrote:

> That's an interesting idea. It can be done in a declarative way.
>
> external_transform("warp $in >$out", in="stl", out="stl") cube(10);
>
> The external_transform module takes a shape as an argument, and returns a
> second shape, which is constructed by executing a shell command. The input
> shape is written to a file, the shell command is run, then the output file
> is read to obtain the resulting shape.
>
> I see two problems.
>
> The big problem is security:
>    external_transform("rm -rf $HOME");
> It allows people to write malicious OpenSCAD scripts. This would be a
> problem for Thingiverse and other companies that allow people to upload
> OpenSCAD scripts and execute them on their servers. Hackers could
> distribute trojan-horse OpenSCAD scripts to attack people's personal
> computers.
>
> A smaller problem is that we'd have to execute the shell script during
> preview, which would slow down preview. This could be mitigated by caching.
>
> On 11 March 2016 at 10:19, pproj at posteo.de <pproj at posteo.de> wrote:
>
>> Torsten  I was just thinking aloud.  of course i cannot be sure what
>> impact these features(shape queering and plugins) would have had on the
>> project development.
>> i beleive you have a much clearer perpective on the project as a whole
>> anyway.
>>
>> as for keepig the fast rendering functionality, it makes sense to me,
>> but perhaps it could be an acceptable compromise for more complex models.
>> i have to gcal-render big deal of the  models i have created to make
>> them display properly or be able to turn them in the view without
>> waiting for tens of seconds.
>> i like complex models and i like to use .children() in my libraries,
>> that is probably why.  but that is what .children() was made for right?
>> i think i also see a compromise solution to pugins: if we could scripts
>> the export to different formats, which are already available from the
>> menu, from the scad code itself
>> and then could run an external tool and then import the results back,
>> that woud be almost as good as plugins.
>>
>> yes this could affect the declarativity of the scad code.
>> so perhaps creating a separate special  module in  code like the classic
>> "main() function" accepting only imperative code as well as
>> render() calls could solve it.
>> i can also see a restriction to have only one main() in all included
>> .scad files and libraries so the utility libraries do not use it and do
>> not break the modularity and "nestability" of the library code which
>> than have to stay declarative only.
>> i expect people to ask now, why not use shell instead?
>> here are my considerations:
>> -calling out from scad would be much more convenient and put most of
>> simple "one line" dependencies into one scad file. it is also than
>> possible to pass information as command line parameters to the "plugin"
>> command.
>> -it is overall much closer to plug-ins. there is a reason other programs
>> have plugin systems besides being started from a shell as well, so why
>> do they need it then?
>> -it is much easier to share a scad file  than an archive full of shell
>> scripts and scad files, with scripts having to take care where they have
>> been started from, where are the other files they need, etc.
>> -it is much simpler to put everything into a single file and perhaps add
>> one external program or use a system program. HEY HOW ABOUT a 3D ls or
>> dir command with spheric files flying around your cubic folders and
>> sub-folder wiggling next to them? just run the 3d-dir.scad...:) it just
>> one  hypothetical example of integration possibilities and uses that
>> will open...
>> Peter
>>  On 10.03.2016 22:01, Torsten Paul wrote:
>> > On 03/10/2016 04:46 PM, pproj at posteo.de wrote:
>> >> anyways by now i started to think  openscad really lacks extensibility,
>> >> through plugins (like i.e. in inkscape) there would be more efficient
>> >> possibilities for the problems at hand, perhaps there would also be
>> less
>> >> openscad-variants, and more improvements.
>> >>
>> > In general I do like the idea of plugins, but I'm not sure how
>> manageable
>> > that would be currently. Creating and maintaining a stable plugin API is
>> > not an easy topic and that would probably mean even less improvements in
>> > other areas.
>> >
>> > The geometry query part is certainly one of the biggest issues, but
>> that's
>> > not solvable by just adding plugins, it needs the internal changes to
>> > support that without completely breaking good things like the quick
>> preview.
>> > That's one of the big things the OpenSCAD2 discussion is supposed to
>> give
>> > and I hope we can slowly move into that direction so there's not a huge
>> > leap in the end when trying to get the full list of new features.
>> >
>> > As for the variants, and side projects, I'm not so sure. There will
>> always
>> > be a number of use cases where the descriptive nature of OpenSCAD is not
>> > going to cover everything and some additional frontend in a general
>> > programming language is appropriate (like for reading data from a
>> database).
>> >
>> > ciao,
>> >   Torsten.
>> >
>> >
>> > _______________________________________________
>> > OpenSCAD mailing list
>> > Discuss at lists.openscad.org
>> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>> >
>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/88b91880/attachment.html>

From alan at lxorguk.ukuu.org.uk  Fri Mar 11 12:30:09 2016
From: alan at lxorguk.ukuu.org.uk (Alan Cox)
Date: Fri, 11 Mar 2016 17:30:09 +0000
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
	<CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
Message-ID: <20160311173009.01bf9f80@www.etchedpixels.co.uk>

On Fri, 11 Mar 2016 11:06:21 -0500
doug moen <doug at moens.org> wrote:

> That's an interesting idea. It can be done in a declarative way.
> 
> external_transform("warp $in >$out", in="stl", out="stl") cube(10);
> 
> The external_transform module takes a shape as an argument, and returns a
> second shape, which is constructed by executing a shell command. The input
> shape is written to a file, the shell command is run, then the output file
> is read to obtain the resulting shape.
> 
> I see two problems.
> 
> The big problem is security:
>    external_transform("rm -rf $HOME");
> It allows people to write malicious OpenSCAD scripts. This would be a
> problem for Thingiverse and other companies that allow people to upload
> OpenSCAD scripts and execute them on their servers. Hackers could
> distribute trojan-horse OpenSCAD scripts to attack people's personal
> computers.
> 
> A smaller problem is that we'd have to execute the shell script during
> preview, which would slow down preview. This could be mitigated by caching.

Another big problem you then have is that you then have to deal with
plugins that only run on one platform or have different versions at which
point all the portability and consistency goes up in smoke.

There are other tools for programmatically generating objects and then
using OpenSCAD to render them. It seems unfortunate that people are still
trying to "fix" openscad rather than just treat it as a tool that does
one job well.

Alan


From pproj at posteo.de  Fri Mar 11 12:41:43 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Fri, 11 Mar 2016 18:41:43 +0100
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAGV6i+O1GAa7MEP-_MLNm230mc9b+5F65UQ0pPx-MzFO12OAgg@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
	<CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
	<CAGV6i+O1GAa7MEP-_MLNm230mc9b+5F65UQ0pPx-MzFO12OAgg@mail.gmail.com>
Message-ID: <56E30357.70809@posteo.de>

Doug, areally  good idea for declarative syntax,indeed.
concerning the security, it will open a new can of worms, but
considering the possibiliies i think it is not the reason not to do it,
because it can be made optional.
i imagine three different mechanisms which are  very easy to implement:
-disallow the command for the high security environments. (by the way
how many websites interpret .scad? from what i know thingyverse only
shows the .stl so it is a non issue for the security of the site itself)
only run shell commands ifopenscadisrun with "unsecure" switch

-openscad could display big warning screens with commands before
executing  the script with the commnds and default toommiting the
commands unless the user makesan exceeption.

-all commands could be limited to running scripts javascript virtual
machine, which already has all the needed sandboxing and file io
security mechanisms built in it, because they always do.
(this wil mitigate the differences between unix and windows as well, but
this could be done by bundling unixshell with openscad package anyway.)

it is not trivial but not all that difficult..
Peter
On 11.03.2016 17:37, doug moen wrote:
> A third problem is that the syntax of shell commands is different
> between Windows, Mac, Linux. We'd want a syntax that is platform
> independent.
>
> The security issues could be mitigated by requiring that external
> "plugin" executables are installed in an OpenSCAD plugin directory.
>
> On 11 March 2016 at 11:06, doug moen <doug at moens.org
> <mailto:doug at moens.org>> wrote:
>
>     That's an interesting idea. It can be done in a declarative way.
>
>     external_transform("warp $in >$out", in="stl", out="stl") cube(10);
>
>     The external_transform module takes a shape as an argument, and
>     returns a second shape, which is constructed by executing a shell
>     command. The input shape is written to a file, the shell command
>     is run, then the output file is read to obtain the resulting shape.
>
>     I see two problems.
>
>     The big problem is security:
>        external_transform("rm -rf $HOME");
>     It allows people to write malicious OpenSCAD scripts. This would
>     be a problem for Thingiverse and other companies that allow people
>     to upload OpenSCAD scripts and execute them on their servers.
>     Hackers could distribute trojan-horse OpenSCAD scripts to attack
>     people's personal computers.
>
>     A smaller problem is that we'd have to execute the shell script
>     during preview, which would slow down preview. This could be
>     mitigated by caching.
>
>     On 11 March 2016 at 10:19, pproj at posteo.de
>     <mailto:pproj at posteo.de> <pproj at posteo.de
>     <mailto:pproj at posteo.de>> wrote:
>
>         Torsten  I was just thinking aloud.  of course i cannot be
>         sure what
>         impact these features(shape queering and plugins) would have
>         had on the
>         project development.
>         i beleive you have a much clearer perpective on the project as
>         a whole
>         anyway.
>
>         as for keepig the fast rendering functionality, it makes sense
>         to me,
>         but perhaps it could be an acceptable compromise for more
>         complex models.
>         i have to gcal-render big deal of the  models i have created
>         to make
>         them display properly or be able to turn them in the view without
>         waiting for tens of seconds.
>         i like complex models and i like to use .children() in my
>         libraries,
>         that is probably why.  but that is what .children() was made
>         for right?
>         i think i also see a compromise solution to pugins: if we
>         could scripts
>         the export to different formats, which are already available
>         from the
>         menu, from the scad code itself
>         and then could run an external tool and then import the
>         results back,
>         that woud be almost as good as plugins.
>
>         yes this could affect the declarativity of the scad code.
>         so perhaps creating a separate special  module in  code like
>         the classic
>         "main() function" accepting only imperative code as well as
>         render() calls could solve it.
>         i can also see a restriction to have only one main() in all
>         included
>         .scad files and libraries so the utility libraries do not use
>         it and do
>         not break the modularity and "nestability" of the library code
>         which
>         than have to stay declarative only.
>         i expect people to ask now, why not use shell instead?
>         here are my considerations:
>         -calling out from scad would be much more convenient and put
>         most of
>         simple "one line" dependencies into one scad file. it is also than
>         possible to pass information as command line parameters to the
>         "plugin"
>         command.
>         -it is overall much closer to plug-ins. there is a reason
>         other programs
>         have plugin systems besides being started from a shell as
>         well, so why
>         do they need it then?
>         -it is much easier to share a scad file  than an archive full
>         of shell
>         scripts and scad files, with scripts having to take care where
>         they have
>         been started from, where are the other files they need, etc.
>         -it is much simpler to put everything into a single file and
>         perhaps add
>         one external program or use a system program. HEY HOW ABOUT a
>         3D ls or
>         dir command with spheric files flying around your cubic
>         folders and
>         sub-folder wiggling next to them? just run the
>         3d-dir.scad...:) it just
>         one  hypothetical example of integration possibilities and
>         uses that
>         will open...
>         Peter
>          On 10.03.2016 22:01, Torsten Paul wrote:
>         > On 03/10/2016 04:46 PM, pproj at posteo.de
>         <mailto:pproj at posteo.de> wrote:
>         >> anyways by now i started to think  openscad really lacks
>         extensibility,
>         >> through plugins (like i.e. in inkscape) there would be more
>         efficient
>         >> possibilities for the problems at hand, perhaps there would
>         also be less
>         >> openscad-variants, and more improvements.
>         >>
>         > In general I do like the idea of plugins, but I'm not sure
>         how manageable
>         > that would be currently. Creating and maintaining a stable
>         plugin API is
>         > not an easy topic and that would probably mean even less
>         improvements in
>         > other areas.
>         >
>         > The geometry query part is certainly one of the biggest
>         issues, but that's
>         > not solvable by just adding plugins, it needs the internal
>         changes to
>         > support that without completely breaking good things like
>         the quick preview.
>         > That's one of the big things the OpenSCAD2 discussion is
>         supposed to give
>         > and I hope we can slowly move into that direction so there's
>         not a huge
>         > leap in the end when trying to get the full list of new
>         features.
>         >
>         > As for the variants, and side projects, I'm not so sure.
>         There will always
>         > be a number of use cases where the descriptive nature of
>         OpenSCAD is not
>         > going to cover everything and some additional frontend in a
>         general
>         > programming language is appropriate (like for reading data
>         from a database).
>         >
>         > ciao,
>         >   Torsten.
>         >
>         >
>         > _______________________________________________
>         > OpenSCAD mailing list
>         > Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>         >
>         http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>         >
>
>
>
>         _______________________________________________
>         OpenSCAD mailing list
>         Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>         http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/96cee20c/attachment.html>

From pproj at posteo.de  Fri Mar 11 12:45:40 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Fri, 11 Mar 2016 18:45:40 +0100
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAGV6i+O1GAa7MEP-_MLNm230mc9b+5F65UQ0pPx-MzFO12OAgg@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
	<CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
	<CAGV6i+O1GAa7MEP-_MLNm230mc9b+5F65UQ0pPx-MzFO12OAgg@mail.gmail.com>
Message-ID: <56E30444.9010402@posteo.de>

Doug, a really good idea for declarative syntax,indeed.

concerning the security, it will open a new can of worms, but
considering the possibilities, i think it is not the reason not to do it.
i imagine three different mechanisms which are  very easy to implement:

-it  could be turned off by default and only activated by the user.

-all commands could be limited to running scripts in a javascript
virtual machine, which already has all the needed sandboxing and file io
security mechanisms built into it, because they always do.
(this will mitigate the differences between unix and windows as well,
but this could be done by bundling unixshell with openscad package anyway.)

-disallow the command for the high security environments. (by the way
how many websites interpret .scad? from what i know thingyverse only
shows the .stl so it is a non-issue for the security of the site itself)
-only run shell commands if openscad isrun with "unsecure" switch

-openscad could display big warning screens with commands before
executing  the script with the commnds and default toommiting the
commands unless the user makesan exceeption.



it is not trivial but not all that difficult..
Peter
On 11.03.2016 17:37, doug moen wrote:
> A third problem is that the syntax of shell commands is different
> between Windows, Mac, Linux. We'd want a syntax that is platform
> independent.
>
> The security issues could be mitigated by requiring that external
> "plugin" executables are installed in an OpenSCAD plugin directory.
>
> On 11 March 2016 at 11:06, doug moen <doug at moens.org
> <mailto:doug at moens.org>> wrote:
>
>     That's an interesting idea. It can be done in a declarative way.
>
>     external_transform("warp $in >$out", in="stl", out="stl") cube(10);
>
>     The external_transform module takes a shape as an argument, and
>     returns a second shape, which is constructed by executing a shell
>     command. The input shape is written to a file, the shell command
>     is run, then the output file is read to obtain the resulting shape.
>
>     I see two problems.
>
>     The big problem is security:
>        external_transform("rm -rf $HOME");
>     It allows people to write malicious OpenSCAD scripts. This would
>     be a problem for Thingiverse and other companies that allow people
>     to upload OpenSCAD scripts and execute them on their servers.
>     Hackers could distribute trojan-horse OpenSCAD scripts to attack
>     people's personal computers.
>
>     A smaller problem is that we'd have to execute the shell script
>     during preview, which would slow down preview. This could be
>     mitigated by caching.
>
>     On 11 March 2016 at 10:19, pproj at posteo.de
>     <mailto:pproj at posteo.de> <pproj at posteo.de
>     <mailto:pproj at posteo.de>> wrote:
>
>         Torsten  I was just thinking aloud.  of course i cannot be
>         sure what
>         impact these features(shape queering and plugins) would have
>         had on the
>         project development.
>         i beleive you have a much clearer perpective on the project as
>         a whole
>         anyway.
>
>         as for keepig the fast rendering functionality, it makes sense
>         to me,
>         but perhaps it could be an acceptable compromise for more
>         complex models.
>         i have to gcal-render big deal of the  models i have created
>         to make
>         them display properly or be able to turn them in the view without
>         waiting for tens of seconds.
>         i like complex models and i like to use .children() in my
>         libraries,
>         that is probably why.  but that is what .children() was made
>         for right?
>         i think i also see a compromise solution to pugins: if we
>         could scripts
>         the export to different formats, which are already available
>         from the
>         menu, from the scad code itself
>         and then could run an external tool and then import the
>         results back,
>         that woud be almost as good as plugins.
>
>         yes this could affect the declarativity of the scad code.
>         so perhaps creating a separate special  module in  code like
>         the classic
>         "main() function" accepting only imperative code as well as
>         render() calls could solve it.
>         i can also see a restriction to have only one main() in all
>         included
>         .scad files and libraries so the utility libraries do not use
>         it and do
>         not break the modularity and "nestability" of the library code
>         which
>         than have to stay declarative only.
>         i expect people to ask now, why not use shell instead?
>         here are my considerations:
>         -calling out from scad would be much more convenient and put
>         most of
>         simple "one line" dependencies into one scad file. it is also than
>         possible to pass information as command line parameters to the
>         "plugin"
>         command.
>         -it is overall much closer to plug-ins. there is a reason
>         other programs
>         have plugin systems besides being started from a shell as
>         well, so why
>         do they need it then?
>         -it is much easier to share a scad file  than an archive full
>         of shell
>         scripts and scad files, with scripts having to take care where
>         they have
>         been started from, where are the other files they need, etc.
>         -it is much simpler to put everything into a single file and
>         perhaps add
>         one external program or use a system program. HEY HOW ABOUT a
>         3D ls or
>         dir command with spheric files flying around your cubic
>         folders and
>         sub-folder wiggling next to them? just run the
>         3d-dir.scad...:) it just
>         one  hypothetical example of integration possibilities and
>         uses that
>         will open...
>         Peter
>          On 10.03.2016 22:01, Torsten Paul wrote:
>         > On 03/10/2016 04:46 PM, pproj at posteo.de
>         <mailto:pproj at posteo.de> wrote:
>         >> anyways by now i started to think  openscad really lacks
>         extensibility,
>         >> through plugins (like i.e. in inkscape) there would be more
>         efficient
>         >> possibilities for the problems at hand, perhaps there would
>         also be less
>         >> openscad-variants, and more improvements.
>         >>
>         > In general I do like the idea of plugins, but I'm not sure
>         how manageable
>         > that would be currently. Creating and maintaining a stable
>         plugin API is
>         > not an easy topic and that would probably mean even less
>         improvements in
>         > other areas.
>         >
>         > The geometry query part is certainly one of the biggest
>         issues, but that's
>         > not solvable by just adding plugins, it needs the internal
>         changes to
>         > support that without completely breaking good things like
>         the quick preview.
>         > That's one of the big things the OpenSCAD2 discussion is
>         supposed to give
>         > and I hope we can slowly move into that direction so there's
>         not a huge
>         > leap in the end when trying to get the full list of new
>         features.
>         >
>         > As for the variants, and side projects, I'm not so sure.
>         There will always
>         > be a number of use cases where the descriptive nature of
>         OpenSCAD is not
>         > going to cover everything and some additional frontend in a
>         general
>         > programming language is appropriate (like for reading data
>         from a database).
>         >
>         > ciao,
>         >   Torsten.
>         >
>         >
>         > _______________________________________________
>         > OpenSCAD mailing list
>         > Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>         >
>         http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>         >
>
>
>
>         _______________________________________________
>         OpenSCAD mailing list
>         Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>         http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/9aaca2f6/attachment.html>

From pproj at posteo.de  Fri Mar 11 12:48:51 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Fri, 11 Mar 2016 18:48:51 +0100
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <20160311173009.01bf9f80@www.etchedpixels.co.uk>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
	<CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
	<20160311173009.01bf9f80@www.etchedpixels.co.uk>
Message-ID: <56E30503.5090200@posteo.de>

hello Alan
this would be resolved by the javascript sandbox i mentioned in my
previos post.
what exactyl do you mean by
"there are other tools for programmatically generating objects and then
using OpenSCAD to render them. "?
Peter
 On 11.03.2016 18:30, Alan Cox wrote:
> On Fri, 11 Mar 2016 11:06:21 -0500
> doug moen <doug at moens.org> wrote:
>
>> That's an interesting idea. It can be done in a declarative way.
>>
>> external_transform("warp $in >$out", in="stl", out="stl") cube(10);
>>
>> The external_transform module takes a shape as an argument, and returns a
>> second shape, which is constructed by executing a shell command. The input
>> shape is written to a file, the shell command is run, then the output file
>> is read to obtain the resulting shape.
>>
>> I see two problems.
>>
>> The big problem is security:
>>    external_transform("rm -rf $HOME");
>> It allows people to write malicious OpenSCAD scripts. This would be a
>> problem for Thingiverse and other companies that allow people to upload
>> OpenSCAD scripts and execute them on their servers. Hackers could
>> distribute trojan-horse OpenSCAD scripts to attack people's personal
>> computers.
>>
>> A smaller problem is that we'd have to execute the shell script during
>> preview, which would slow down preview. This could be mitigated by caching.
> Another big problem you then have is that you then have to deal with
> plugins that only run on one platform or have different versions at which
> point all the portability and consistency goes up in smoke.
>
> There are other tools for programmatically generating objects and then
> using OpenSCAD to render them. It seems unfortunate that people are still
> trying to "fix" openscad rather than just treat it as a tool that does
> one job well.
>
> Alan
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>



From rudolf at parkinbot.com  Fri Mar 11 13:21:30 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Fri, 11 Mar 2016 11:21:30 -0700 (MST)
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E2E188.4070904@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<1457656117541-16402.post@n5.nabble.com>
	<56E2E188.4070904@posteo.de>
Message-ID: <1457720490319-16417.post@n5.nabble.com>

Peter, 

from your answer I can guess you didn't fully unterstand, what I meant. I
did NOT mean to use a hull operation in OpenSCAD. 
I meant to use JavaScript to
1. parse an STL export of your model
2. determine all surface parts that need support (using criteria like:
triangle inclination > min_support_angle)
3. close this surface against xy plane (z=0) into an object that describes
the full volume (=hull) of your support and write it out as STL.

This is more or less straight forward. Then continue with OpenSCAD
3. import this STL and use intersection() to cut the support from a generic
block of sine infill structure 
4. combine your support with your model. 

This is also straight forward.


Peter wrote
> i.e. just as you write creating a hull of the model and subtracting it
> from the support structures will help,
> if the Model is not convex it will not quite work, but one can
> "subdivide" the model using a small cube  "rastering" the Space
> containing your model, creating smaller Hulls in the intersection with
> this cube and then unioning them together and subtracting the whole
> thing from the support structure.





--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16417.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From alan at lxorguk.ukuu.org.uk  Fri Mar 11 13:28:42 2016
From: alan at lxorguk.ukuu.org.uk (Alan Cox)
Date: Fri, 11 Mar 2016 18:28:42 +0000
Subject: [OpenSCAD] plugins and the 3d-Dir.scad command;
 was: Re: [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E30503.5090200@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de> <56E1E0A3.8080107@gmx.de>
	<56E2E202.7010007@posteo.de>
	<CAGV6i+Ok-=3V8LGyFVa4MrZ6Z2V40o6C5pDz4FnQnD+DYbCfYw@mail.gmail.com>
	<20160311173009.01bf9f80@www.etchedpixels.co.uk>
	<56E30503.5090200@posteo.de>
Message-ID: <20160311182842.5b817085@www.etchedpixels.co.uk>

On Fri, 11 Mar 2016 18:48:51 +0100
"pproj at posteo.de" <pproj at posteo.de> wrote:

> hello Alan
> this would be resolved by the javascript sandbox i mentioned in my
> previos post.
> what exactyl do you mean by
> "there are other tools for programmatically generating objects and then
> using OpenSCAD to render them. "?

OpenSCAD is a tool that turns one set of input into another. If you need
to do more complex stuff you can already wrap it in other tools and call
it as needed.

Alan


From nop.head at gmail.com  Fri Mar 11 13:47:31 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 11 Mar 2016 18:47:31 +0000
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <1457720490319-16417.post@n5.nabble.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<1457656117541-16402.post@n5.nabble.com>
	<56E2E188.4070904@posteo.de>
	<1457720490319-16417.post@n5.nabble.com>
Message-ID: <CAEEmnrP8Ef4dKxs2YOB3WxpK9ngBaWTHFwjq0ZbJCD59mU5_+A@mail.gmail.com>

Why not just fork your favourite open source slicer and modify the support
material generation in that?

On 11 March 2016 at 18:21, Parkinbot <rudolf at parkinbot.com> wrote:

> Peter,
>
> from your answer I can guess you didn't fully unterstand, what I meant. I
> did NOT mean to use a hull operation in OpenSCAD.
> I meant to use JavaScript to
> 1. parse an STL export of your model
> 2. determine all surface parts that need support (using criteria like:
> triangle inclination > min_support_angle)
> 3. close this surface against xy plane (z=0) into an object that describes
> the full volume (=hull) of your support and write it out as STL.
>
> This is more or less straight forward. Then continue with OpenSCAD
> 3. import this STL and use intersection() to cut the support from a generic
> block of sine infill structure
> 4. combine your support with your model.
>
> This is also straight forward.
>
>
> Peter wrote
> > i.e. just as you write creating a hull of the model and subtracting it
> > from the support structures will help,
> > if the Model is not convex it will not quite work, but one can
> > "subdivide" the model using a small cube  "rastering" the Space
> > containing your model, creating smaller Hulls in the intersection with
> > this cube and then unioning them together and subtracting the whole
> > thing from the support structure.
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16417.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/b177ec8d/attachment.html>

From andrew at plumb.org  Fri Mar 11 14:01:41 2016
From: andrew at plumb.org (clothbot)
Date: Fri, 11 Mar 2016 12:01:41 -0700 (MST)
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E2E232.20207@jonbondy.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
Message-ID: <1457722901233-16420.post@n5.nabble.com>

If/when there is a convex_decomposition() function implemented (see
https://github.com/openscad/openscad/issues/1562), here's one approach you
could take to create support 'mask' geometry which could then be
intersection()'d with your support pattern:

https://github.com/clothbot/ClothBotCreations/blob/master/examples/concave_support.scad

https://github.com/clothbot/ClothBotCreations/blob/master/examples/concave_support_faked.png

- the projection(cut=false) gets the 'shadow' for each concave part.

- linear_extrude the shadow by a layer thickness and hull() it with the
original concave part to 'fill' the support volume.

- difference off minkowski() all of the original concave parts with a 'small
enough' spacer shape so the slicer doesn't try to join the support to the
original part.

Once you have that 'concave_support' output, do an intersection() with your
support pattern for the final geometry.

Andrew.



--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16420.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From scott at grad-p.com  Fri Mar 11 15:40:42 2016
From: scott at grad-p.com (Scott Haynes)
Date: Fri, 11 Mar 2016 13:40:42 -0700
Subject: [OpenSCAD] SCAD format & injection molding
Message-ID: <1457728842.19130.4.camel@grad-p.com>

Hello OpenSCAD forum, I'd like to introduce myself and thank??the
developers of OpenSCAD for their efforts building a wonderful software
package.

My question is are their any plastic injection molding companies that
will work with native SCAD files? I've got a family of parts designed
in SCAD I'd like to build in bulk. The first injection
molding??manufacturer I contacted regarding building these parts only
accepts designs done in surface model format (i.e. STEP and a bunch of
others). I briefly toyed around with conversion of my SCAD parts using
FreeCAD but the results were not good.?

I'm asking the question here as what I've learned about this subject
suggest that it's non-trivial going from SCAD to a surface format and
these surface formats are necessary for the??linear/circular G-code
used to make molds in the injection molded plastic's industry. I'd like
to know if someone on the list has had success building a complicated
SCAD part via??injection molding. If so who did you use??

Thanks in advance for your replies and feel free to contact me
privately if you have a name.?

Best Regards

Scott





From marius at kintel.net  Fri Mar 11 16:55:16 2016
From: marius at kintel.net (Marius Kintel)
Date: Fri, 11 Mar 2016 16:55:16 -0500
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
Message-ID: <84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>

> 
> Please, review it so that I can try to solve other ones. I have send
> pull request
> 
> https://github.com/openscad/openscad/pull/1601
> 
Thanks!

A few comments:
o Please mention in the commit message and/or pull request description which issue you?ve solved. Otherwise it?s hard to follow the development for other members.
o In issue #1526 there?s a discussion on which shortcut to use. I would recommend posting your suggestion there, asking if anyone disagrees with the choice of shortcut.
o Before merging, we should document the shortcut in the wiki page mentioned in issue #1526
o A tip: Don?t use your master branch for pull requests. If you have more than one pull request open, you?ll run into problems as the pull request automatically tracks your branch.

 -Marius



From stempeldergeschichte at googlemail.com  Fri Mar 11 17:11:17 2016
From: stempeldergeschichte at googlemail.com (Peter Falke)
Date: Fri, 11 Mar 2016 23:11:17 +0100
Subject: [OpenSCAD] Off-Topic: 3d print knock off
Message-ID: <CAJgOqACFxBPLbrjUNiSFLTawe8_kUTokimK_MiuaqCQ3agou6g@mail.gmail.com>

Funny story about a knock off of a 3d print:

https://www.youtube.com/watch?v=j8eKv2clSX4&ebc=ANyPxKoKyg1-stb1d_xIbiqngY6yOI80h2N_Zft2vKUad8o-cRaU_E_KZNBfmK9kjjUruk_tdyrXd0GMpusbf6A_o5PE0dchCw

Please have a look at his other videos for some really nice things done
with 3d printet gears.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160311/df0575ac/attachment.html>

From mschafer at wireframe.biz  Fri Mar 11 18:23:19 2016
From: mschafer at wireframe.biz (Neon22)
Date: Fri, 11 Mar 2016 16:23:19 -0700 (MST)
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <1457722901233-16420.post@n5.nabble.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
Message-ID: <1457738599021-16424.post@n5.nabble.com>

@clothbot - that is a very nice solution. looking fwd to it...



--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16424.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Fri Mar 11 19:35:53 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Fri, 11 Mar 2016 17:35:53 -0700 (MST)
Subject: [OpenSCAD] Can someone explain this strange behaviour with preview ?
Message-ID: <1457742953080-16425.post@n5.nabble.com>

Hello

I intend to use frequently the module ring() in the code below because it is
much faster than the difference() between cylinders or even ring2(). However
some anomalies happen in preview mode like those in the first picture.
After rendering, the results of test1() and test2() are OK. Using the slower
ring2() all goes well except that I miss the facility of using the option
SidesIn and SidesOut useful to generate nuts and bolts. 
My problem is speed because I'm attaching a set of parts with lots of bolts
nuts and washers.

Can someone explain why this happens?
Preview:
<http://forum.openscad.org/file/n16425/Capture1.jpg> 
After rendering:
<http://forum.openscad.org/file/n16425/Capture2.jpg> 

Now the code:


DSides=48;
delta=0.01;
module tsl (x,y=0,z=0) {translate([x,y,z]) children();}
module rot (x,y=0,z=0) {rotate([x,y,z]) children();}

module ring(pos=[0,0,0], angl=[0,0,0], Hgt, Dout, Din, SidesOut, SidesIn)
{
	translate(pos) rotate(angl)
	linear_extrude(height=Hgt){	
		difference(){
			circle( d=Dout, $fn=SidesOut);
			circle( d=Din, $fn=SidesIn);
		}
	}	
}

module ring2(pos=[0,0,0], angl=[0,0,0], Hgt, Dout, Din, Sides, Sector)  //
"ring()" is faster
{			
    translate(pos) rotate(angl)
    rotate_extrude(angle=Sector, convexity=2, $fn=DSides ) 
		translate([Din/2,0,0]) 
			square([(Dout-Din)/2,Hgt]); 			
}

module test1(){
	difference(){ 
		union(){
			tsl(0, 0, 7.6) cylinder(h=5.9+7.6+7.6, d=14, $fn=DSides);
			tsl(0, 0, 5.9+7.6+7.4) cylinder(h=20.6, d=16, $fn=DSides);
		}
		tsl(0,0,7.5) cylinder(h=19, d1=12, d2=7, $fn=DSides);
		tsl(0,0,5.9+7.6+7.4+20.6-11) cylinder(h=11+delta, d=8, $fn=DSides);
		tsl(-10, 7, 5.9+7.6+7.4+3.8) cube([20, 3, 8]); 
		tsl(-10, -7-3, 5.9+7.6+7.4+3.8) cube([20, 3, 8]);		
	}
}

module test2(){ //using ring()
	tsl(30,0,0){
		difference(){ 
			union(){
				tsl(0, 0, 7.6) cylinder(h=5.9+7.6+7.6, d=14, $fn=DSides);
				//ring2([0, 0, 5.9+7.6+7.4], [0,0,0], 20.6, 16, 8, DSides);
				ring([0, 0, 5.9+7.6+7.4], [0,0,0], 20.6, 16, 8, DSides, DSides, 80);
			}
			// All the following lines are problematic with preview
			tsl(0,0,7.5) cylinder(h=19, d1=12, d2=7, $fn=DSides);
		   tsl(0,0,5.9+7.6+7.4+20.6-11) cylinder(h=11+delta, d=8, $fn=DSides);
		   tsl(-10, 7, 5.9+7.6+7.4+3.8) cube([20, 3, 8]); 
		   tsl(-10, -7-3, 5.9+7.6+7.4+3.8) cube([20, 3, 8]);	
		}
	}
}

test1(); 
test2();

Thanks
jpmendes



      



--
View this message in context: http://forum.openscad.org/Can-someone-explain-this-strange-behaviour-with-preview-tp16425.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Fri Mar 11 19:39:36 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sat, 12 Mar 2016 01:39:36 +0100
Subject: [OpenSCAD] Can someone explain this strange behaviour with
 preview ?
In-Reply-To: <1457742953080-16425.post@n5.nabble.com>
References: <1457742953080-16425.post@n5.nabble.com>
Message-ID: <56E36548.3020508@gmx.de>

On 03/12/2016 01:35 AM, jpmendes wrote:
> I intend to use frequently the module ring() in the code below because it is
> much faster than the difference() between cylinders or even ring2(). However
> some anomalies happen in preview mode like those in the first picture.
>
Looks like a case of that:
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/FAQ#Why_are_some_parts_.28e.g._holes.29_of_the_model_not_rendered_correctly.3F

ciao,
  Torsten.




From mschafer at wireframe.biz  Fri Mar 11 19:51:23 2016
From: mschafer at wireframe.biz (Neon22)
Date: Fri, 11 Mar 2016 17:51:23 -0700 (MST)
Subject: [OpenSCAD] Can someone explain this strange behaviour with
	preview ?
In-Reply-To: <1457742953080-16425.post@n5.nabble.com>
References: <1457742953080-16425.post@n5.nabble.com>
Message-ID: <1457743883406-16427.post@n5.nabble.com>

you haven't added convexity into the linear-extrude in ring()



--
View this message in context: http://forum.openscad.org/Can-someone-explain-this-strange-behaviour-with-preview-tp16425p16427.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Fri Mar 11 20:01:15 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Fri, 11 Mar 2016 18:01:15 -0700 (MST)
Subject: [OpenSCAD] Can someone explain this strange behaviour with
	preview ?
In-Reply-To: <1457743883406-16427.post@n5.nabble.com>
References: <1457742953080-16425.post@n5.nabble.com>
	<1457743883406-16427.post@n5.nabble.com>
Message-ID: <1457744475229-16428.post@n5.nabble.com>

Ooops! Basic mistake.
Thanks Neon22



--
View this message in context: http://forum.openscad.org/Can-someone-explain-this-strange-behaviour-with-preview-tp16425p16428.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Fri Mar 11 22:01:33 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Sat, 12 Mar 2016 00:01:33 -0300
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <1457738599021-16424.post@n5.nabble.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
Message-ID: <CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>

@clothbot strategy may be nicely implemented without any extension to the
last OpenSCAD version.

?
?
part_height = 50;

module up_hull(h){
  minkowski(){
    children();
    cylinder(r1=0,r2=h/100,h=h);
  }
}

module support_mask(ph){
  render(convexity=10)
    difference() {
      linear_extrude(height=ph)
        projection(cut=false)
          children();
      up_hull(ph)
        children();
  }
}

render(convexity = 4) part();
translate([150,0,0]) projection(cut=false) part();
translate([300,0,0]) linear_extrude(height=part_height)
projection(cut=false) part();
translate([450,0,0]) up_hull(part_height) part();
translate([600,0,0]) support_mask(part_height) part();


2016-03-11 20:23 GMT-03:00 Neon22 <mschafer at wireframe.biz>:

> @clothbot - that is a very nice solution. looking fwd to it...
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16424.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/f9d949a6/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: support_mask2.png
Type: image/png
Size: 73436 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/f9d949a6/attachment.png>

From nop.head at gmail.com  Sat Mar 12 03:01:38 2016
From: nop.head at gmail.com (nop head)
Date: Sat, 12 Mar 2016 08:01:38 +0000
Subject: [OpenSCAD] Can someone explain this strange behaviour with
 preview ?
In-Reply-To: <1457744475229-16428.post@n5.nabble.com>
References: <1457742953080-16425.post@n5.nabble.com>
	<1457743883406-16427.post@n5.nabble.com>
	<1457744475229-16428.post@n5.nabble.com>
Message-ID: <CAEEmnrP-kMEm5sXAvb3qPbKHMgPiZ=hn94Nz84t=SUr9NxY8wg@mail.gmail.com>

If you have lots of nuts, bolts and washers put render() in the modules
that generated them. Then only one of each size is converted to a mesh,
cached and reused. It makes viewing assemblies much faster.

In my designs all the vitamins have a render() and a color() at the top
level of their module. The plastic parts don't have render in their modules
but are rendered() where they are used in the assembly view. That is how I
can view a machine with hundreds of parts and pan and rotate it at high
frame rates. To work on a plastic part I show it in isolation and the F5
preview is then fast as it doesn't include a render.

On 12 March 2016 at 01:01, jpmendes <jpmendes54 at gmail.com> wrote:

> Ooops! Basic mistake.
> Thanks Neon22
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Can-someone-explain-this-strange-behaviour-with-preview-tp16425p16428.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/2350e978/attachment.html>

From pproj at posteo.de  Sat Mar 12 06:31:19 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 12:31:19 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
Message-ID: <56E3FE07.3000007@posteo.de>

Ronaldo nice indeed,
but how would  you implement a _continuous_  sinus form?
any cut through a pre-made sinus filed block will produce many
discontinuities which will slowdown the printing process  a lot.
there is no way i can think of of joining these together again in scad,
many slow prints where my support was way slower than slic3rs, and
inability to query existing geometry  were what made me turn to javascript.
it was not an easy decision.

actually i can see this this approach as a perfect complement to a an
external sinus tool.
i will just have to export the step#2 as svg,fill it with sinus with the
external tool (or half-circle which might turn out to be even faster)
 then extrude the result and cut it like  your last form
Peter

On 12.03.2016 04:01, Ronaldo Persiano wrote:
> @clothbot strategy may be nicely implemented without any extension to
> the last OpenSCAD version.
>
> ?
> ?
> part_height = 50;
>
> module up_hull(h){
>   minkowski(){
>     children();
>     cylinder(r1=0,r2=h/100,h=h);
>   }
> }
>
> module support_mask(ph){
>   render(convexity=10)
>     difference() {
>       linear_extrude(height=ph)
>         projection(cut=false)
>           children();
>       up_hull(ph)
>         children();
>   }
> }
>
> render(convexity = 4) part();
> translate([150,0,0]) projection(cut=false) part();
> translate([300,0,0]) linear_extrude(height=part_height)
> projection(cut=false) part();
> translate([450,0,0]) up_hull(part_height) part();
> translate([600,0,0]) support_mask(part_height) part();
>
>
> 2016-03-11 20:23 GMT-03:00 Neon22 <mschafer at wireframe.biz
> <mailto:mschafer at wireframe.biz>>:
>
>     @clothbot - that is a very nice solution. looking fwd to it...
>
>
>
>     --
>     View this message in context:
>     http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16424.html
>     Sent from the OpenSCAD mailing list archive at Nabble.com.
>
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/0c7d31b5/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 73436 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/0c7d31b5/attachment.png>

From pproj at posteo.de  Sat Mar 12 06:36:35 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 12:36:35 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <CAEEmnrP8Ef4dKxs2YOB3WxpK9ngBaWTHFwjq0ZbJCD59mU5_+A@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<1457656117541-16402.post@n5.nabble.com> <56E2E188.4070904@posteo.de>
	<1457720490319-16417.post@n5.nabble.com>
	<CAEEmnrP8Ef4dKxs2YOB3WxpK9ngBaWTHFwjq0ZbJCD59mU5_+A@mail.gmail.com>
Message-ID: <56E3FF43.1030006@posteo.de>

>Why not just fork your favourite open source slicer and modify the
support material generation in that?

i was thinking about this but i see to many cons:
i consider forks harmful, i think if a project disintegrates into many
forks, there is a good chance it will cease to exits all together soon.
i would be  stuck with the version of slicer which i have forked,
redoing the same changes for every  new version and creating even more
forks is not a trivial task. that means the changes will be obsolete
quickly.
it is much more effort to study the complex inner working of the slicer
to be able to implement stuff inside , compile it , test the whole
thing. it is a much bigger project than creating a small script.
one could consider forking and extending openscad itself with the "call
out to javascript" functionality  as well. at least this might limit the
desire for even more forks. and it appears to me be an easier
project(though i do not know really), but i do not want to create
another f#rking f#rk of openscad anyway!
 i think getting along with other people and creating stuff together is
a much harder project, than just doing it for yourself and forking, but
in the end it should be better for everybody.(in theory at least)
 Peter
On 11.03.2016 19:47, nop head wrote:
>
>
> On 11 March 2016 at 18:21, Parkinbot <rudolf at parkinbot.com
> <mailto:rudolf at parkinbot.com>> wrote:
>
>     Peter,
>
>     from your answer I can guess you didn't fully unterstand, what I
>     meant. I
>     did NOT mean to use a hull operation in OpenSCAD.
>     I meant to use JavaScript to
>     1. parse an STL export of your model
>     2. determine all surface parts that need support (using criteria like:
>     triangle inclination > min_support_angle)
>     3. close this surface against xy plane (z=0) into an object that
>     describes
>     the full volume (=hull) of your support and write it out as STL.
>
>     This is more or less straight forward. Then continue with OpenSCAD
>     3. import this STL and use intersection() to cut the support from
>     a generic
>     block of sine infill structure
>     4. combine your support with your model.
>
>     This is also straight forward.
>
>
>     Peter wrote
>     > i.e. just as you write creating a hull of the model and
>     subtracting it
>     > from the support structures will help,
>     > if the Model is not convex it will not quite work, but one can
>     > "subdivide" the model using a small cube  "rastering" the Space
>     > containing your model, creating smaller Hulls in the
>     intersection with
>     > this cube and then unioning them together and subtracting the whole
>     > thing from the support structure.
>
>
>
>
>
>     --
>     View this message in context:
>     http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16417.html
>     Sent from the OpenSCAD mailing list archive at Nabble.com.
>
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/e440c358/attachment.html>

From pproj at posteo.de  Sat Mar 12 07:02:18 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 13:02:18 +0100
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <1457720490319-16417.post@n5.nabble.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<1457656117541-16402.post@n5.nabble.com> <56E2E188.4070904@posteo.de>
	<1457720490319-16417.post@n5.nabble.com>
Message-ID: <56E4054A.1020209@posteo.de>

ok i see now, yes.
these mechanisms ,whether you put them into openscad code, slicer or
JavaScript tool, are very nice to have.
but one could live without them at all in a great deal of cases, just
union the model with a support material block of the height you choose.
if you consider the angle to be steep enough , just do not do it.

the whole point of the tool was to produce the _continuous_ form inside
the support material block which fits the outline of the model, so that
you do not get many separate half waves at the outline. these
discontinuities  turned out very slow to print because of filament
retractions, deccelerations and "idle" head moves.
Peter
On 11.03.2016 19:21, Parkinbot wrote:
> Peter, 
>
> from your answer I can guess you didn't fully unterstand, what I meant. I
> did NOT mean to use a hull operation in OpenSCAD. 
> I meant to use JavaScript to
> 1. parse an STL export of your model
> 2. determine all surface parts that need support (using criteria like:
> triangle inclination > min_support_angle)
> 3. close this surface against xy plane (z=0) into an object that describes
> the full volume (=hull) of your support and write it out as STL.
>
> This is more or less straight forward. Then continue with OpenSCAD
> 3. import this STL and use intersection() to cut the support from a generic
> block of sine infill structure 
> 4. combine your support with your model. 
>
> This is also straight forward.
>
>
> Peter wrote
>> i.e. just as you write creating a hull of the model and subtracting it
>> from the support structures will help,
>> if the Model is not convex it will not quite work, but one can
>> "subdivide" the model using a small cube  "rastering" the Space
>> containing your model, creating smaller Hulls in the intersection with
>> this cube and then unioning them together and subtracting the whole
>> thing from the support structure.
>
>
>
>
> --
> View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16417.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>




From cyril.vignet at centraliens.net  Sat Mar 12 07:07:57 2016
From: cyril.vignet at centraliens.net (Cyril)
Date: Sat, 12 Mar 2016 13:07:57 +0100
Subject: [OpenSCAD] User interface brushup
Message-ID: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>

Hello everyone,

I am a fan of openscad but totally new to this list so apologize if out of topic, but it is said you are open to new ideas.

I am using opens cad with children (around 9 years old and more). I found that the parallel between formulas and volumes: 
- is very interesting for education
- is another way to understand programming with anchor to the real (one the file is pretend in 3D)

Nevertheless, Have you ever considered to provide a user interface with a scratch/snap look and feel ? it will be be a lot easier for beginners and children.

best

Cyril 

From doug at moens.org  Sat Mar 12 07:43:46 2016
From: doug at moens.org (doug moen)
Date: Sat, 12 Mar 2016 07:43:46 -0500
Subject: [OpenSCAD] User interface brushup
In-Reply-To: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
References: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
Message-ID: <CAGV6i+NYU2hrMzUFjF39DxrEJmsL8qR38yk4c0+wFZgf6TKTUg@mail.gmail.com>

Try BlocksCAD:
https://blockscad.einsteinsworkshop.com/

On 12 March 2016 at 07:07, Cyril <cyril.vignet at centraliens.net> wrote:

> Hello everyone,
>
> I am a fan of openscad but totally new to this list so apologize if out of
> topic, but it is said you are open to new ideas.
>
> I am using opens cad with children (around 9 years old and more). I found
> that the parallel between formulas and volumes:
> - is very interesting for education
> - is another way to understand programming with anchor to the real (one
> the file is pretend in 3D)
>
> Nevertheless, Have you ever considered to provide a user interface with a
> scratch/snap look and feel ? it will be be a lot easier for beginners and
> children.
>
> best
>
> Cyril
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/44a74083/attachment.html>

From cyril.vignet at centraliens.net  Sat Mar 12 08:25:08 2016
From: cyril.vignet at centraliens.net (Cyril Vignet)
Date: Sat, 12 Mar 2016 06:25:08 -0700 (MST)
Subject: [OpenSCAD] User interface brushup
In-Reply-To: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
References: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
Message-ID: <1457789108088-16436.post@n5.nabble.com>

Thank you so much.



--
View this message in context: http://forum.openscad.org/User-interface-brushup-tp16434p16436.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From pproj at posteo.de  Sat Mar 12 08:26:57 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 14:26:57 +0100
Subject: [OpenSCAD] User interface brushup
In-Reply-To: <CAGV6i+NYU2hrMzUFjF39DxrEJmsL8qR38yk4c0+wFZgf6TKTUg@mail.gmail.com>
References: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
	<CAGV6i+NYU2hrMzUFjF39DxrEJmsL8qR38yk4c0+wFZgf6TKTUg@mail.gmail.com>
Message-ID: <56E41921.7090909@posteo.de>

On 12.03.2016 13:43, doug moen wrote:
> Try BlocksCAD:
> https://blockscad.einsteinsworkshop.com/
wow! what a great idea with the puzzle mechanism! carried out very well too!
i might use it as well myself, or recommend it to my artist friends
the only thing which dampens myexcitement is this line int the "about":
"Developed with the sponsorship of the Defense Advanced Research
Projects Agency (DARPA)"
what are they up to with it? 
Peter

>
> On 12 March 2016 at 07:07, Cyril <cyril.vignet at centraliens.net
> <mailto:cyril.vignet at centraliens.net>> wrote:
>
>     Hello everyone,
>
>     I am a fan of openscad but totally new to this list so apologize
>     if out of topic, but it is said you are open to new ideas.
>
>     I am using opens cad with children (around 9 years old and more).
>     I found that the parallel between formulas and volumes:
>     - is very interesting for education
>     - is another way to understand programming with anchor to the real
>     (one the file is pretend in 3D)
>
>     Nevertheless, Have you ever considered to provide a user interface
>     with a scratch/snap look and feel ? it will be be a lot easier for
>     beginners and children.
>
>     best
>
>     Cyril
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/d60e23f1/attachment.html>

From rudolf at parkinbot.com  Sat Mar 12 08:45:38 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sat, 12 Mar 2016 06:45:38 -0700 (MST)
Subject: [OpenSCAD] [semi-on-topic] print speed optimized sinus support
 material. integration interface possible??
In-Reply-To: <56E3FE07.3000007@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
Message-ID: <1457790338652-16438.post@n5.nabble.com>

The following code will create a box filled with cosine support. CGAL
rendering is almost instantaneous.
Is it what you were asking for? 

<http://forum.openscad.org/file/n16438/sinecomb.png> 


> supportblock(); 
> 
> module supportblock(rows = 10, cols = 10, box = [100, 100, 10], thickness
> = .1)
> {
>   amplitude = box[1]/rows/2; 
>   wavelength = box[0]/cols *PI; 
>   linear_extrude(height = box[2])
>   for(i = [0:rows-1])
>     Ty(i*amplitude*2)
>     polygon(points = sine(cols, amplitude, wavelength, i%2, thickness)); 
> }
> 
> function sine(periods, amplitude, wavelength, mode, thickness = .01) = 
>   let(amp = amplitude-thickness/1.9)
>   concat(
>    [for(i=[0:10:360*periods]) [i/wavelength, amp*cos(i+mode*180)]], 
>    [for(i=[360*periods:-1:0]) [i/wavelength,
> amp*cos(i+mode*180)+thickness]]); 

Rudolf 




--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sat Mar 12 08:57:30 2016
From: doug at moens.org (doug moen)
Date: Sat, 12 Mar 2016 08:57:30 -0500
Subject: [OpenSCAD] User interface brushup
In-Reply-To: <56E41921.7090909@posteo.de>
References: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
	<CAGV6i+NYU2hrMzUFjF39DxrEJmsL8qR38yk4c0+wFZgf6TKTUg@mail.gmail.com>
	<56E41921.7090909@posteo.de>
Message-ID: <CAGV6i+Mf7aGD=YAePP-RoUrqBvmpOZm9ZboxE7XjDGAuVLG_Dw@mail.gmail.com>

DARPA also sponsored the development of the Internet (originally called
ArpaNet), along with a lot of other beneficial, open source tech we rely
on. They sponsor STEM education for kids because it ties in to their
mission of maintaining US technological superiority. For example,
http://www.etc.cmu.edu/engage/

On 12 March 2016 at 08:26, pproj at posteo.de <pproj at posteo.de> wrote:

> On 12.03.2016 13:43, doug moen wrote:
>
> Try BlocksCAD:
> https://blockscad.einsteinsworkshop.com/
>
> wow! what a great idea with the puzzle mechanism! carried out very well
> too!
> i might use it as well myself, or recommend it to my artist friends
> the only thing which dampens myexcitement is this line int the "about":
> "Developed with the sponsorship of the Defense Advanced Research Projects
> Agency (DARPA)"
> what are they up to with it?
> Peter
>
>
> On 12 March 2016 at 07:07, Cyril <cyril.vignet at centraliens.net> wrote:
>
>> Hello everyone,
>>
>> I am a fan of openscad but totally new to this list so apologize if out
>> of topic, but it is said you are open to new ideas.
>>
>> I am using opens cad with children (around 9 years old and more). I found
>> that the parallel between formulas and volumes:
>> - is very interesting for education
>> - is another way to understand programming with anchor to the real (one
>> the file is pretend in 3D)
>>
>> Nevertheless, Have you ever considered to provide a user interface with a
>> scratch/snap look and feel ? it will be be a lot easier for beginners and
>> children.
>>
>> best
>>
>> Cyril
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
>
> _______________________________________________
> OpenSCAD mailing listDiscuss at lists.openscad.orghttp://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/153c2593/attachment.html>

From pproj at posteo.de  Sat Mar 12 09:14:47 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 15:14:47 +0100
Subject: [OpenSCAD] User interface brushup
In-Reply-To: <CAGV6i+Mf7aGD=YAePP-RoUrqBvmpOZm9ZboxE7XjDGAuVLG_Dw@mail.gmail.com>
References: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
	<CAGV6i+NYU2hrMzUFjF39DxrEJmsL8qR38yk4c0+wFZgf6TKTUg@mail.gmail.com>
	<56E41921.7090909@posteo.de>
	<CAGV6i+Mf7aGD=YAePP-RoUrqBvmpOZm9ZboxE7XjDGAuVLG_Dw@mail.gmail.com>
Message-ID: <56E42457.9080302@posteo.de>

i am not sure that makes it any better, but never the less this time USA
taxpayers moneys goint into an interesting project and not into
autonomous fighting machines and stuff like that
this is gettong ridiculously off topic, sorry i will stop here
peter
On 12.03.2016 14:57, doug moen wrote:
> DARPA also sponsored the development of the Internet (originally
> called ArpaNet), along with a lot of other beneficial, open source
> tech we rely on. They sponsor STEM education for kids because it ties
> in to their mission of maintaining US technological superiority. For
> example, http://www.etc.cmu.edu/engage/
>
> On 12 March 2016 at 08:26, pproj at posteo.de <pproj at posteo.de
> <mailto:pproj at posteo.de>> wrote:
>
>     On 12.03.2016 13:43, doug moen wrote:
>>     Try BlocksCAD:
>>     https://blockscad.einsteinsworkshop.com/
>     wow! what a great idea with the puzzle mechanism! carried out very
>     well too!
>     i might use it as well myself, or recommend it to my artist friends
>     the only thing which dampens myexcitement is this line int the
>     "about":
>     "Developed with the sponsorship of the Defense Advanced Research
>     Projects Agency (DARPA)"
>     what are they up to with it? 
>     Peter
>
>>
>>     On 12 March 2016 at 07:07, Cyril <cyril.vignet at centraliens.net>
>>     wrote:
>>
>>         Hello everyone,
>>
>>         I am a fan of openscad but totally new to this list so
>>         apologize if out of topic, but it is said you are open to new
>>         ideas.
>>
>>         I am using opens cad with children (around 9 years old and
>>         more). I found that the parallel between formulas and volumes:
>>         - is very interesting for education
>>         - is another way to understand programming with anchor to the
>>         real (one the file is pretend in 3D)
>>
>>         Nevertheless, Have you ever considered to provide a user
>>         interface with a scratch/snap look and feel ? it will be be a
>>         lot easier for beginners and children.
>>
>>         best
>>
>>         Cyril
>>         _______________________________________________
>>         OpenSCAD mailing list
>>         Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>>         http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>>
>>
>>     _______________________________________________
>>     OpenSCAD mailing list
>>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/7295414a/attachment.html>

From pproj at posteo.de  Sat Mar 12 09:15:06 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 15:15:06 +0100
Subject: [OpenSCAD] clarification on the aim of the javascript tool was: Re:
 [semi-on-topic] print speed optimized sinus support material. integration
 interface possible??
In-Reply-To: <1457790338652-16438.post@n5.nabble.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de> <1457790338652-16438.post@n5.nabble.com>
Message-ID: <56E4246A.1070800@posteo.de>

i think i have problems explaining what this javascript tool is actually
about.
the starting point was a code in scad very similar to yours creating a
sine filled block.

but the tool does _not_ create a rectangular box filled with sinus.
cutting out a footprint of almost any model out of such block will
produce many discontinuities at the areas where the sinus wave is cut by
the outline of footprint of the model. it will create many standalone
"islands" of fractures of a sinewave. this will slow down the print.

what the javascript tool realy does, and i think it is impossible in
openscad without querieng the geometry, it tries to create a _continous_
sine or half-scircle wave in the footprint of the model, so that you do
not have to cut out the footprint out of a sine block, and printer can
(ideally) print the whole layer of support without deccelerating or idly
moving its head
Peter
On 12.03.2016 14:45, Parkinbot wrote:
> The following code will create a box filled with cosine support. CGAL
> rendering is almost instantaneous.
> Is it what you were asking for? 
>
> <http://forum.openscad.org/file/n16438/sinecomb.png> 
>
>
>> supportblock(); 
>>
>> module supportblock(rows = 10, cols = 10, box = [100, 100, 10], thickness
>> = .1)
>> {
>>   amplitude = box[1]/rows/2; 
>>   wavelength = box[0]/cols *PI; 
>>   linear_extrude(height = box[2])
>>   for(i = [0:rows-1])
>>     Ty(i*amplitude*2)
>>     polygon(points = sine(cols, amplitude, wavelength, i%2, thickness)); 
>> }
>>
>> function sine(periods, amplitude, wavelength, mode, thickness = .01) = 
>>   let(amp = amplitude-thickness/1.9)
>>   concat(
>>    [for(i=[0:10:360*periods]) [i/wavelength, amp*cos(i+mode*180)]], 
>>    [for(i=[360*periods:-1:0]) [i/wavelength,
>> amp*cos(i+mode*180)+thickness]]); 
> Rudolf 
>
>
>
>
> --
> View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>




From jpmendes54 at gmail.com  Sat Mar 12 10:13:28 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Sat, 12 Mar 2016 08:13:28 -0700 (MST)
Subject: [OpenSCAD] Can someone explain this strange behaviour with
	preview ?
In-Reply-To: <CAEEmnrP-kMEm5sXAvb3qPbKHMgPiZ=hn94Nz84t=SUr9NxY8wg@mail.gmail.com>
References: <1457742953080-16425.post@n5.nabble.com>
	<1457743883406-16427.post@n5.nabble.com>
	<1457744475229-16428.post@n5.nabble.com>
	<CAEEmnrP-kMEm5sXAvb3qPbKHMgPiZ=hn94Nz84t=SUr9NxY8wg@mail.gmail.com>
Message-ID: <1457795608239-16442.post@n5.nabble.com>

Yes I already do that for parts that do not take much time to render, for
those that are slower to render I don't because of the lack of persistent
caching. Rendering a multicolored single part would be a good thing too.
Thanks
jpmendes



--
View this message in context: http://forum.openscad.org/Can-someone-explain-this-strange-behaviour-with-preview-tp16425p16442.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Sat Mar 12 10:21:44 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sat, 12 Mar 2016 08:21:44 -0700 (MST)
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <56E4246A.1070800@posteo.de>
References: <56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
	<1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
Message-ID: <1457796104621-16443.post@n5.nabble.com>

My slicer does a nice path on that. If linewidth is not to thin jump don't
occur often. Of course, there are jumps at the boundaries. Jump minimization
is another task done by the slicer. 

So, if path planning and GCODE optimization is your concern, OpenScad will
not help you. Better follow nophead's proposal and fork out your own slic3r
branch to solve your problems there. https://github.com/alexrj/Slic3r

Rudolf



--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16443.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Sat Mar 12 10:34:33 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Sat, 12 Mar 2016 12:34:33 -0300
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <56E4246A.1070800@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
	<1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
Message-ID: <CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>

I understand your point and agree that there is no way to do it entirely in
OpenSCAD without geometry query tools. However, it would not be difficult
to write a javascript code to process an OpenSCAD stl file of the
linear_extrude() of the part projection. This code would generate a text
file like this:
model=[
[[275,50,0],    [275,100,0],    [285,50,0]],
[[315,-50,0],    [325,-50,0],    [325,-100,0]],
[[315,50,0],    [325,100,0],    [325,50,0]],
[[315,50,0],    [275,100,0],    [325,100,0]],
[[285,-50,0],    [285,50,0],        [315,-50,0]],
[[315,-50,0],    [285,50,0],        [315,50,0]],
[[285,50,0],    [275,100,0],    [315,50,0]],
[[275,-100,0],    [285,-50,0],    [315,-50,0]],
[[275,-100,0],    [275,-50,0],    [285,-50,0]],
[[325,-100,0],    [275,-100,0],    [315,-50,0]]];

which could be inserted in a OpenSCAD code for further processing.

That approach doesn't avoid an external processing but the javascript code
could be valuable to any application demanding geometric queries. And you
may write then your support generation methods in OpenSCAD. :)

As a complement, would be nice also to have an OpenSCAD library to answer
geometric queries about models generated this way.

2016-03-12 11:15 GMT-03:00 pproj at posteo.de <pproj at posteo.de>:

> i think i have problems explaining what this javascript tool is actually
> about.
> the starting point was a code in scad very similar to yours creating a
> sine filled block.
>
> but the tool does _not_ create a rectangular box filled with sinus.
> cutting out a footprint of almost any model out of such block will
> produce many discontinuities at the areas where the sinus wave is cut by
> the outline of footprint of the model. it will create many standalone
> "islands" of fractures of a sinewave. this will slow down the print.
>
> what the javascript tool realy does, and i think it is impossible in
> openscad without querieng the geometry, it tries to create a _continous_
> sine or half-scircle wave in the footprint of the model, so that you do
> not have to cut out the footprint out of a sine block, and printer can
> (ideally) print the whole layer of support without deccelerating or idly
> moving its head
> Peter
> On 12.03.2016 14:45, Parkinbot wrote:
> > The following code will create a box filled with cosine support. CGAL
> > rendering is almost instantaneous.
> > Is it what you were asking for?
> >
> > <http://forum.openscad.org/file/n16438/sinecomb.png>
> >
> >
> >> supportblock();
> >>
> >> module supportblock(rows = 10, cols = 10, box = [100, 100, 10],
> thickness
> >> = .1)
> >> {
> >>   amplitude = box[1]/rows/2;
> >>   wavelength = box[0]/cols *PI;
> >>   linear_extrude(height = box[2])
> >>   for(i = [0:rows-1])
> >>     Ty(i*amplitude*2)
> >>     polygon(points = sine(cols, amplitude, wavelength, i%2, thickness));
> >> }
> >>
> >> function sine(periods, amplitude, wavelength, mode, thickness = .01) =
> >>   let(amp = amplitude-thickness/1.9)
> >>   concat(
> >>    [for(i=[0:10:360*periods]) [i/wavelength, amp*cos(i+mode*180)]],
> >>    [for(i=[360*periods:-1:0]) [i/wavelength,
> >> amp*cos(i+mode*180)+thickness]]);
> > Rudolf
> >
> >
> >
> >
> > --
> > View this message in context:
> http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html
> > Sent from the OpenSCAD mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> >
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/89adb095/attachment.html>

From Torsten.Paul at gmx.de  Sat Mar 12 10:46:00 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sat, 12 Mar 2016 16:46:00 +0100
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de> <1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
	<CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
Message-ID: <56E439B8.1010209@gmx.de>

On 03/12/2016 04:34 PM, Ronaldo Persiano wrote:
> As a complement, would be nice also to have an OpenSCAD library
> to answer geometric queries about models generated this way.
>
I agree, and this will hopefully come, but it's a fair amount of
work.

Although for the specific solution of producing better support
structures for 3d printing it would be greatly beneficial if that
would be implemented in one of the open source slicers. This would
then easily available for all people using the open source tool
chain for 3d printing.
In addition the slicer has some additional information that will
make support better fit the actual machine configuration.

Also in my view there is absolutely nothing wrong with forking a
project with the intention of contributing changes back.
The only bad kind of forking is to create a parallel project
if the main project is still alive and responsive to feedback.

ciao,
  Torsten.



From pproj at posteo.de  Sat Mar 12 10:50:32 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 16:50:32 +0100
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <1457796104621-16443.post@n5.nabble.com>
References: <56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de> <1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de> <1457796104621-16443.post@n5.nabble.com>
Message-ID: <56E43AC8.4050204@posteo.de>

well what should i say? i am glad your slicer is working out well for
you, so you will probably have no need for similar tools and all the
export and import steps the process requires,
it was definitely not the case on my models with slic3r, that was the
very reason i interrupted the work on the part and took time to
implement the support.
first in .scad and redoing it in javascript for the reasons we have been
talking about. and it is actually working reasonably well for me (and i
am not going to say perfect no, but it is an obvios improvement in
support quality vs printing time in my case).
there are many reasons i am not going to f#rk (with) slicers source i
just have been discussing in the same thread  with nop-head. there were
many reasons to go the .js path, and it seems to work, and i hope others
who experience similar problems with slicers support, can use it as
well, that is why i put it on github, and in the process of this
discussion may be we will come up with a way of making openscad more
extensible and open for tools. thats it.

Peter
On 12.03.2016 16:21, Parkinbot wrote:
> My slicer does a nice path on that. If linewidth is not to thin jump don't
> occur often. Of course, there are jumps at the boundaries. Jump minimization
> is another task done by the slicer. 
>
> So, if path planning and GCODE optimization is your concern, OpenScad will
> not help you. Better follow nophead's proposal and fork out your own slic3r
> branch to solve your problems there. https://github.com/alexrj/Slic3r
>
> Rudolf
>
>
>
> --
> View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16443.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>




From pproj at posteo.de  Sat Mar 12 11:00:18 2016
From: pproj at posteo.de (pproj at posteo.de)
Date: Sat, 12 Mar 2016 17:00:18 +0100
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de> <1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
	<CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
Message-ID: <56E43D12.9040301@posteo.de>

Ronaldo i am not 100% sure i understand you right, but i think this i
exactly what the current tool we are discussing is doing, it just skips
the extrusion step and processes the2D  .svg of the projection directly.
then it writes out the support path data as an openscad vector text
file  supportPathData.scad which one can then extrude to any height needed.
comprende?
Peter
On 12.03.2016 16:34, Ronaldo Persiano wrote:
> I understand your point and agree that there is no way to do it
> entirely in OpenSCAD without geometry query tools. However, it would
> not be difficult to write a javascript code to process an OpenSCAD stl
> file of the linear_extrude() of the part projection. This code would
> generate a text file like this:
> model=[
> [[275,50,0],    [275,100,0],    [285,50,0]],
> [[315,-50,0],    [325,-50,0],    [325,-100,0]],
> [[315,50,0],    [325,100,0],    [325,50,0]],
> [[315,50,0],    [275,100,0],    [325,100,0]],
> [[285,-50,0],    [285,50,0],        [315,-50,0]],
> [[315,-50,0],    [285,50,0],        [315,50,0]],
> [[285,50,0],    [275,100,0],    [315,50,0]],
> [[275,-100,0],    [285,-50,0],    [315,-50,0]],
> [[275,-100,0],    [275,-50,0],    [285,-50,0]],
> [[325,-100,0],    [275,-100,0],    [315,-50,0]]];
>
> which could be inserted in a OpenSCAD code for further processing.
>
> That approach doesn't avoid an external processing but the javascript
> code could be valuable to any application demanding geometric queries.
> And you may write then your support generation methods in OpenSCAD. :)
>
> As a complement, would be nice also to have an OpenSCAD library to
> answer geometric queries about models generated this way.
>
> 2016-03-12 11:15 GMT-03:00 pproj at posteo.de <mailto:pproj at posteo.de>
> <pproj at posteo.de <mailto:pproj at posteo.de>>:
>
>     i think i have problems explaining what this javascript tool is
>     actually
>     about.
>     the starting point was a code in scad very similar to yours creating a
>     sine filled block.
>
>     but the tool does _not_ create a rectangular box filled with sinus.
>     cutting out a footprint of almost any model out of such block will
>     produce many discontinuities at the areas where the sinus wave is
>     cut by
>     the outline of footprint of the model. it will create many standalone
>     "islands" of fractures of a sinewave. this will slow down the print.
>
>     what the javascript tool realy does, and i think it is impossible in
>     openscad without querieng the geometry, it tries to create a
>     _continous_
>     sine or half-scircle wave in the footprint of the model, so that
>     you do
>     not have to cut out the footprint out of a sine block, and printer can
>     (ideally) print the whole layer of support without deccelerating
>     or idly
>     moving its head
>     Peter
>     On 12.03.2016 14:45, Parkinbot wrote:
>     > The following code will create a box filled with cosine support.
>     CGAL
>     > rendering is almost instantaneous.
>     > Is it what you were asking for?
>     >
>     > <http://forum.openscad.org/file/n16438/sinecomb.png>
>     >
>     >
>     >> supportblock();
>     >>
>     >> module supportblock(rows = 10, cols = 10, box = [100, 100, 10],
>     thickness
>     >> = .1)
>     >> {
>     >>   amplitude = box[1]/rows/2;
>     >>   wavelength = box[0]/cols *PI;
>     >>   linear_extrude(height = box[2])
>     >>   for(i = [0:rows-1])
>     >>     Ty(i*amplitude*2)
>     >>     polygon(points = sine(cols, amplitude, wavelength, i%2,
>     thickness));
>     >> }
>     >>
>     >> function sine(periods, amplitude, wavelength, mode, thickness =
>     .01) =
>     >>   let(amp = amplitude-thickness/1.9)
>     >>   concat(
>     >>    [for(i=[0:10:360*periods]) [i/wavelength, amp*cos(i+mode*180)]],
>     >>    [for(i=[360*periods:-1:0]) [i/wavelength,
>     >> amp*cos(i+mode*180)+thickness]]);
>     > Rudolf
>     >
>     >
>     >
>     >
>     > --
>     > View this message in context:
>     http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html
>     > Sent from the OpenSCAD mailing list archive at Nabble.com.
>     >
>     > _______________________________________________
>     > OpenSCAD mailing list
>     > Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     >
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>     >
>
>
>
>     _______________________________________________
>     OpenSCAD mailing list
>     Discuss at lists.openscad.org <mailto:Discuss at lists.openscad.org>
>     http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/31fe5a46/attachment.html>

From jpmendes54 at gmail.com  Sat Mar 12 12:01:35 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Sat, 12 Mar 2016 10:01:35 -0700 (MST)
Subject: [OpenSCAD] User interface brushup
In-Reply-To: <56E41921.7090909@posteo.de>
References: <72798D78-06CB-4717-BAEE-1D9B4A5F5D96@centraliens.net>
	<CAGV6i+NYU2hrMzUFjF39DxrEJmsL8qR38yk4c0+wFZgf6TKTUg@mail.gmail.com>
	<56E41921.7090909@posteo.de>
Message-ID: <1457802095860-16448.post@n5.nabble.com>

The same for the internet you are using, gps, etc.
Cheers!



--
View this message in context: http://forum.openscad.org/User-interface-brushup-tp16434p16448.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From wintoweb at gmail.com  Sat Mar 12 13:50:44 2016
From: wintoweb at gmail.com (stressless)
Date: Sat, 12 Mar 2016 11:50:44 -0700 (MST)
Subject: [OpenSCAD] My first print, my first desappointment
Message-ID: <1457808644734-16449.post@n5.nabble.com>

The code below is a basic housing for an LED and an LDR. I sent it out to
print and was expecting to receive a solid object as this one (central cut)
:
<http://forum.openscad.org/file/n16449/LED_LDR_solid.jpg> 

Instead, I got almost 2 separate pieces. The plate was lightly stuck to the
cube (due to printing heat) and it came off immediately...
<http://forum.openscad.org/file/n16449/LED_LDR_not.jpg> 

Could you tell me what's wrong with my design or is it my printing service
who screwed up ?

//Couple LED/LDR (gray levels detector)
$fn=50;
difference() {
    union() {
        cube([8,15,10.5],center=true); // body lodging
        // fastening plate
        translate([0,0,-5.25]) {
            hull() {
                translate([-6,-9.5, 0]) // top left
                    cylinder(h=1,r=4);
                translate([-6, 9.5, 0]) // top right
                    cylinder(h=1,r=4);
                translate([ 6, 9.5, 0]) // bottom right
                    cylinder(h=1,r=4);
                translate([ 6,-9.5, 0]) // bottom left
                    cylinder(h=1,r=4);
            } // hull
        } // translate
    } // union
    
    translate([0,3.5,1])
        cylinder(10.5,r=3,center=true); // LED lodging
    translate([0,-3.5,1]) 
        cylinder(10.5,r=3,center=true); // LDR lodging

union() {
    // inner holes
    translate([0,-5,-5])
        cylinder(3,r=0.5,center=true); 
    translate([0,-2,-5])
        cylinder(3,r=0.5,center=true); 
    translate([0,4.5,-5])
        cylinder(3,r=0.5,center=true); 
    translate([0,2.5,-5])
        cylinder(3,r=0.5,center=true); 
    // fastening holes
    translate([7,0,-5]) 
        cylinder(4,r=1.6,center=true); 
    translate([-7,0,-5]) 
        cylinder(3,r=1.6,center=true); 
    translate([0,10.5,-5]) 
        cylinder(3,r=1.6,center=true); 
    translate([0,-10.5,-5]) 
        cylinder(3,r=1.6,center=true); 
} // union 
} // difference()

Thanks for any input. Dan

* * * * * * * * * * * * * * * *




--
View this message in context: http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Sat Mar 12 14:55:26 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Sat, 12 Mar 2016 16:55:26 -0300
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457808644734-16449.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
Message-ID: <CA+i9EaDfnwKjwaZ=oNW1ESfc+kRL8y=ANxcA_OvmR7yLxLVAcg@mail.gmail.com>

I don't see any issue with your OpenSCAD model. The walls arround the LED
and LDR lodging seems a bit scarce. The joint between the block and the
plate is certainly the area of greatest stress. You might add some fillet
there.

2016-03-12 15:50 GMT-03:00 stressless <wintoweb at gmail.com>:

> The code below is a basic housing for an LED and an LDR. I sent it out to
> print and was expecting to receive a solid object as this one (central cut)
> :
> <http://forum.openscad.org/file/n16449/LED_LDR_solid.jpg>
>
> Instead, I got almost 2 separate pieces. The plate was lightly stuck to the
> cube (due to printing heat) and it came off immediately...
> <http://forum.openscad.org/file/n16449/LED_LDR_not.jpg>
>
> Could you tell me what's wrong with my design or is it my printing service
> who screwed up ?
>
> //Couple LED/LDR (gray levels detector)
> $fn=50;
> difference() {
>     union() {
>         cube([8,15,10.5],center=true); // body lodging
>         // fastening plate
>         translate([0,0,-5.25]) {
>             hull() {
>                 translate([-6,-9.5, 0]) // top left
>                     cylinder(h=1,r=4);
>                 translate([-6, 9.5, 0]) // top right
>                     cylinder(h=1,r=4);
>                 translate([ 6, 9.5, 0]) // bottom right
>                     cylinder(h=1,r=4);
>                 translate([ 6,-9.5, 0]) // bottom left
>                     cylinder(h=1,r=4);
>             } // hull
>         } // translate
>     } // union
>
>     translate([0,3.5,1])
>         cylinder(10.5,r=3,center=true); // LED lodging
>     translate([0,-3.5,1])
>         cylinder(10.5,r=3,center=true); // LDR lodging
>
> union() {
>     // inner holes
>     translate([0,-5,-5])
>         cylinder(3,r=0.5,center=true);
>     translate([0,-2,-5])
>         cylinder(3,r=0.5,center=true);
>     translate([0,4.5,-5])
>         cylinder(3,r=0.5,center=true);
>     translate([0,2.5,-5])
>         cylinder(3,r=0.5,center=true);
>     // fastening holes
>     translate([7,0,-5])
>         cylinder(4,r=1.6,center=true);
>     translate([-7,0,-5])
>         cylinder(3,r=1.6,center=true);
>     translate([0,10.5,-5])
>         cylinder(3,r=1.6,center=true);
>     translate([0,-10.5,-5])
>         cylinder(3,r=1.6,center=true);
> } // union
> } // difference()
>
> Thanks for any input. Dan
>
> * * * * * * * * * * * * * * * *
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/956f2397/attachment.html>

From jon at jonbondy.com  Sat Mar 12 15:42:44 2016
From: jon at jonbondy.com (jon)
Date: Sat, 12 Mar 2016 15:42:44 -0500
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457808644734-16449.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
Message-ID: <56E47F44.6090606@jonbondy.com>

I printed it using PLA filament, and it was reasonably strong.  Such a 
small part might be stronger if printed on a resin printer; and a 
fillet, as was previously suggested, would also be helpful.  With walls 
so thin, and with printed PLA beads around 0.35 mm, you might only have 
3-4 beads of filament used to make each wall.  Still, the part should 
not have come apart easily.  What did you pay for the print? I would 
have charged $0.25

Jon

On 3/12/2016 1:50 PM, stressless wrote:
> The code below is a basic housing for an LED and an LDR. I sent it out to
> print and was expecting to receive a solid object as this one (central cut)
> :
> <http://forum.openscad.org/file/n16449/LED_LDR_solid.jpg>
>
> Instead, I got almost 2 separate pieces. The plate was lightly stuck to the
> cube (due to printing heat) and it came off immediately...
> <http://forum.openscad.org/file/n16449/LED_LDR_not.jpg>
>
> Could you tell me what's wrong with my design or is it my printing service
> who screwed up ?
>
> //Couple LED/LDR (gray levels detector)
> $fn=50;
> difference() {
>      union() {
>          cube([8,15,10.5],center=true); // body lodging
>          // fastening plate
>          translate([0,0,-5.25]) {
>              hull() {
>                  translate([-6,-9.5, 0]) // top left
>                      cylinder(h=1,r=4);
>                  translate([-6, 9.5, 0]) // top right
>                      cylinder(h=1,r=4);
>                  translate([ 6, 9.5, 0]) // bottom right
>                      cylinder(h=1,r=4);
>                  translate([ 6,-9.5, 0]) // bottom left
>                      cylinder(h=1,r=4);
>              } // hull
>          } // translate
>      } // union
>      
>      translate([0,3.5,1])
>          cylinder(10.5,r=3,center=true); // LED lodging
>      translate([0,-3.5,1])
>          cylinder(10.5,r=3,center=true); // LDR lodging
>
> union() {
>      // inner holes
>      translate([0,-5,-5])
>          cylinder(3,r=0.5,center=true);
>      translate([0,-2,-5])
>          cylinder(3,r=0.5,center=true);
>      translate([0,4.5,-5])
>          cylinder(3,r=0.5,center=true);
>      translate([0,2.5,-5])
>          cylinder(3,r=0.5,center=true);
>      // fastening holes
>      translate([7,0,-5])
>          cylinder(4,r=1.6,center=true);
>      translate([-7,0,-5])
>          cylinder(3,r=1.6,center=true);
>      translate([0,10.5,-5])
>          cylinder(3,r=1.6,center=true);
>      translate([0,-10.5,-5])
>          cylinder(3,r=1.6,center=true);
> } // union
> } // difference()
>
> Thanks for any input. Dan
>
> * * * * * * * * * * * * * * * *
>
>
>
>
> --
> View this message in context: http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
> -----
> No virus found in this message.
> Checked by AVG - www.avg.com
> Version: 2016.0.7497 / Virus Database: 4540/11802 - Release Date: 03/12/16
>
>



From Torsten.Paul at gmx.de  Sat Mar 12 15:44:16 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sat, 12 Mar 2016 21:44:16 +0100
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457808644734-16449.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
Message-ID: <56E47FA0.9020309@gmx.de>

On 03/12/2016 07:50 PM, stressless wrote:
> Could you tell me what's wrong with my design or is it my printing
> service who screwed up ?
> 
Looking at the STL files created from both 2015.03 release version and
the nightly builds, I can see no issues at all in Blender.

For double checking, you could share the actual STL file that was
sent out and maybe have a look at which version of OpenSCAD you are
using.

As already said, the contact area between the block and the bottom
plate is very small, so that might be a reason for breaking at this
point.

ciao,
  Torsten.



From oz.at.michael at gmail.com  Sat Mar 12 17:07:50 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sat, 12 Mar 2016 15:07:50 -0700 (MST)
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457808644734-16449.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
Message-ID: <1457820470009-16453.post@n5.nabble.com>

If it was a home style FDM printer (perhaps via 3DHubs etc) and they didn't
have the temperatures dialed-in, layer separation could easily occur. If it
was in ABS a dip in acetone can help a bit with bonding.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449p16453.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Sat Mar 12 20:06:16 2016
From: nop.head at gmail.com (nop head)
Date: Sun, 13 Mar 2016 01:06:16 +0000
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <56E43D12.9040301@posteo.de>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
	<1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
	<CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
	<56E43D12.9040301@posteo.de>
Message-ID: <CAEEmnrOv0S3r-y4KXF2SZ8yqWNLNV5KEgfck-rUqiHkVxUm0iQ@mail.gmail.com>

In my simple mind OpenScad is as simple tool for describing geometry, not
querying it. Slicers take geometry and produce tool paths. If you don't
like the tool path modify the slicer. Don't advocate making OpenScad more
more complicated. Make the slicer more sophisticated.

Support material doesn't need to be sinusoidal, but it could benefit from
rounded corners (as could all tool paths) because above a certain radius
the x and y accelerations are capable of turning the corner without slowing
down at all.

I must admit I do make support structures myself in Openscad but I export
them separately and slice them separately and combine the gcode with the
appropriate z offset. See
http://hydraraptor.blogspot.co.uk/2012/08/peel-able-support.html. Support
needs a solid interface layer less than a layer height below the object, so
you can't export it in the same file as the object and expect the slicer to
make it peelable.

One day I will write my own slicer to do this automatically.

On 12 March 2016 at 16:00, pproj at posteo.de <pproj at posteo.de> wrote:

> Ronaldo i am not 100% sure i understand you right, but i think this i
> exactly what the current tool we are discussing is doing, it just skips the
> extrusion step and processes the2D  .svg of the projection directly. then
> it writes out the support path data as an openscad vector text file
> supportPathData.scad which one can then extrude to any height needed.
> comprende?
> Peter
>
> On 12.03.2016 16:34, Ronaldo Persiano wrote:
>
> I understand your point and agree that there is no way to do it entirely
> in OpenSCAD without geometry query tools. However, it would not be
> difficult to write a javascript code to process an OpenSCAD stl file of the
> linear_extrude() of the part projection. This code would generate a text
> file like this:
> model=[
> [[275,50,0],    [275,100,0],    [285,50,0]],
> [[315,-50,0],    [325,-50,0],    [325,-100,0]],
> [[315,50,0],    [325,100,0],    [325,50,0]],
> [[315,50,0],    [275,100,0],    [325,100,0]],
> [[285,-50,0],    [285,50,0],        [315,-50,0]],
> [[315,-50,0],    [285,50,0],        [315,50,0]],
> [[285,50,0],    [275,100,0],    [315,50,0]],
> [[275,-100,0],    [285,-50,0],    [315,-50,0]],
> [[275,-100,0],    [275,-50,0],    [285,-50,0]],
> [[325,-100,0],    [275,-100,0],    [315,-50,0]]];
>
> which could be inserted in a OpenSCAD code for further processing.
>
> That approach doesn't avoid an external processing but the javascript code
> could be valuable to any application demanding geometric queries. And you
> may write then your support generation methods in OpenSCAD. :)
>
> As a complement, would be nice also to have an OpenSCAD library to answer
> geometric queries about models generated this way.
>
> 2016-03-12 11:15 GMT-03:00 <pproj at posteo.de>pproj at posteo.de <
> pproj at posteo.de>:
>
>> i think i have problems explaining what this javascript tool is actually
>> about.
>> the starting point was a code in scad very similar to yours creating a
>> sine filled block.
>>
>> but the tool does _not_ create a rectangular box filled with sinus.
>> cutting out a footprint of almost any model out of such block will
>> produce many discontinuities at the areas where the sinus wave is cut by
>> the outline of footprint of the model. it will create many standalone
>> "islands" of fractures of a sinewave. this will slow down the print.
>>
>> what the javascript tool realy does, and i think it is impossible in
>> openscad without querieng the geometry, it tries to create a _continous_
>> sine or half-scircle wave in the footprint of the model, so that you do
>> not have to cut out the footprint out of a sine block, and printer can
>> (ideally) print the whole layer of support without deccelerating or idly
>> moving its head
>> Peter
>> On 12.03.2016 14:45, Parkinbot wrote:
>> > The following code will create a box filled with cosine support. CGAL
>> > rendering is almost instantaneous.
>> > Is it what you were asking for?
>> >
>> > <http://forum.openscad.org/file/n16438/sinecomb.png>
>> >
>> >
>> >> supportblock();
>> >>
>> >> module supportblock(rows = 10, cols = 10, box = [100, 100, 10],
>> thickness
>> >> = .1)
>> >> {
>> >>   amplitude = box[1]/rows/2;
>> >>   wavelength = box[0]/cols *PI;
>> >>   linear_extrude(height = box[2])
>> >>   for(i = [0:rows-1])
>> >>     Ty(i*amplitude*2)
>> >>     polygon(points = sine(cols, amplitude, wavelength, i%2,
>> thickness));
>> >> }
>> >>
>> >> function sine(periods, amplitude, wavelength, mode, thickness = .01) =
>> >>   let(amp = amplitude-thickness/1.9)
>> >>   concat(
>> >>    [for(i=[0:10:360*periods]) [i/wavelength, amp*cos(i+mode*180)]],
>> >>    [for(i=[360*periods:-1:0]) [i/wavelength,
>> >> amp*cos(i+mode*180)+thickness]]);
>> > Rudolf
>> >
>> >
>> >
>> >
>> > --
>> > View this message in context:
>> <http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html>
>> http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html
>> > Sent from the OpenSCAD mailing list archive at Nabble.com.
>> >
>> > _______________________________________________
>> > OpenSCAD mailing list
>> > Discuss at lists.openscad.org
>> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>> >
>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
>
> _______________________________________________
> OpenSCAD mailing listDiscuss at lists.openscad.orghttp://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160313/03f26601/attachment.html>

From doug at moens.org  Sat Mar 12 20:56:53 2016
From: doug at moens.org (doug moen)
Date: Sat, 12 Mar 2016 20:56:53 -0500
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <CAEEmnrOv0S3r-y4KXF2SZ8yqWNLNV5KEgfck-rUqiHkVxUm0iQ@mail.gmail.com>
References: <289a7fd410a9b189d24a9ebf30652190@posteo.de>
	<CAGV6i+O7w+m-a=3MspNCcKyPC4wnjGJk7GDm_UJi2=7ujWf96A@mail.gmail.com>
	<56E196E9.5060301@posteo.de>
	<CAEEmnrO=Q6orFOQksr2PuS1KFg0BQyv5YXi+WC=oX80OhaW7+Q@mail.gmail.com>
	<56E2E12A.50804@posteo.de> <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
	<1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
	<CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
	<56E43D12.9040301@posteo.de>
	<CAEEmnrOv0S3r-y4KXF2SZ8yqWNLNV5KEgfck-rUqiHkVxUm0iQ@mail.gmail.com>
Message-ID: <CAGV6i+PZYQPaHEucTa_r=ZscTO3o14Hpb=B_JbCmJSuxEwGb_g@mail.gmail.com>

@nophead That blog post is quite interesting, thanks.

This makes it clear why you need a special feature in the slicer to do user
defined peelable support. The support object would have to be imported as a
separate STL. Or, if we implement multiple colours/materials using a single
AMF file, as discussed in other threads, then the support object could be
included in the AMF file as a separate labeled object.

On 12 March 2016 at 20:06, nop head <nop.head at gmail.com> wrote:

> In my simple mind OpenScad is as simple tool for describing geometry, not
> querying it. Slicers take geometry and produce tool paths. If you don't
> like the tool path modify the slicer. Don't advocate making OpenScad more
> more complicated. Make the slicer more sophisticated.
>
> Support material doesn't need to be sinusoidal, but it could benefit from
> rounded corners (as could all tool paths) because above a certain radius
> the x and y accelerations are capable of turning the corner without slowing
> down at all.
>
> I must admit I do make support structures myself in Openscad but I export
> them separately and slice them separately and combine the gcode with the
> appropriate z offset. See
> http://hydraraptor.blogspot.co.uk/2012/08/peel-able-support.html. Support
> needs a solid interface layer less than a layer height below the object, so
> you can't export it in the same file as the object and expect the slicer to
> make it peelable.
>
> One day I will write my own slicer to do this automatically.
>
> On 12 March 2016 at 16:00, pproj at posteo.de <pproj at posteo.de> wrote:
>
>> Ronaldo i am not 100% sure i understand you right, but i think this i
>> exactly what the current tool we are discussing is doing, it just skips the
>> extrusion step and processes the2D  .svg of the projection directly. then
>> it writes out the support path data as an openscad vector text file
>> supportPathData.scad which one can then extrude to any height needed.
>> comprende?
>> Peter
>>
>> On 12.03.2016 16:34, Ronaldo Persiano wrote:
>>
>> I understand your point and agree that there is no way to do it entirely
>> in OpenSCAD without geometry query tools. However, it would not be
>> difficult to write a javascript code to process an OpenSCAD stl file of the
>> linear_extrude() of the part projection. This code would generate a text
>> file like this:
>> model=[
>> [[275,50,0],    [275,100,0],    [285,50,0]],
>> [[315,-50,0],    [325,-50,0],    [325,-100,0]],
>> [[315,50,0],    [325,100,0],    [325,50,0]],
>> [[315,50,0],    [275,100,0],    [325,100,0]],
>> [[285,-50,0],    [285,50,0],        [315,-50,0]],
>> [[315,-50,0],    [285,50,0],        [315,50,0]],
>> [[285,50,0],    [275,100,0],    [315,50,0]],
>> [[275,-100,0],    [285,-50,0],    [315,-50,0]],
>> [[275,-100,0],    [275,-50,0],    [285,-50,0]],
>> [[325,-100,0],    [275,-100,0],    [315,-50,0]]];
>>
>> which could be inserted in a OpenSCAD code for further processing.
>>
>> That approach doesn't avoid an external processing but the javascript
>> code could be valuable to any application demanding geometric queries. And
>> you may write then your support generation methods in OpenSCAD. :)
>>
>> As a complement, would be nice also to have an OpenSCAD library to answer
>> geometric queries about models generated this way.
>>
>> 2016-03-12 11:15 GMT-03:00 <pproj at posteo.de>pproj at posteo.de <
>> pproj at posteo.de>:
>>
>>> i think i have problems explaining what this javascript tool is actually
>>> about.
>>> the starting point was a code in scad very similar to yours creating a
>>> sine filled block.
>>>
>>> but the tool does _not_ create a rectangular box filled with sinus.
>>> cutting out a footprint of almost any model out of such block will
>>> produce many discontinuities at the areas where the sinus wave is cut by
>>> the outline of footprint of the model. it will create many standalone
>>> "islands" of fractures of a sinewave. this will slow down the print.
>>>
>>> what the javascript tool realy does, and i think it is impossible in
>>> openscad without querieng the geometry, it tries to create a _continous_
>>> sine or half-scircle wave in the footprint of the model, so that you do
>>> not have to cut out the footprint out of a sine block, and printer can
>>> (ideally) print the whole layer of support without deccelerating or idly
>>> moving its head
>>> Peter
>>> On 12.03.2016 14:45, Parkinbot wrote:
>>> > The following code will create a box filled with cosine support. CGAL
>>> > rendering is almost instantaneous.
>>> > Is it what you were asking for?
>>> >
>>> > <http://forum.openscad.org/file/n16438/sinecomb.png>
>>> >
>>> >
>>> >> supportblock();
>>> >>
>>> >> module supportblock(rows = 10, cols = 10, box = [100, 100, 10],
>>> thickness
>>> >> = .1)
>>> >> {
>>> >>   amplitude = box[1]/rows/2;
>>> >>   wavelength = box[0]/cols *PI;
>>> >>   linear_extrude(height = box[2])
>>> >>   for(i = [0:rows-1])
>>> >>     Ty(i*amplitude*2)
>>> >>     polygon(points = sine(cols, amplitude, wavelength, i%2,
>>> thickness));
>>> >> }
>>> >>
>>> >> function sine(periods, amplitude, wavelength, mode, thickness = .01) =
>>> >>   let(amp = amplitude-thickness/1.9)
>>> >>   concat(
>>> >>    [for(i=[0:10:360*periods]) [i/wavelength, amp*cos(i+mode*180)]],
>>> >>    [for(i=[360*periods:-1:0]) [i/wavelength,
>>> >> amp*cos(i+mode*180)+thickness]]);
>>> > Rudolf
>>> >
>>> >
>>> >
>>> >
>>> > --
>>> > View this message in context:
>>> <http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html>
>>> http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16438.html
>>> > Sent from the OpenSCAD mailing list archive at Nabble.com.
>>> >
>>> > _______________________________________________
>>> > OpenSCAD mailing list
>>> > Discuss at lists.openscad.org
>>> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>> >
>>>
>>>
>>>
>>> _______________________________________________
>>> OpenSCAD mailing list
>>> Discuss at lists.openscad.org
>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>
>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing listDiscuss at lists.openscad.orghttp://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160312/ecd8893d/attachment.html>

From arhi.smece at gmail.com  Sat Mar 12 22:12:45 2016
From: arhi.smece at gmail.com (Bogdan Kecman)
Date: Sun, 13 Mar 2016 04:12:45 +0100
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457808644734-16449.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
Message-ID: <56E4DAAD.5090504@gmail.com>

On 3/12/2016 7:50 PM, stressless wrote:
> The code below is a basic housing for an LED and an LDR. I sent it out to
>

This prints without a problem in ABS, fairly strong.. I would design it
bit differently (to increase part strength) but on the other note (as
none of these anyhow is related to openscad) are you sure you want this
"as is" ? most plastic using for 3d print (including black abs) are
fairly transparent to light, especially to IR so burring leds deep into
the plastic ain't really helping you. I'm using similar setup but I push
a piece of alu tubing and then I have leds inside those (ir led and ir
diode I assume you are using here?) .. with 3d printed part, what you
can easily do is just make a slit between the two holes and use alu
tape, push trough slit to have alu barrier between the two and then wrap
the alu around the plastic to keep anything entering from the sides .
adding fillets on the Z axis edges would make that tape adhere better


From wintoweb at gmail.com  Sun Mar 13 06:56:23 2016
From: wintoweb at gmail.com (stressless)
Date: Sun, 13 Mar 2016 03:56:23 -0700 (MST)
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457808644734-16449.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
Message-ID: <1457866583114-16457.post@n5.nabble.com>

Thanks to all for the generous comments. These picture clearly shows that
there is no binding at all between the plate and the block. These parts are
totally useless. 
<http://forum.openscad.org/file/n16457/housing_3d.jpg> 

I answer separately to each of your comments

/Ronaldo/: You are right. Too thin and no filet. My problem is that I don't
know anything about printers capabilities and properties and don't know what
to avoid when constructing. Everything looks so good on Openscad. Next time,
before printing, I will share my project on this list for the community's
comments.

/jon_bondy/ : I printed through "3D Hub" and the printer advertises an "UP
mini" (?), black ABS. I paid $4.80 for 10 units, plus $5 setup (printed in
Switzerland. As I am learning, I selected the cheapest(...), nearest
printer).

/tp3/ : Thanks for the thorough testing. I use OpenScad v.2015.03-2. Here is
the *.stl :
couple_LED_LDR_2_f.stl
<http://forum.openscad.org/file/n16457/couple_LED_LDR_2_f.stl>  

/MichaelAtOz/ : FDM printer ? I don't know. Yes, "3D Hub". Thanks for the
acetone tip.

/arhi/ : Fairly strong ? You must have a better printer than the "UP mini"
used. 
(Off subject. Sorry) Thanks for the tips in building the sensor. I use a
white LED and a flat Light Dependent Resistor. The latter is buried deep to
avoid catching stray light. Not being able to use my print, I came up with
this. The two var. res. allow me to adjust the brightness and the divider,
to adapt the readings to various ambiant lightings. I'll try your solution
using IR though.
<http://forum.openscad.org/file/n16457/gray_reader.jpg> 

Lastly, if anyone knows of a good resource for a newbie to learn about 3D
printer capabilities and materials, I'd appreciate the link. Also, I find
filleting difficult to do. Any recommendation/tip or good lib. on the
subject ?

Thanks again to all.
Dan

* * * * * * * * * * * * * *




--
View this message in context: http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449p16457.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Sun Mar 13 08:49:34 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sun, 13 Mar 2016 05:49:34 -0700 (MST)
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <CAEEmnrOv0S3r-y4KXF2SZ8yqWNLNV5KEgfck-rUqiHkVxUm0iQ@mail.gmail.com>
References: <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
	<1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
	<CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
	<56E43D12.9040301@posteo.de>
	<CAEEmnrOv0S3r-y4KXF2SZ8yqWNLNV5KEgfck-rUqiHkVxUm0iQ@mail.gmail.com>
Message-ID: <1457873374388-16458.post@n5.nabble.com>

nophead wrote
> In my simple mind OpenScad is as simple tool for describing geometry, not
> querying it. 

Beyond paradigm discussion and the fact that no function can operate over
geometry by now: By design of OpenSCAD there is also a severe technical
restriction to query geometry. CSG (F5) representation is rendered only
implicitly by OpenGL. Explict geometry (which may be queried) is only known
after CGAL rendering (F6). 

But as already has been discussed in other threads there is no reason to NOT
offer a query on STL imports - at least from an implementation point of view
- which I hope will be coming with the next major release.  

Rudolf 





--
View this message in context: http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16458.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Sun Mar 13 09:16:26 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Sun, 13 Mar 2016 18:46:26 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
Message-ID: <CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>

On Mar 12, 2016 3:27 AM, "Marius Kintel" <marius at kintel.net> wrote:
> Thanks!
>
> A few comments:
> o Please mention in the commit message and/or pull request description
which issue you?ve solved. Otherwise it?s hard to follow the development
for other members.
> o In issue #1526 there?s a discussion on which shortcut to use. I would
recommend posting your suggestion there, asking if anyone disagrees with
the choice of shortcut.
> o Before merging, we should document the shortcut in the wiki page
mentioned in issue #1526
> o A tip: Don?t use your master branch for pull requests. If you have more
than one pull request open, you?ll run into problems as the pull request
automatically tracks your branch.

Thanks for the above. I will take care for all of them.

-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160313/1b579e12/attachment.html>

From nop.head at gmail.com  Sun Mar 13 09:22:16 2016
From: nop.head at gmail.com (nop head)
Date: Sun, 13 Mar 2016 13:22:16 +0000
Subject: [OpenSCAD] clarification on the aim of the javascript tool was:
 Re: [semi-on-topic] print speed optimized sinus support material.
 integration interface possible??
In-Reply-To: <1457873374388-16458.post@n5.nabble.com>
References: <56E2E232.20207@jonbondy.com>
	<1457722901233-16420.post@n5.nabble.com>
	<1457738599021-16424.post@n5.nabble.com>
	<CA+i9EaDJoFneBs7f2Psb3nK5kp0h6+4bdd2VjD=epk8eVOX-QQ@mail.gmail.com>
	<56E3FE07.3000007@posteo.de>
	<1457790338652-16438.post@n5.nabble.com>
	<56E4246A.1070800@posteo.de>
	<CA+i9EaDd1Aoga2Hv-B2PPv_RTLmeemUtRhLuAeh_NK49GYvQqQ@mail.gmail.com>
	<56E43D12.9040301@posteo.de>
	<CAEEmnrOv0S3r-y4KXF2SZ8yqWNLNV5KEgfck-rUqiHkVxUm0iQ@mail.gmail.com>
	<1457873374388-16458.post@n5.nabble.com>
Message-ID: <CAEEmnrNL5modVeYnSyn8Ezan_fK=SrTVzcxCnCJzrEybHaPx2A@mail.gmail.com>

Yes getting info from imported geometry is useful and has no impact on the
declarative nature. It effectively becomes part of the description, another
form of source code. Similarly getting info from a polygon or polyhedron as
the mesh is available during preview.

On 13 March 2016 at 12:49, Parkinbot <rudolf at parkinbot.com> wrote:

> nophead wrote
> > In my simple mind OpenScad is as simple tool for describing geometry, not
> > querying it.
>
> Beyond paradigm discussion and the fact that no function can operate over
> geometry by now: By design of OpenSCAD there is also a severe technical
> restriction to query geometry. CSG (F5) representation is rendered only
> implicitly by OpenGL. Explict geometry (which may be queried) is only known
> after CGAL rendering (F6).
>
> But as already has been discussed in other threads there is no reason to
> NOT
> offer a query on STL imports - at least from an implementation point of
> view
> - which I hope will be coming with the next major release.
>
> Rudolf
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/semi-on-topic-print-speed-optimized-sinus-support-material-integration-interface-possible-tp16383p16458.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160313/475b3ebf/attachment.html>

From arhi.smece at gmail.com  Sun Mar 13 10:02:12 2016
From: arhi.smece at gmail.com (Bogdan Kecman)
Date: Sun, 13 Mar 2016 15:02:12 +0100
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457866583114-16457.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
	<1457866583114-16457.post@n5.nabble.com>
Message-ID: <56E572E4.2060709@gmail.com>

On 3/13/2016 11:56 AM, stressless wrote:
> These picture clearly shows that there is no binding at all between the plate and the block.

the UP! slicer has some issues with infills of small areas like these if
you print with higher layer and it's what was done here most probably
(I'd say from the pic they went to 0.25 or even 0.3mm layer) but what is
more important issue here is I'd say they are not using original UP!
filament and in order to use "custom" filament they had to modify the
UP! to tweak temperature manually (either by hacking libusb.dll or by
hacking the PT100 sensor by adding a resistor in series) as original UP!
filament is extruded at some insane temperatures - 265-275C and normal
ABS burns and drips at those temps so you have to lover the temp down
... they either poorly tweaked the temp or they are doing the "bad
tweaking" by telling the UP! slicer it's printing PLA while printing ABS
... in any case - *they printed too cold* hence the result. It is not
your design error, it's purely fault of the print house.

you could (and should) add some fillets to make the part stronger but
this is totally acceptable design


> /arhi/ : Fairly strong ? You must have a better printer than the "UP mini"
> used. 

I actually printed it on UP! 2 Plus :D that's the one running behind my
back so was fastest to test on :D


> (Off subject. Sorry) Thanks for the tips in building the sensor. I use a
> white LED and a flat Light Dependent Resistor. The latter is buried deep to
> avoid catching stray light. Not being able to use my print, I came up with
> this. The two var. res. allow me to adjust the brightness and the divider,
> to adapt the readings to various ambiant lightings. I'll try your solution
> using IR though.
> <http://forum.openscad.org/file/n16457/gray_reader.jpg> 

For white light it's pretty non-transparent so it should work, I never
tried, I try to use IR led + IR diode or IR transistor, apart from not
being visible I kinda have better control over it.. this flat LDR's like
you have on the pic I have serious issues with and stopped using them
ages ago, they are different, every single one has it's own curve so for
anything but "is there light" with a custom level adjustment they are
useless :( ... for any "measurements" in robotics I use IR.... and very
similar housing like yours just with a slit between the two so I can fit
aluminium tape.


> Lastly, if anyone knows of a good resource for a newbie to learn about 3D
> printer capabilities and materials, I'd appreciate the link.

best way to learn is get one yourself and play with it :D
other then that, when you have a design, before giving the printer a
final design you ask him how "printable" it is and what would (s)he
change to make it more printable/durable/strong ... other then that -
looking at "who made what" (not who design, but who made what) on sites
like youmagine, thingiverse... can give you some insight in what's
difficult (looks like crap) and what's easy (lot of ppl printed it)


>  Also, I find
> filleting difficult to do. Any recommendation/tip or good lib. on the
> subject ?

would be a good feature in openscad - select edge, add fillet :D .. attm
the best I know how to do is add a (cube minus cylinder) but it works
only for straight edges (like for your object) .. but I'm not openscad
master (solidWorks is still my poison)




From arhi.smece at gmail.com  Sun Mar 13 10:37:04 2016
From: arhi.smece at gmail.com (Bogdan Kecman)
Date: Sun, 13 Mar 2016 15:37:04 +0100
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457866583114-16457.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
	<1457866583114-16457.post@n5.nabble.com>
Message-ID: <56E57B10.4070608@gmail.com>

just to show what I'm talking about, without any tweaking (this I would
generally call non-successful print because it is bit overextruded but
it's hard to control this cheap filament, not very consistent in size)
but .. out of the printer (as I said UP! 2 Plus, that's the small one
near me, easiest to test these small things, chinese el cheapo filament):
http://elco.crsndoo.com/phone_uploads/DSC_1649-1.jpg

and this is me trying to break the top part off the bottom plate
(delamination you experienced with your parts):
http://elco.crsndoo.com/phone_uploads/DSC_1650-1.jpg

as you can see the part broke but it didn't want to delaminate ... so
while this print is not beautiful it would work 100% and not break in usage


From a.j.scaraggi at gmail.com  Sun Mar 13 12:16:52 2016
From: a.j.scaraggi at gmail.com (ajs)
Date: Sun, 13 Mar 2016 09:16:52 -0700 (MST)
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <1457885084083-16464.post@n5.nabble.com>
References: <1457885084083-16464.post@n5.nabble.com>
Message-ID: <1457885812288-16465.post@n5.nabble.com>

Hello there, I have a similar OpenSCAD design, the way I handled it (just
yesterday!) was to export the "unit piece" to STL then I made a new model
that imported and translated the STL unit from within a loop.  It worked for
me but I really do not know if it shortened overall rendering time.  My unit
piece took about an hour to render, I put 20 of them together, I hit render
and went to bed.  They were done about 7 hours later....



--
View this message in context: http://forum.openscad.org/reusing-unions-objects-tp16464p16465.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Sun Mar 13 15:15:39 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sun, 13 Mar 2016 20:15:39 +0100
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <1457885812288-16465.post@n5.nabble.com>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457885812288-16465.post@n5.nabble.com>
Message-ID: <56E5BC5B.9030004@gmx.de>

On 03/13/2016 05:04 PM, Antonin wrote:
> Is there a way in Openscad to reuse an object that is made from the
> union of many smaller objects without recalculating it every time?
>
While the application is running, the cache should take care of
this. Having a persistent cache that would be able to work across
application starts is on the to-do list.

As additional helper, it's possible to add render() calls in the
model. This might slow down the first preview but allow OpenSCAD
to cache that part of the model as render() basically forces the
actual mesh to be calculated at this point.

That said, OpenSCAD currently struggles with a huge amount of
small objects as the underlying calculation engine is very slow
for unions. In some cases it might help to find a different way
to generate the model geometry (e.g. using 2D + extrusion, or
directly generating more complex polyhedrons). But that's very
model specific, so it's not possible to give anything like:
"Do this change and that will fix all performance issues".


On 03/13/2016 05:16 PM, ajs wrote:
> was to export the "unit piece" to STL then I made a new model
> that imported and translated the STL unit from within a loop.
>
In some cases that can speed up the whole model generation,
depending on where the performance hit comes from. In most
cases it will not help much as it's often the top level
unions that have the most vertices and therefor also need
the most time.

Using STL as external cache also create a huge risk of issues
as the export sometimes creates STL files that cause problems
when importing those again.

ciao,
  Torsten.



From wv99999 at gmail.com  Sun Mar 13 15:39:12 2016
From: wv99999 at gmail.com (wolf)
Date: Sun, 13 Mar 2016 12:39:12 -0700 (MST)
Subject: [OpenSCAD] conflicting manual entries
Message-ID: <1457897952650-16467.post@n5.nabble.com>

For rotate_extrude (and linear extrude) there are four entries into to
manual:

https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude_2
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude_2

These four entries do not agree with each other on usage.

wolf



--
View this message in context: http://forum.openscad.org/conflicting-manual-entries-tp16467.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Sun Mar 13 16:48:35 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Sun, 13 Mar 2016 21:48:35 +0100
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <56E5BC5B.9030004@gmx.de>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457885812288-16465.post@n5.nabble.com> <56E5BC5B.9030004@gmx.de>
Message-ID: <56E5D223.6000305@arnholm.org>

On 13. mars 2016 20:15, Torsten Paul wrote:
> That said, OpenSCAD currently struggles with a huge amount of
> small objects as the underlying calculation engine is very slow
> for unions. In some cases it might help to find a different way
> to generate the model geometry (e.g. using 2D + extrusion, or
> directly generating more complex polyhedrons).

I have experimented generating polyhedrons using carve and saving them 
in OpenSCAD format (using .csg files). Theoretically, one could then do 
in OpenSCAD:

module my_thing()
{
    include <my_thing.csg>
}

my_thing();

This works just fine for display F5/F6/F12, but I am having no luck 
doing any further boolean operations in OpenSCAD with my_thing(), even 
though I know for sure the polyhedron contained is water tight.

i.e. the following typically fails:

difference()
{
    my_thing();
    cylinder(h=150,r=15,center=true);
}

This is different from doing the same difference in carve, which works. 
I guess this problem reflects differences in requirements to polyhedrons 
in OpenSCAD and carve.

If the above had worked in OpenSCAD, you would already have a 
"persistent cache". I guess if you could export an OpenSCAD generated 
polyhedrons (result of booleans) to a .csg or .scad file it might still 
work.

Carsten Arnholm


From jpmendes54 at gmail.com  Sun Mar 13 17:03:50 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Sun, 13 Mar 2016 14:03:50 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457883469753-16463.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
Message-ID: <1457903030016-16469.post@n5.nabble.com>

Not necessarily. It is common OpenSCAD models to have to be repaired before
slicing them.
You may try repairing with the free MeshLab, or online using the Netfab
online service: 
https://modelrepair.azurewebsites.net/
<https://modelrepair.azurewebsites.net/>  
Usually it works.
On the other hand if you need to render and export an union of previously
generated STLs with malformations, usually that will not be so simple and I
can't help you, maybe someone in the forum with wider experience can.
jpmendes



--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16469.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Sun Mar 13 17:49:49 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Sun, 13 Mar 2016 14:49:49 -0700 (MST)
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <1457885084083-16464.post@n5.nabble.com>
References: <1457885084083-16464.post@n5.nabble.com>
Message-ID: <1457905789370-16470.post@n5.nabble.com>

In your case pre-rendering the basic shape should solve your problem. 
In some cases for speed reasons you may have to save some rendered modules
as .stl's and then import them to continue the work. If the saved stl's are
well formed you may still execute boolean operarations with them, however
sometimes is not possible.

jpmendes



--
View this message in context: http://forum.openscad.org/reusing-unions-objects-tp16464p16470.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From wv99999 at gmail.com  Sun Mar 13 20:59:12 2016
From: wv99999 at gmail.com (wolf)
Date: Sun, 13 Mar 2016 17:59:12 -0700 (MST)
Subject: [OpenSCAD] Coloring bug?
Message-ID: <1457917152651-16471.post@n5.nabble.com>

When executing the following code
$fn=200;
translate([0,.1,0])  
Disk();
Cut_Ball();

module Ball()
  sphere(10);
module Disk()
  color("Silver")
  intersection()
  { Ball();
    translate([-12,-12,3])  cube([24,24,2]);
   }
module Cut_Ball()
  color("Red")
  difference()
  { Ball();
    translate([-12,-12,3])  cube([24,24,2]);
  }
As the code stands, a red sphere is generated, with a silver disk inside it
and some red/silver area on the circumference of the disk. When removing the
translate instruction in line 2, a uniformly red sphere is produced by
Preview (F5). Also, when changing $fn, the width of the red/silver area
changes.
To me it means that the code is not executed inside-out, as I would expect,
but rather outside-in, or, if you want, the module Ball() is colored first
and only then are the intersection() and difference() instructions carried
out.
Is that intentional?
wolf

PS.: I use version 2015.03-1 on Kubuntu 14.10



--
View this message in context: http://forum.openscad.org/Coloring-bug-tp16471.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 13 22:19:20 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 13 Mar 2016 19:19:20 -0700 (MST)
Subject: [OpenSCAD] Coloring bug?
In-Reply-To: <1457917152651-16471.post@n5.nabble.com>
References: <1457917152651-16471.post@n5.nabble.com>
Message-ID: <1457921960650-16472.post@n5.nabble.com>

I'd call it a bug.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Coloring-bug-tp16471p16472.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 13 22:28:37 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 13 Mar 2016 19:28:37 -0700 (MST)
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <1457885084083-16464.post@n5.nabble.com>
References: <1457885084083-16464.post@n5.nabble.com>
Message-ID: <1457922517155-16473.post@n5.nabble.com>

In case your question was more basic, there are  modules
<https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/User-Defined_Functions_and_Modules> 
.

So you can do:

module ten_steps() {
  for ... //  your code that does the n/10 steps
}

for(i=[0:10:100]) 
  translate(whatever)
    ten_steps();

In theory the first run of ten_steps() will create the cached object, so it
should not need to be regenerated.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/reusing-unions-objects-tp16464p16473.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 13 22:43:43 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 13 Mar 2016 19:43:43 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457883469753-16463.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
Message-ID: <1457923423035-16474.post@n5.nabble.com>

For normal geometry an OpenSCAD export should have a well formed STL.

If you use polygon() or polyhedron() and make a malfomed object that may
cause a bad STL.

If you import() a bad STL it may export a bad STL (tho often you will get a
error of you do CSG on it).

Can you share .scad  code and the bad STL it exports?



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16474.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From a.j.scaraggi at gmail.com  Mon Mar 14 00:47:01 2016
From: a.j.scaraggi at gmail.com (ajs)
Date: Sun, 13 Mar 2016 21:47:01 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457923423035-16474.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
Message-ID: <1457930821153-16475.post@n5.nabble.com>

Hello and thanks for responding.  As an example, below is code to make  1.1
threads on a threaded rod (I know it's not the most efficient way to make it
but it was a tutorial project for myself).  I ran it at a very low
resolution because full resolution takes about an hour.  As you can see from
the console output the script renders as valid and exports STL .  Then when
I open the STL using 3D Builder (Windows 10) the STL needs to be repaired,
and the 3D Builder seems to repair it .  The STL file is attached.
STL_Output_Immatutre_Thread.stl
<http://forum.openscad.org/file/n16475/STL_Output_Immatutre_Thread.stl>  

Script:

// Try to make a threaded rod

// 1/4 20 rod

TPI = 20; // Threads per inch
P = 1/TPI; // Pitch of threads - thread distance peak to peak
D = 0.25; // Diameter of the bolt
T_Overlap = 0.10; // Thread overlap amount
Length= P * (1 + T_Overlap); // Length of Rod or segment

He = cos(30) * P ;
D_maj = D + (2 * He /8) ; // 

Del_p = 1;

D_min = D_maj - 2*5/8 * He;
D_p = D_maj - 2*3/8 * He;


Resolution = 10; // Resolution of cylinders ->>>30
Trim_Resolution = 100 ; // Resolution of cylinders used to Trim Threads
T_Resolution = 60; // Resolution of threads ->>> 1




module Thread_Die (){
    render (conveity = 4) translate ([-D_maj/2,0,0])
    difference () {
        rotate([0, 90, 0])
            cylinder ( h = He, d1 = P, d2 = 0, $fn = Resolution);
        translate ([3/4*He, -P/2, -P/2]) 
            cube([P,P,P]);
    };
};


module Thread_Rod (){    
    difference () {
        cylinder ( h = Length, d = D_maj, $fn = Resolution);
        for (z = [-P:P:Length+P]){
        dz = z;
            for (c= [0:T_Resolution:360]){
            rotate ([0,0,c]) translate ([0,0,dz]) Thread_Die ();
            dz=dz+P/(360/(360-c));
            };
        };
    };
};
 
module Trim_Threads () {
    render (convexity = 4) difference () {
        translate ([0, 0, -0.05]) 
        cylinder ( h = Length+ 0.1, d = D_maj, $fn = Trim_Resolution);
        cylinder ( h = Length, d = D, $fn = Trim_Resolution);
    };
};

difference () {
    Thread_Rod ();
    Trim_Threads ();
};

Console Output:

Compiling design (CSG Tree generation)...
Rendering Polygon Mesh using CGAL...
Geometries in cache: 10
Geometry cache size in bytes: 108848
CGAL Polyhedrons in cache: 69
CGAL cache size in bytes: 6386976
Total rendering time: 0 hours, 0 minutes, 4 seconds
   Top level object is a 3D object:
   Simple:        yes
   Vertices:      394
   Halfedges:    1184
   Edges:         592
   Halffacets:    400
   Facets:        200
   Volumes:         2
Rendering finished.
STL export finished.



--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16475.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Mon Mar 14 01:40:37 2016
From: marius at kintel.net (Marius Kintel)
Date: Mon, 14 Mar 2016 01:40:37 -0400
Subject: [OpenSCAD] Coloring bug?
In-Reply-To: <1457917152651-16471.post@n5.nabble.com>
References: <1457917152651-16471.post@n5.nabble.com>
Message-ID: <C93D0B6F-C2E0-416D-94F8-699DE1878502@kintel.net>

> On Mar 13, 2016, at 20:59 PM, wolf <wv99999 at gmail.com> wrote:
> To me it means that the code is not executed inside-out, as I would expect,
> but rather outside-in, or, if you want, the module Ball() is colored first
> and only then are the intersection() and difference() instructions carried
> out.
> Is that intentional?

I believe this is an instance of https://github.com/openscad/openscad/issues/1000

 -Marius



From oz.at.michael at gmail.com  Mon Mar 14 01:50:36 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 13 Mar 2016 22:50:36 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457930821153-16475.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
Message-ID: <1457934636661-16478.post@n5.nabble.com>

Hmmm.

I've never seen F6 results look like this. Anyone know what green means?
<http://forum.openscad.org/file/n16478/td16463_F6.jpg> 

NetFabb shows degenerate faces...
<http://forum.openscad.org/file/n16478/td16463_degenatated.jpg> 



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16478.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Mon Mar 14 02:14:21 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Mon, 14 Mar 2016 07:14:21 +0100
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457934636661-16478.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457934636661-16478.post@n5.nabble.com>
Message-ID: <7c14b553571c05915c3710d4d849ef1c@arnholm.org>

On 2016-03-14 06:50, MichaelAtOz wrote:
> Hmmm.
> 
> I've never seen F6 results look like this. Anyone know what green 
> means?
> <http://forum.openscad.org/file/n16478/td16463_F6.jpg>

Isn't that quite common? You get it after using difference in my 
experience, when you cut away something.


From oz.at.michael at gmail.com  Mon Mar 14 02:27:38 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 13 Mar 2016 23:27:38 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <7c14b553571c05915c3710d4d849ef1c@arnholm.org>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457934636661-16478.post@n5.nabble.com>
	<7c14b553571c05915c3710d4d849ef1c@arnholm.org>
Message-ID: <1457936858076-16480.post@n5.nabble.com>

Yeh, thanks for reminder, I'm just not used to seeing it on the outside. But
looking at the code, it is difference()ing a hollow cylinder...



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16480.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Mon Mar 14 03:26:50 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Mon, 14 Mar 2016 00:26:50 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457930821153-16475.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
Message-ID: <1457940410504-16481.post@n5.nabble.com>

Found it. I.e. got rid of the degenerate faces, whether this is a bug in
OpenSCAD probably needs debate.

You were working with very small numbers. I suspect that contributed to
floating point issues internally. But I would expect OpenSCAD to work at
1/20th unit size, so it could be a bug.

When I changed it to work in inches (tho theoretically it is unit-less),
i.e. 25.4 times bigger the degenerate faces went away.

inch=25.4;
TPI = 20; // Threads per inch
P = 1/TPI*inch; // Pitch of threads - thread distance peak to peak
D = 0.25*inch; // Diameter of the bolt
T_Overlap = 0.10*inch; // Thread overlap amount
Length= P * (1*inch + T_Overlap); // Length of Rod or segment

----------------------------
BTW - not related to he STL issue, but;

           dz=dz+P/(360/(360-c));

Reassignment is generally a bad idea and doesn't work, usually.
It only works there due to the scoping of the for loops.

           dz=z+P/(360/(360-c));

Would be better.

Also you misspelled convexity in one spot.




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16481.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From philipp at knutschmidt.de  Mon Mar 14 03:40:12 2016
From: philipp at knutschmidt.de (philipp)
Date: Mon, 14 Mar 2016 00:40:12 -0700 (MST)
Subject: [OpenSCAD] Export seperate objects
In-Reply-To: <1457532710784-16373.post@n5.nabble.com>
References: <1457532710784-16373.post@n5.nabble.com>
Message-ID: <1457941212130-16482.post@n5.nabble.com>

Hello Everybody,

thanks a lot for your replies! Somehow it is good to know that what I am
looking for is not working out of the box. From my Point of view, the
?AngelScript Solution? seems to a bit oversized for this particular project,
but a great thing to keep in mind for upcoming ones.

It appears to me that I've hit an ?well known old spot? with my question,
since an ?export()? method has already been implemented... So another thing
would be to build ?my own? OpenSCAD from the sources to get that function,
but since I am not very experienced in C (or similar) it would take me ages
to get that up and running. If there is a simple trick to play to include
the existing function in a local build with a linux machine, just let me
know?

For now I think that ?bash? will become my weapon of choice, since I can
burn that one with search and replace.



--
View this message in context: http://forum.openscad.org/Export-seperate-objects-tp16373p16482.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Mon Mar 14 04:00:28 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 14 Mar 2016 08:00:28 +0000
Subject: [OpenSCAD] Coloring bug?
In-Reply-To: <C93D0B6F-C2E0-416D-94F8-699DE1878502@kintel.net>
References: <1457917152651-16471.post@n5.nabble.com>
	<C93D0B6F-C2E0-416D-94F8-699DE1878502@kintel.net>
Message-ID: <CAEEmnrPZxR1optAFMyzcFbbOxUGR+O4M_R6jAQ7UTLOrZjTDbw@mail.gmail.com>

In general OpenCSG doesn't work well with coincident faces but CGAL does.
If you put render() after color("Red") it works without the translate but
is obviously slow first time because of the $fn = 200.

I render all my objects before colouring them and composing them because
otherwise negative volumes from different objects that happen to coincide
cause Z buffer artefacts.

On 14 March 2016 at 05:40, Marius Kintel <marius at kintel.net> wrote:

> > On Mar 13, 2016, at 20:59 PM, wolf <wv99999 at gmail.com> wrote:
> > To me it means that the code is not executed inside-out, as I would
> expect,
> > but rather outside-in, or, if you want, the module Ball() is colored
> first
> > and only then are the intersection() and difference() instructions
> carried
> > out.
> > Is that intentional?
>
> I believe this is an instance of
> https://github.com/openscad/openscad/issues/1000
>
>  -Marius
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160314/3d411467/attachment.html>

From mschafer at wireframe.biz  Mon Mar 14 04:06:35 2016
From: mschafer at wireframe.biz (Neon22)
Date: Mon, 14 Mar 2016 01:06:35 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457940410504-16481.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457940410504-16481.post@n5.nabble.com>
Message-ID: <1457942795980-16484.post@n5.nabble.com>

FWIW I concur - this problem only shows up at this tiny scale.
But the scale is not that tiny. It should really work :(
0.025



--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16484.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Mon Mar 14 05:49:51 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 14 Mar 2016 10:49:51 +0100
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457942795980-16484.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457940410504-16481.post@n5.nabble.com>,
	<1457942795980-16484.post@n5.nabble.com>
Message-ID: <trinity-c286bc77-6fc0-451d-9b8e-d1ea4f367dce-1457948991518@3capp-gmx-bs71>

> FWIW I concur - this problem only shows up at this tiny scale.
> But the scale is not that tiny. It should really work :(
>
That might be another case of https://github.com/openscad/openscad/issues/999

Degenerate faces are usually not a problem for slicing, OpenSCAD
would have trouble re-importing those file as it currently does
not handle faces with zero area well.

FWIW, I never needed to repair the models I've created in OpenSCAD,
so "many need repair" is probably a bit exaggerated. Due to the
issue mentioned above it might occur more often for models with
very tiny details which I don't create as that would not print
anyway.

ciao,
  Torsten.


From wintoweb at gmail.com  Mon Mar 14 06:17:22 2016
From: wintoweb at gmail.com (stressless)
Date: Mon, 14 Mar 2016 03:17:22 -0700 (MST)
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <56E57B10.4070608@gmail.com>
References: <1457808644734-16449.post@n5.nabble.com>
	<1457866583114-16457.post@n5.nabble.com>
	<56E57B10.4070608@gmail.com>
Message-ID: <1457950642360-16486.post@n5.nabble.com>

Thanks or all the trouble making these test parts arhi.
It's surprising that you could break the plate without the block coming
apart !

Besides the fact that my design is flawed (no fillet, too thin walls, etc.),
your prints demonstrate (I think) that my printer did not set the right
temperature. I'll submit my new design to him before printing. I'll order
one only test unit before printing a bunch.

I will redesign my housing using the weld() module submitted by osj1961 (see
his post in this thread).

As for the off-topic subject on the use of LED/LDR for my sensor, I agree
with you a 100% on the flat LDR subject. I'll go infrared as you suggested.

Thanks for all that.

Dan



--
View this message in context: http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449p16486.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From a.j.scaraggi at gmail.com  Mon Mar 14 08:35:56 2016
From: a.j.scaraggi at gmail.com (ajs)
Date: Mon, 14 Mar 2016 05:35:56 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457940410504-16481.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457940410504-16481.post@n5.nabble.com>
Message-ID: <1457958956116-16487.post@n5.nabble.com>

I tried to understand what "degenerated faces" are but other than finding
that they caused bad STL files and happen at small scale I was not able to
find anything helpful to explain to me what they actually are.  If you have
a link you could share I would be grateful, I am a newbie model hobbyist and
am still learning basic concepts and jargon.


MichaelAtOz wrote
> BTW - not related to he STL issue, but;
> 
>            dz=dz+P/(360/(360-c));
> 
> Reassignment is generally a bad idea and doesn't work, usually.
> It only works there due to the scoping of the for loops.
> 
>            dz=z+P/(360/(360-c));
> 
> Would be better.
> 
> Also you misspelled convexity in one spot.

Thank you for both observations.  I do remember the reassignment of
variables not working in past projects.

So it all comes down to scale.  I do tend to make small scale models (I
don't print them) that must be the ones that I get the problem of good scad
renders with the broken STL exports.   You have been very helpful.



--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16487.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From wintoweb at gmail.com  Mon Mar 14 08:38:39 2016
From: wintoweb at gmail.com (stressless)
Date: Mon, 14 Mar 2016 05:38:39 -0700 (MST)
Subject: [OpenSCAD] My first print, my first desappointment
In-Reply-To: <1457933390306-16476.post@n5.nabble.com>
References: <1457808644734-16449.post@n5.nabble.com>
	<1457866583114-16457.post@n5.nabble.com>
	<56E572E4.2060709@gmail.com>
	<1457933390306-16476.post@n5.nabble.com>
Message-ID: <1457959119842-16488.post@n5.nabble.com>

MAGICAL ! Thanks for this !

I was working on the tedious task of filleting by differencing cylinders
from cubes when you wrote.
At present I am far from understanding the mechanics of your module but will
chew on it soon. To quicken generation, I change union() to weld() at the
end of designing stage. Wonderful.

 <</... so the bottom of the holes for the led and ldr aren't coplanar with
the top of the base plate/ >>
- Absolutely. Impemented ! Here is the revised version of my housing, all
recommendations taken into account except the block's wall thickness (has to
fit onto my perf board) :
* * * * * * * * *
use <fillet-demo.scad> // by osj1961-openscad forum member

//Couple LED/LDR housing (detects gray intensity)
$fn=50;
difference() {
    //union() {
    weld(2) {
        cube([8,15,11.5],center=true); // body lodging
        // fastening plate
        translate([0,0,-6.25]) {
            hull() {
                translate([-6,-9.5, 0]) // bottom left
                    cylinder(h=2,r=4);
                translate([-6, 9.5, 0]) // top left
                    cylinder(h=2,r=4);
                translate([ 6, 9.5, 0]) // top right
                    cylinder(h=2,r=4);
                translate([ 6,-9.5, 0]) // bottom right
                    cylinder(h=2,r=4);
            } // hull
        } // translate
    } // union
    
    translate([0,3.5,2])
        cylinder(10.5,r=3,center=true); // LED lodging
    translate([0,-3.5,2]) 
        cylinder(10.5,r=3,center=true); // LDR lodging

union() {
    // components leads holes
    translate([0,-5,-5])
        cylinder(5,r=0.5,center=true); // LED left
    translate([0,-2,-5])
        cylinder(5,r=0.5,center=true); // LED right
    translate([0,2.5,-5])
        cylinder(5,r=0.5,center=true); // LDR left
    translate([0,4.5,-5])
        cylinder(5,r=0.5,center=true); // LDR left

     // fastening holes
    translate([7,0,-5]) 
        cylinder(3,r=1.6,center=true); // long side right
    translate([-7,0,-5]) 
        cylinder(3,r=1.6,center=true); // long side left
    translate([0,10.5,-5]) 
        cylinder(3,r=1.6,center=true); // short side top
    translate([0,-10.5,-5]) 
        cylinder(3,r=1.6,center=true); // short side bottom
} // union

    // clear fillet around fastening holes
    // top
    translate([0,10,-4.2]) cylinder(h=5,r=2.5);
    // bottom
    translate([0,-10,-4.2]) cylinder(h=5,r=2.5);
    // right
    translate([6.5,0,-4.2]) cylinder(h=5,r=2.5);
    // left
    translate([-6.5,0,-4.2]) cylinder(h=5,r=2.5);

} // difference()
* * * * * * * * * * *
I think I am good to go but comments are welcome. Thanks again to all.
Dan




--
View this message in context: http://forum.openscad.org/My-first-print-my-first-desappointment-tp16449p16488.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Mon Mar 14 08:39:27 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 14 Mar 2016 12:39:27 +0000
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <1457958956116-16487.post@n5.nabble.com>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457940410504-16481.post@n5.nabble.com>
	<1457958956116-16487.post@n5.nabble.com>
Message-ID: <CAEEmnrMYf6E8-yWoy=E3MeckQ4gdcMEua1bWNmxo9ymhD1v=ww@mail.gmail.com>

All faces must be broken into triangular facets in an STL file. If a
triangle has zero area by having two corners coincident, or three corners
in a line, then it is degenerate.

On 14 March 2016 at 12:35, ajs <a.j.scaraggi at gmail.com> wrote:

> I tried to understand what "degenerated faces" are but other than finding
> that they caused bad STL files and happen at small scale I was not able to
> find anything helpful to explain to me what they actually are.  If you have
> a link you could share I would be grateful, I am a newbie model hobbyist
> and
> am still learning basic concepts and jargon.
>
>
> MichaelAtOz wrote
> > BTW - not related to he STL issue, but;
> >
> >            dz=dz+P/(360/(360-c));
> >
> > Reassignment is generally a bad idea and doesn't work, usually.
> > It only works there due to the scoping of the for loops.
> >
> >            dz=z+P/(360/(360-c));
> >
> > Would be better.
> >
> > Also you misspelled convexity in one spot.
>
> Thank you for both observations.  I do remember the reassignment of
> variables not working in past projects.
>
> So it all comes down to scale.  I do tend to make small scale models (I
> don't print them) that must be the ones that I get the problem of good scad
> renders with the broken STL exports.   You have been very helpful.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16487.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160314/d7509d55/attachment.html>

From a.j.scaraggi at gmail.com  Mon Mar 14 08:58:29 2016
From: a.j.scaraggi at gmail.com (ajs)
Date: Mon, 14 Mar 2016 05:58:29 -0700 (MST)
Subject: [OpenSCAD] STL Exports: Many need repair and I can't tell why
In-Reply-To: <trinity-c286bc77-6fc0-451d-9b8e-d1ea4f367dce-1457948991518@3capp-gmx-bs71>
References: <1457883469753-16463.post@n5.nabble.com>
	<1457923423035-16474.post@n5.nabble.com>
	<1457930821153-16475.post@n5.nabble.com>
	<1457940410504-16481.post@n5.nabble.com>
	<1457942795980-16484.post@n5.nabble.com>
	<trinity-c286bc77-6fc0-451d-9b8e-d1ea4f367dce-1457948991518@3capp-gmx-bs71>
Message-ID: <1457960309668-16490.post@n5.nabble.com>

tp3 wrote
> Degenerate faces are usually not a problem for slicing, OpenSCAD
> would have trouble re-importing those file as it currently does
> not handle faces with zero area well.

I have imported the STL files that had the degenerated faces issue back into
scad without repairing them first (I had no idea they were broken) and
unioned, differenced, etc without any problems.  It turns out that the stl
for the finished products turned out to be broken and needed repair too. 
When I went back and checked the individual stl files I found out they were
all broken. 


tp3 wrote
> FWIW, I never needed to repair the models I've created in OpenSCAD,
> so "many need repair" is probably a bit exaggerated. Due to the
> issue mentioned above it might occur more often for models with
> very tiny details which I don't create as that would not print
> anyway.

I never viewed an stl file before outside of OpenSCAD since I never intended
to print anything (I don't have a printer or access to one).  My windows 10
upgrade came with 3D Builder so I started looked at my stl exports for the
first time about a month ago using it.  As I tried to play around with them
many needed repairing before the software would let me do anything.  I was
toying with using Microsoft's service to get something I modeled printed for
the first time.

Thank you for helping.



--
View this message in context: http://forum.openscad.org/STL-Exports-Many-need-repair-and-I-can-t-tell-why-tp16463p16490.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 14 11:34:58 2016
From: doug at moens.org (doug moen)
Date: Mon, 14 Mar 2016 11:34:58 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <1457897952650-16467.post@n5.nabble.com>
References: <1457897952650-16467.post@n5.nabble.com>
Message-ID: <CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>

There aren't actually 4 separate copies. The page titled "Using the 2D
Subsystem" actually transcludes its text from somewhere else.

https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem
<https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude_2>

However, in order to eliminate any confusion, I've marked this page for
deletion, and added a forwarding link to the language manual. (I don't know
how to actually delete a page.)

So, that gets rid of two of the duplicate entries.

On 13 March 2016 at 15:39, wolf <wv99999 at gmail.com> wrote:

> For rotate_extrude (and linear extrude) there are four entries into to
> manual:
>
>
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude
>
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude_2
>
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude
>
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude_2
>
> These four entries do not agree with each other on usage.
>
> wolf
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/conflicting-manual-entries-tp16467.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160314/41289a42/attachment.html>

From doug at moens.org  Mon Mar 14 12:01:50 2016
From: doug at moens.org (doug moen)
Date: Mon, 14 Mar 2016 12:01:50 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
Message-ID: <CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>

By doing this, I've actually broken the openscad.org website, because
http://www.openscad.org/documentation.html contains a link to the page I
marked for deletion. That's fixable on github.

Here are some more web pages that link to the page I marked for deletion: a
couple forum posts, a bunch of blog posts, maybe 20 in all:
linkto:
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem

Anybody want to argue that I should revert the change?

Here's another page containing obsolete, duplicate documentation for
rotate_extrude and linear_extrude:
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Print_version

On 14 March 2016 at 11:34, doug moen <doug at moens.org> wrote:

> There aren't actually 4 separate copies. The page titled "Using the 2D
> Subsystem" actually transcludes its text from somewhere else.
>
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem
> <https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude_2>
>
> However, in order to eliminate any confusion, I've marked this page for
> deletion, and added a forwarding link to the language manual. (I don't know
> how to actually delete a page.)
>
> So, that gets rid of two of the duplicate entries.
>
> On 13 March 2016 at 15:39, wolf <wv99999 at gmail.com> wrote:
>
>> For rotate_extrude (and linear extrude) there are four entries into to
>> manual:
>>
>>
>> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude
>>
>> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude_2
>>
>> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude
>>
>> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#Rotate_Extrude_2
>>
>> These four entries do not agree with each other on usage.
>>
>> wolf
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/conflicting-manual-entries-tp16467.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160314/b832debd/attachment.html>

From arnholm at arnholm.org  Mon Mar 14 13:48:10 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Mon, 14 Mar 2016 18:48:10 +0100
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <1457922517155-16473.post@n5.nabble.com>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457922517155-16473.post@n5.nabble.com>
Message-ID: <56E6F95A.1020402@arnholm.org>

On 14. mars 2016 03:28, MichaelAtOz wrote:
> for(i=[0:10:100])
>    translate(whatever)
>      ten_steps();
>
> In theory the first run of ten_steps() will create the cached object, so it
> should not need to be regenerated.

This comes at a considerable cost, does it not? The cache needs to be 
somewhere. When I look at the memory use in an OpenSCAD run it tends to 
just increase and rarely (never?) decrease. If the model is large 
enough, the memory requirements can cause crashes. In such cases it 
would be better to have an option to disable caching.

Carsten Arnholm



From nop.head at gmail.com  Mon Mar 14 14:10:42 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 14 Mar 2016 18:10:42 +0000
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <56E6F95A.1020402@arnholm.org>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457922517155-16473.post@n5.nabble.com>
	<56E6F95A.1020402@arnholm.org>
Message-ID: <CAEEmnrN0MPJHCDPo8zRFNsCj7hC6XqeASRzkxBviFy7GfJj3hA@mail.gmail.com>

I think that is just the way C programs work. As the heap expands it page
faults and the OS allocates more virtual memory. When you free some
object's memory it just gets added to a lists of free chunks for reuse by
the heap manager. It doesn't shrink the virtual address space as it would
leave a gap in it. If it doesn't get used then the OS might page it out,
freeing up physical memory, but the virtual space only ever increase.

On 14 March 2016 at 17:48, Carsten Arnholm <arnholm at arnholm.org> wrote:

> On 14. mars 2016 03:28, MichaelAtOz wrote:
>
>> for(i=[0:10:100])
>>    translate(whatever)
>>      ten_steps();
>>
>> In theory the first run of ten_steps() will create the cached object, so
>> it
>> should not need to be regenerated.
>>
>
> This comes at a considerable cost, does it not? The cache needs to be
> somewhere. When I look at the memory use in an OpenSCAD run it tends to
> just increase and rarely (never?) decrease. If the model is large enough,
> the memory requirements can cause crashes. In such cases it would be better
> to have an option to disable caching.
>
> Carsten Arnholm
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160314/8d0190ed/attachment.html>

From arnholm at arnholm.org  Mon Mar 14 15:10:00 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Mon, 14 Mar 2016 20:10:00 +0100
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <CAEEmnrN0MPJHCDPo8zRFNsCj7hC6XqeASRzkxBviFy7GfJj3hA@mail.gmail.com>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457922517155-16473.post@n5.nabble.com> <56E6F95A.1020402@arnholm.org>
	<CAEEmnrN0MPJHCDPo8zRFNsCj7hC6XqeASRzkxBviFy7GfJj3hA@mail.gmail.com>
Message-ID: <56E70C88.8060403@arnholm.org>

On 14. mars 2016 19:10, nop head wrote:
> I think that is just the way C programs work. As the heap expands it page
> faults and the OS allocates more virtual memory. When you free some
> object's memory it just gets added to a lists of free chunks for reuse by
> the heap manager. It doesn't shrink the virtual address space as it would
> leave a gap in it. If it doesn't get used then the OS might page it out,
> freeing up physical memory, but the virtual space only ever increase.

No, this is not generally true. I've written many programs that release 
memory along the way, and it shows up as reduced memory footprint in the 
operating system. It depends on how programs are written.

However, regardless of how an application returns memory to the OS (or 
not), the fact that OpenSCAD keeps consuming more and more memory, means 
there is something not quite right, because it really should not be 
required.

For the "many holes" example posted by Ma?l Naccache 03. march, the 
memory requirement in OpenSCAD generally just grows in one direction 
(up) to more than 900MB (Win7 2015.03-2). For the same example, in my 
experimental implementation using carve, the memory use rises and falls 
many times between 50-150 MB only, the final results are similar in 
resolution. I don't know what OpenSCAD does here, but the memory use is 
clearly not optimal. If this has to do with caching I cannot say, but I 
would check it.

Carsten Arnholm





From alan at lxorguk.ukuu.org.uk  Mon Mar 14 15:48:42 2016
From: alan at lxorguk.ukuu.org.uk (Alan Cox)
Date: Mon, 14 Mar 2016 19:48:42 +0000
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <CAEEmnrN0MPJHCDPo8zRFNsCj7hC6XqeASRzkxBviFy7GfJj3hA@mail.gmail.com>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457922517155-16473.post@n5.nabble.com>
	<56E6F95A.1020402@arnholm.org>
	<CAEEmnrN0MPJHCDPo8zRFNsCj7hC6XqeASRzkxBviFy7GfJj3hA@mail.gmail.com>
Message-ID: <20160314194842.68401d31@www.etchedpixels.co.uk>

On Mon, 14 Mar 2016 18:10:42 +0000
nop head <nop.head at gmail.com> wrote:

> I think that is just the way C programs work. As the heap expands it page
> faults and the OS allocates more virtual memory. When you free some
> object's memory it just gets added to a lists of free chunks for reuse by
> the heap manager. It doesn't shrink the virtual address space as it would
> leave a gap in it. If it doesn't get used then the OS might page it out,
> freeing up physical memory, but the virtual space only ever increase.

In the Linux case at least that is configurable. It doesn't normally
matter however as any unreturned memory will be idle and so just dumped
out to swap when other processes need RAM.

Alan


From oz.at.michael at gmail.com  Mon Mar 14 17:42:17 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Mon, 14 Mar 2016 14:42:17 -0700 (MST)
Subject: [OpenSCAD] reusing unions objects?
In-Reply-To: <56E6F95A.1020402@arnholm.org>
References: <1457885084083-16464.post@n5.nabble.com>
	<1457922517155-16473.post@n5.nabble.com>
	<56E6F95A.1020402@arnholm.org>
Message-ID: <1457991737465-16497.post@n5.nabble.com>

cacb wrote
> When I look at the memory use in an OpenSCAD run it tends to 
> just increase and rarely (never?) decrease. If the model is large 
> enough, the memory requirements can cause crashes. In such cases it 
> would be better to have an option to disable caching.

Design/Flush_caches



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/reusing-unions-objects-tp16464p16497.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From a.j.scaraggi at gmail.com  Mon Mar 14 19:05:14 2016
From: a.j.scaraggi at gmail.com (ajs)
Date: Mon, 14 Mar 2016 16:05:14 -0700 (MST)
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
Message-ID: <1457996714195-16498.post@n5.nabble.com>

All the broken links redirecting to the same place, including on the cheat
sheet are killing me, and I'm sure any other newbies are being driven crazy. 
Not sure about the original issue but I vote to revert back.



--
View this message in context: http://forum.openscad.org/conflicting-manual-entries-tp16467p16498.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 14 19:24:09 2016
From: doug at moens.org (doug moen)
Date: Mon, 14 Mar 2016 19:24:09 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <1457996714195-16498.post@n5.nabble.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
Message-ID: <CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>

Okay, I just reverted those changes. Two people notified me that I broke
the cheatsheet.

Fixing the cheatsheet to point into the language reference manual is a
longer term goal, but this was an emergency action.

On 14 March 2016 at 19:05, ajs <a.j.scaraggi at gmail.com> wrote:

> All the broken links redirecting to the same place, including on the cheat
> sheet are killing me, and I'm sure any other newbies are being driven
> crazy.
> Not sure about the original issue but I vote to revert back.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/conflicting-manual-entries-tp16467p16498.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160314/b819083d/attachment.html>

From marius at kintel.net  Wed Mar 16 01:19:04 2016
From: marius at kintel.net (Marius Kintel)
Date: Wed, 16 Mar 2016 01:19:04 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
Message-ID: <12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>

Thanks for reporting and caring:)

FYI: Both the cheatsheet and the Manual table of contents on http://www.openscad.org/documentation.html links to the manual.
I believe these are the only two public deep links into the manual, so updating these first would make sense. They?re both a github repo (https://github.com/openscad/openscad.github.com).

 -Marius



From lboyd at frontiernet.net  Wed Mar 16 16:56:08 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Wed, 16 Mar 2016 13:56:08 -0700 (MST)
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
Message-ID: <1458161768470-16501.post@n5.nabble.com>

First of all, both The_OpenSCAD_Language and Using_the_2D_Subsystem gets you
to the same text.

The basic problem is duplicate headings in different sections of the manual.
This is true for both Rotate Extrude and Linear Extrude.

The discussion under "2D to 3D Extrusion" reached via #Rotate_Extrude is the
most extensive and should be retained.

Under "DXF Extrusion" reached via  #Rotate_Extrude_2, the information is
very limited.

What needs to happen:
  1.  If the "DXF Extrusion" section has anything useful not currently part
"2D to 3D Extrusion", it should added to the "2D to 3D Extrusion" section.

  2. Once this is done, all the "DXF Extrusion" section should be deleted. 
Since the index is automatically created by WikiBooks, deleting a section
removes it from the index along with any links to that section.

The CheatSheet links to the "2D to 3D Extrusion" section, so its links will
remain good.

By the way, I remember something about a limit of how many levels of
redirect WikiBooks will processing. Adding one more to the ones already used
probably exceed this limit




-----
Larry
--
View this message in context: http://forum.openscad.org/conflicting-manual-entries-tp16467p16501.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From lboyd at frontiernet.net  Wed Mar 16 17:15:37 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Wed, 16 Mar 2016 14:15:37 -0700 (MST)
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <1458161768470-16501.post@n5.nabble.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
	<1458161768470-16501.post@n5.nabble.com>
Message-ID: <1458162937227-16502.post@n5.nabble.com>

Actually the duplicate names are not a problem per say, as WikiBooks handles
it fine. The problem is the confusion of having 2 places in the manual with
different information about the same topic. 



-----
Larry
--
View this message in context: http://forum.openscad.org/conflicting-manual-entries-tp16467p16502.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Wed Mar 16 19:08:20 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 16 Mar 2016 16:08:20 -0700 (MST)
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
Message-ID: <1458169700208-16504.post@n5.nabble.com>

Hello

I made an OpenSCAD assemblage of the well known Thingiverse
"Mostly_Printed_CNC" by Allted with some small modifications and add-ons by
me. The objective is to facilitate the 3D view of the machine and make an
animation of it.

<http://forum.openscad.org/file/n16504/Capture10.jpg> 

I'm trying to deform the timing belt in order to follow the path from the
motors pulleys to the bearings but I haven't been successful with this task.
I tried the sweep() function but I can't figure how to generate correctly
the profile of the belt as polygon. There is a problem with the orientation
as can be seen on the picture.

<http://forum.openscad.org/file/n16504/Capture11.jpg> 

The code I'm playing with:
==========================================================

use <sweep.scad>
use<timing_belts.scad>

//function f(t) = [40*t,  0, 10-(10*sqrt(cos(360*t)))];	 
function f(t) = [3+30*t,  0, 10-10*cos(360*t)];	 

/*	 
function Profile_MXL()= [
[-0.660421,-0.5],[-0.660421,0],
[-0.621898,0.006033],[-0.587714,0.023037],
[-0.560056,0.049424],[-0.541182,0.083609],
[-0.417357,0.424392],[-0.398413,0.458752],
[-0.370649,0.48514],[-0.336324,0.502074],
[-0.297744,0.508035],[0.297744,0.508035],
[0.336268,0.502074],[0.370452,0.48514],
[0.39811,0.458752],[0.416983,0.424392],
[0.540808,0.083609],[0.559752,0.049424],
[0.587516,0.023037],[0.621841,0.006033],
[0.660421,0],[0.660421,-0.5]];
*/

function Profile_MXL()= [
	[-0.5,-0.660421],[0,-0.660421,],
	[0.006033,-0.621898],[0.023037,-0.587714],
	[0.049424,-0.560056],[0.083609,-0.541182],
	[0.424392,-0.417357],[0.458752,-0.398413],
	[0.48514,-0.370649],[0.502074,-0.336324],
	[0.508035,-0.297744],[0.508035,0.297744],
	[0.502074,0.336268],[0.48514,0.370452],
	[0.458752,0.39811],[0.424392, 0.416983],
	[0.083609,0.540808],[0.049424,0.559752],
	[0.023037,0.587516],[0.006033,0.621841],
	[0,0.660421],[-0.5,0.660421]];
        
module MXL(width = 6) render(convexity=4)
{
	//linear_extrude(height=width) 
	polygon([
	/*
	[-0.660421,-0.5],[-0.660421,0],
	[-0.621898,0.006033],[-0.587714,0.023037],
	[-0.560056,0.049424],[-0.541182,0.083609],
	[-0.417357,0.424392],[-0.398413,0.458752],
	[-0.370649,0.48514],[-0.336324,0.502074],
	[-0.297744,0.508035],[0.297744,0.508035],
	[0.336268,0.502074],[0.370452,0.48514],
	[0.39811,0.458752],[0.416983,0.424392],
	[0.540808,0.083609],[0.559752,0.049424],
	[0.587516,0.023037],[0.621841,0.006033],
	[0.660421,0],[0.660421,-0.5] ]);
	*/
	[-0.5,-0.660421],[0,-0.660421,],
	[0.006033,-0.621898],[0.023037,-0.587714],
	[0.049424,-0.560056],[0.083609,-0.541182],
	[0.424392,-0.417357],[0.458752,-0.398413],
	[0.48514,-0.370649],[0.502074,-0.336324],
	[0.508035,-0.297744],[0.508035,0.297744],
	[0.502074,0.336268],[0.48514,0.370452],
	[0.458752,0.39811],[0.424392, 0.416983],
	[0.083609,0.540808],[0.049424,0.559752],
	[0.023037,0.587516],[0.006033,0.621841],
	[0,0.660421],[-0.5,0.660421] ]);
}
	
color("Green") rotate([-90,0,90]) scale([1,5,1]) MXL();

step = 0.005;
path = [for (t=[0:step:1-step]) f(t)];
path_transforms = construct_transform_path(path) ;
 
module DefBelt() color("GoldenRod"){
    scale([1,4.9,1]) sweep(Profile_MXL(), path_transforms);
}
DefBelt();

translate([30,-3,0]) rotate([-90,0,0]) belt_length("MXL", 6, 10);
===================================================

Any ideas on how to accomplish this are welcome,
Thanks in advance.

jpmendes



--
View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Wed Mar 16 19:43:10 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Wed, 16 Mar 2016 16:43:10 -0700 (MST)
Subject: [OpenSCAD] Better format for documentation
In-Reply-To: <1458163663652-16503.post@n5.nabble.com>
References: <1458163663652-16503.post@n5.nabble.com>
Message-ID: <1458171790309-16505.post@n5.nabble.com>

gingerbeardman wrote
> I appreciate that wiki-based documentation is great for a number of
> reasons, such as being editable and visible to anybody.
> 
> But I wondered if there was a better formats or destination for the
> documentation? Perhaps github itself? The benefits I am foreseeing are
> export or reuse in documentation viewing apps such as Dash:
> https://kapeli.com/dash
> 
> I don't mind getting involved in this effort.
> 
> Thoughts appreciated!

Bump. As it didn't make it to the mailing list.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Better-format-for-documentation-tp16503p16505.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Wed Mar 16 19:48:14 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 16 Mar 2016 16:48:14 -0700 (MST)
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
In-Reply-To: <1458169700208-16504.post@n5.nabble.com>
References: <1458169700208-16504.post@n5.nabble.com>
Message-ID: <1458172094933-16506.post@n5.nabble.com>

Have a look into the file sweep/toothed-belt.scad  and adopt the data and
transform path to your needs.

Rudolf



--
View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504p16506.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Wed Mar 16 20:46:54 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Thu, 17 Mar 2016 01:46:54 +0100
Subject: [OpenSCAD] Better format for documentation
In-Reply-To: <1458171790309-16505.post@n5.nabble.com>
References: <1458163663652-16503.post@n5.nabble.com>
	<1458171790309-16505.post@n5.nabble.com>
Message-ID: <56E9FE7E.2010908@gmx.de>

gingerbeardman wrote
> But I wondered if there was a better formats or destination for the
> documentation? Perhaps github itself? The benefits I am foreseeing are
> export or reuse in documentation viewing apps such as Dash:
> https://kapeli.com/dash
>
While github would allow a more flexible way of storing and generating
documentation, it also (in my opinion at least) creates a much higher
barrier for people adding/fixing things in the documentation.
I don't have data that can really proof this assumption, but looking
at the history of Wiki changes, I do think it's true.

That mostly applies to the user documentation, something like an
additional (automatically from source generated?) documentation for
the language features would be nice too. There was some discussion
about tools that could be used for this type of documentation
(applies to both the C++ application code itself and also to
libraries/tutorials/examples written as scad scripts).

All that said, if there are other options, it makes sense to have a
look if they can help improving the documentation and/or access to
the it.
Dash seems limited to the Apple ecosystem, but maybe there are more
portable tools that could be used too (Zeal?).

Wikibooks has an API to export the raw data, so it would be possible
to use it as source. This would require some effort to unify and limit
the usage of Wiki markup features. But something like that would be
needed when migrating to a different storage too.

In addition there's already a tool for extracting the manual as
HTML which still waits to be integrated somehow into the build
process so the pages could be used as off-line documentation.
http://forum.openscad.org/Use-openscad-offliner-for-offline-documentation-td13096.html#a13131

ciao,
  Torsten.



From R.E.Wolff at BitWizard.nl  Thu Mar 17 09:13:38 2016
From: R.E.Wolff at BitWizard.nl (Rogier Wolff)
Date: Thu, 17 Mar 2016 14:13:38 +0100
Subject: [OpenSCAD] Touching surfaces.
Message-ID: <20160317131337.GP23624@BitWizard.nl>


Hi, 

Yesterday we wasted some acrylic again... 

I had made a design in openscad, allowing for an assembled version and
a "flat" version for lasering. We had made one prototype, but decided
to increase one dimension by 1.6mm for the second prototype.

The assembled version looked good, change parameter to create the flat
version, compile, export, import, print, laser!

Turns out that the 3D version looked good, while the flat version had
some protuding pieces missing. This was caused by those pieces aligning 
exactly with the plane of the main piece. 

//---------------------------------------
module test ()
{
  cube ([60,40, 3]);
  translate ([10,40,0]) cube ([10,3,3]);
  translate ([40,40,0]) cube ([10,3,3]);
}

// comment out the next line for the 3D model. 
projection (cut=true) translate ([0,0,-1.5])
test();
//---------------------------------------


Currently on my computer this now renders/projects/compiles just fine.
And that's what happened when we made the first prototype last week,
and changing something unrelated (that would be the height of 40 in
this example) suddenly the protrusions disappeared in the projected
version.... 

Would it be possible to have openscad help prevent this kind of error?
e.g. by warning me that there are two object that are touching?

	Roger. 

-- 
** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
**    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
*-- BitWizard writes Linux device drivers for any device you may have! --*
The plan was simple, like my brother-in-law Phil. But unlike
Phil, this plan just might work.


From nop.head at gmail.com  Thu Mar 17 09:31:47 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 17 Mar 2016 13:31:47 +0000
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <20160317131337.GP23624@BitWizard.nl>
References: <20160317131337.GP23624@BitWizard.nl>
Message-ID: <CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>

Hard to grasp what your original problem was as the example works fine as
you stated.

If two parts exactly touch then they will union correctly, so it isn't an
error. If they don't quite touch due to floating point inaccuracy then
there will be a gap. Again that isn't an error as they are not touching, so
it would be hard to give a warning.

In either case they don't disappear. They are either attached or separate.
What might make them disappear is doing the projection through a plane that
coincides exactly with the top or the bottom.

On 17 March 2016 at 13:13, Rogier Wolff <R.E.Wolff at bitwizard.nl> wrote:

>
> Hi,
>
> Yesterday we wasted some acrylic again...
>
> I had made a design in openscad, allowing for an assembled version and
> a "flat" version for lasering. We had made one prototype, but decided
> to increase one dimension by 1.6mm for the second prototype.
>
> The assembled version looked good, change parameter to create the flat
> version, compile, export, import, print, laser!
>
> Turns out that the 3D version looked good, while the flat version had
> some protuding pieces missing. This was caused by those pieces aligning
> exactly with the plane of the main piece.
>
> //---------------------------------------
> module test ()
> {
>   cube ([60,40, 3]);
>   translate ([10,40,0]) cube ([10,3,3]);
>   translate ([40,40,0]) cube ([10,3,3]);
> }
>
> // comment out the next line for the 3D model.
> projection (cut=true) translate ([0,0,-1.5])
> test();
> //---------------------------------------
>
>
> Currently on my computer this now renders/projects/compiles just fine.
> And that's what happened when we made the first prototype last week,
> and changing something unrelated (that would be the height of 40 in
> this example) suddenly the protrusions disappeared in the projected
> version....
>
> Would it be possible to have openscad help prevent this kind of error?
> e.g. by warning me that there are two object that are touching?
>
>         Roger.
>
> --
> ** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
> **    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
> *-- BitWizard writes Linux device drivers for any device you may have! --*
> The plan was simple, like my brother-in-law Phil. But unlike
> Phil, this plan just might work.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/5874552b/attachment.html>

From ed.nisley at pobox.com  Thu Mar 17 10:24:36 2016
From: ed.nisley at pobox.com (Ed Nisley)
Date: Thu, 17 Mar 2016 10:24:36 -0400
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <20160317131337.GP23624@BitWizard.nl>
References: <20160317131337.GP23624@BitWizard.nl>
Message-ID: <56EABE24.2030006@pobox.com>

On 03/17/2016 09:13 AM, Rogier Wolff wrote:
> possible to have openscad help prevent this kind of error?

Because OpenSCAD doesn't know your /intent/, it really can't tell 
whether you meant to do something or made a mistake.

I generally define constants for all the key physical measurements, then 
compute the cube() and translate() parameters from those constants, with 
explicit provision for the required overlaps:

-----------
Protrusion = 0.1;	// overlap to ensure no coincident faces

Body = [60,40,3];
Tab = [10,3,3];
TabOC = 30;		// distance between tab centers

module test() {
  cube(Body,center=true);
  for (i=[-1,1])
   translate([i*TabOC/2,(Body[1] + Tab[1] - Protrusion)/2,0])
    cube(Tab + [0,Protrusion,0],center=true);
}

projection (cut=true)
test();
-----------

nophead uses fancier techniques to accomplish that sort of thing, but 
the straightforward method suffices for my needs.

Defining all those relations forces me to work out the actual model 
geometry, rather than bashing numbers until the shape looks right. The 
payoff comes when I change one measurement and have /all/ the other 
parts rearrange themselves accordingly; that happens a lot for the 
build-to-fit repair parts I make.

For simple 2(-1/2)D shapes, however, I usually linear_extrude a polygon 
and skip all the 3D stuff.

-- 
Ed
softsolder.com


From unkerjay at centurylink.net  Thu Mar 17 10:38:52 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Thu, 17 Mar 2016 07:38:52 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
Message-ID: <1458225532086-16511.post@n5.nabble.com>

Seems to render to icosahedron.

Not the only one - here (using most recent version of OS):

(Engrave)

http://kitwallace.co.uk/3d/solid-to-scad.xq?id=SmallDitrigonalDodecacronicHexecontahedron&scad=wire

----

Code:

// Small Ditrigonal Dodecacronic Hexecontahedron

// base coordinates
// source: 
http://dmccooey.com/polyhedra/SmallDitrigonalDodecacronicHexecontahedron.txt
// generated by  http://kitwallace.co.uk/3d/solid-to-scad.xq
Name = "Small Ditrigonal Dodecacronic Hexecontahedron";
// 4 sided faces = 60
C0 = 0.597024149901241076355890645470;
C1 = 0.870268092443196157063010886223;
C2 = 0.966005366644720239190197921216;
C3 = 1.40812335289762690055892379644;
C4 = 1.56302951654596131554608856669;
C5 = 2.427050983124842272306880251548;
C6 = 3.927050983124842272306880251548;
points = [
[ C5, 0.0,  C6],
[ C5, 0.0, -C6],
[-C5, 0.0,  C6],
[-C5, 0.0, -C6],
[ C6,  C5, 0.0],
[ C6, -C5, 0.0],
[-C6,  C5, 0.0],
[-C6, -C5, 0.0],
[0.0,  C6,  C5],
[0.0,  C6, -C5],
[0.0, -C6,  C5],
[0.0, -C6, -C5],
[0.0,  C0,  C4],
[0.0,  C0, -C4],
[0.0, -C0,  C4],
[0.0, -C0, -C4],
[ C4, 0.0,  C0],
[ C4, 0.0, -C0],
[-C4, 0.0,  C0],
[-C4, 0.0, -C0],
[ C0,  C4, 0.0],
[ C0, -C4, 0.0],
[-C0,  C4, 0.0],
[-C0, -C4, 0.0],
[ C1, 0.0,  C3],
[ C1, 0.0, -C3],
[-C1, 0.0,  C3],
[-C1, 0.0, -C3],
[ C3,  C1, 0.0],
[ C3, -C1, 0.0],
[-C3,  C1, 0.0],
[-C3, -C1, 0.0],
[0.0,  C3,  C1],
[0.0,  C3, -C1],
[0.0, -C3,  C1],
[0.0, -C3, -C1],
[ C2,  C2,  C2],
[ C2,  C2, -C2],
[ C2, -C2,  C2],
[ C2, -C2, -C2],
[-C2,  C2,  C2],
[-C2,  C2, -C2],
[-C2, -C2,  C2],
[-C2, -C2, -C2]];
faces = [
[  4 , 38,  2, 24],
[ 10 , 12,  4, 24],
[  8 , 16, 10, 24],
[  5 , 14,  8, 24],
[  2 , 36,  5, 24],
[  3 , 39,  4, 25],
[  5 , 37,  3, 25],
[  9 , 15,  5, 25],
[ 11 , 17,  9, 25],
[  4 , 13, 11, 25],
[  7 , 40,  0, 26],
[  8 , 14,  7, 26],
[ 10 , 18,  8, 26],
[  6 , 12, 10, 26],
[  0 , 42,  6, 26],
[  6 , 43,  1, 27],
[ 11 , 13,  6, 27],
[  9 , 19, 11, 27],
[  7 , 15,  9, 27],
[  1 , 41,  7, 27],
[  9 , 17,  0, 28],
[  5 , 36,  9, 28],
[  8 , 37,  5, 28],
[  1 , 16,  8, 28],
[  0 , 20,  1, 28],
[  1 , 21,  0, 29],
[ 10 , 16,  1, 29],
[  4 , 39, 10, 29],
[ 11 , 38,  4, 29],
[  0 , 17, 11, 29],
[  3 , 22,  2, 30],
[  8 , 18,  3, 30],
[  7 , 41,  8, 30],
[  9 , 40,  7, 30],
[  2 , 19,  9, 30],
[ 11 , 19,  2, 31],
[  6 , 42, 11, 31],
[ 10 , 43,  6, 31],
[  3 , 18, 10, 31],
[  2 , 23,  3, 31],
[  6 , 20,  0, 32],
[  4 , 12,  6, 32],
[  2 , 22,  4, 32],
[  9 , 36,  2, 32],
[  0 , 40,  9, 32],
[  8 , 41,  1, 33],
[  3 , 37,  8, 33],
[  4 , 22,  3, 33],
[  6 , 13,  4, 33],
[  1 , 20,  6, 33],
[ 11 , 42,  0, 34],
[  2 , 38, 11, 34],
[  5 , 23,  2, 34],
[  7 , 14,  5, 34],
[  0 , 21,  7, 34],
[  7 , 21,  1, 35],
[  5 , 15,  7, 35],
[  3 , 23,  5, 35],
[ 10 , 39,  3, 35],
[  1 , 43, 10, 35]];
edges = [
[4,38],
[2,38],
[2,24],
[4,24],
[10,12],
[4,12],
[10,24],
[8,16],
[10,16],
[8,24],
[5,14],
[8,14],
[5,24],
[2,36],
[5,36],
[3,39],
[4,39],
[4,25],
[3,25],
[5,37],
[3,37],
[5,25],
[9,15],
[5,15],
[9,25],
[11,17],
[9,17],
[11,25],
[4,13],
[11,13],
[7,40],
[0,40],
[0,26],
[7,26],
[7,14],
[8,26],
[10,18],
[8,18],
[10,26],
[6,12],
[6,26],
[0,42],
[6,42],
[6,43],
[1,43],
[1,27],
[6,27],
[6,13],
[11,27],
[9,19],
[11,19],
[9,27],
[7,15],
[7,27],
[1,41],
[7,41],
[0,17],
[0,28],
[9,28],
[9,36],
[5,28],
[8,37],
[8,28],
[1,16],
[1,28],
[0,20],
[1,20],
[1,21],
[0,21],
[0,29],
[1,29],
[10,29],
[10,39],
[4,29],
[11,38],
[11,29],
[3,22],
[2,22],
[2,30],
[3,30],
[3,18],
[8,30],
[8,41],
[7,30],
[9,40],
[9,30],
[2,19],
[2,31],
[11,31],
[11,42],
[6,31],
[10,43],
[10,31],
[3,31],
[2,23],
[3,23],
[6,20],
[0,32],
[6,32],
[4,32],
[4,22],
[2,32],
[9,32],
[1,33],
[8,33],
[3,33],
[4,33],
[6,33],
[0,34],
[11,34],
[2,34],
[5,23],
[5,34],
[7,34],
[7,21],
[1,35],
[7,35],
[5,35],
[3,35],
[10,35]];
// --------------------------------- 



eps=0.01;
scale=20;
spoints = scale * points;
face_sides=[];
//insert 
font="orbitron";
word="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
ratio=1;
thickness=3;

sfaces = lhs_faces(faces,spoints);
cfaces = select_nsided_faces(sfaces, face_sides);
place_on_largest_face(sfaces,spoints)
  difference() {
      polyhedron(spoints,sfaces);
      engrave_face_word(cfaces,spoints,word,font,ratio,thickness);
  }
 


// ruler(10);

// functions for the construction of polyhedra
// chris wallace
// see http://kitwallace.tumblr.com/tagged/polyhedra for info


//  functions for creating the matrices for transforming a single point

// 19-10-2016 - updated to conform with version 2015.03-1 and later

function m_translate(v) = [ [1, 0, 0, 0],
                            [0, 1, 0, 0],
                            [0, 0, 1, 0],
                            [v.x, v.y, v.z, 1  ] ];
                            
function m_rotate(v) =  [ [1,  0,         0,        0],
                          [0,  cos(v.x),  sin(v.x), 0],
                          [0, -sin(v.x),  cos(v.x), 0],
                          [0,  0,         0,        1] ]
                      * [ [ cos(v.y), 0,  -sin(v.y), 0],
                          [0,         1,  0,        0],
                          [ sin(v.y), 0,  cos(v.y), 0],
                          [0,         0,  0,        1] ]
                      * [ [ cos(v.z),  sin(v.z), 0, 0],
                          [-sin(v.z),  cos(v.z), 0, 0],
                          [ 0,         0,        1, 0],
                          [ 0,         0,        0, 1] ];
                            
function vec3(v) = [v.x, v.y, v.z];
function transform(v, m)  = vec3([v.x, v.y, v.z, 1] * m);
                            
function matrix_to(p0, p) = 
                       m_rotate([0, atan2(sqrt(pow(p[0], 2) + pow(p[1], 2)),
p[2]), 0]) 
                     * m_rotate([0, 0, atan2(p[1], p[0])]) 
                     * m_translate(p0);

function matrix_from(p0, p) = 
                      m_translate(-p0)
                      * m_rotate([0, 0, -atan2(p[1], p[0])]) 
                      * m_rotate([0, -atan2(sqrt(pow(p[0], 2) + pow(p[1],
2)), p[2]), 0]); 

function transform_points(list, matrix, i = 0) = 
    i < len(list) 
       ? concat([ transform(list[i], matrix) ], transform_points(list,
matrix, i + 1))
       : [];


//  convert from point indexes to point coordinates

function as_points(indexes,points,i=0) =
     i < len(indexes) 
        ?  concat([points[indexes[i]]], as_points(indexes,points,i+1))
        : [];

//  basic vector functions
function normal_r(face) =
     cross(face[1]-face[0],face[2]-face[0]);

function normal(face) =
     - normal_r(face) / norm(normal_r(face));

function centre(points) = 
      vsum(points) / len(points);

// sum a list of vectors
function vsum(points,i=0) =  
      i < len(points)
        ?  (points[i] + vsum(points,i+1))
        :  [0,0,0];

function ssum(list,i=0) =  
      i < len(list)
        ?  (list[i] + ssum(list,i+1))
        :  0;


// add a vector to a list of vectors
function vadd(points,v,i=0) =
      i < len(points)
        ?  concat([points[i] + v], vadd(points,v,i+1))
        :  [];

function reverse_r(v,n) =
      n == 0 
        ? [v[0]]
        : concat([v[n]],reverse_r(v,n-1));

function reverse(v) = reverse_r(v, len(v)-1);

function sum_norm(points,i=0) =
    i < len(points)
       ?  norm(points[i]) + sum_norm(points,i+1)
       : 0 ;

function average_radius(points) =
       sum_norm(points) / len(points);


// select one dimension of a list of vectors
function slice(v,k,i=0) =
   i <len(v)
      ?  concat([v[i][k]], slice(v,k,i+1))
      : [];

function max(v, max=-9999999999999999,i=0) =
     i &lt; len(v) 
        ?  v[i] > max 
            ?  max(v, v[i], i+1 )
            :  max(v, max, i+1 ) 
        : max;

function min(v, min=9999999999999999,i=0) =
     i < len(v) 
        ?  v[i] < min 
            ?  min(v, v[i], i+1 )
            :  min(v, min, i+1 ) 
        : min;

function project(pts,i=0) =
     i < len(pts)
        ? concat([[pts[i][0],pts[i][1]]], project(pts,i+1))
        : [];
        
function contains(n, list, i=0) =
     i < len(list) 
        ?  n == list[i]
           ?  true
           :  contains(n,list,i+1)
        : false;

// normalize the points to have origin at 0,0,0 
function centre_points(points) = 
     vadd(points, - centre(points));

//scale to average radius = radius
function normalize(points,radius) =
    points * radius /average_radius(points);
 
function select_nsided_faces(faces,nsides,i=0) =
  len(nsides) == 0
     ?  faces
     :  i < len(faces)
         ?  contains(len(faces[i]), nsides)
             ? concat([faces[i]],  select_nsided_faces(faces,nsides,i+1))
             : select_nsided_faces(faces,nsides,i+1)
         : [];
         
function longest_edge(face,max=-1,i=0) =
       i < len(face)
          ?  norm(face[i] - face[(i+1)% len(face)]) > max
             ?  longest_edge(face, norm(face[i] - face[(i+1)%
len(face)]),i+1)
             :  longest_edge(face, max,i+1)
          : max ;

function point_edges(point,edges,i=0) =
    i < len(edges) 
       ? point == edges[i][0] || point == edges[i][1]
         ? concat([edges[i]], point_edges(point,edges,i+1))
         : point_edges(point,edges,i+1)
       : [];

function select_nedged_points(points,edges,nedges,i=0) =
     i < len(points) 
         ?  len(point_edges(i,edges)) == nedges
             ? concat([i],  select_nedged_points(points,edges,nedges,i+1))
             : select_nedged_points(points,edges,nedges,i+1)
         : [];

function triangle(a,b) = norm(cross(a,b))/2;

function face_area_centre(face,centre,i=0) =
    i < len(face)
       ?  triangle(
                face[i] - centre,
                face[(i+1) % len(face)] - centre)
          + face_area_centre(face,centre,i+1)
       : 0 ;

function face_area(face) = face_area_centre(face,centre(face));

function face_areas(faces,points,i=0) =
   i < len(faces)
      ? concat([[i,  face_area(as_points(faces[i],points))]] ,
               face_areas(faces,points,i+1))
      : [] ;
 
function max_area(areas, max=[-1,-1], i=0) =
   i <len(areas)
      ? areas[i][1] > max[1]
         ?  max_area(areas,areas[i],i+1)
         :  max_area(areas,max,i+1)
      : max;


function bbox(v) = [
   [min(slice(spoints,0)), max(slice(spoints,0))],
   [min(slice(spoints,1)), max(slice(spoints,1))],
   [min(slice(spoints,2)), max(slice(spoints,2))]
];

// check that all faces have a lhs orientation
function cosine_between(u, v) =(u * v) / (norm(u) * norm(v));

function lhs_faces(faces,points,i=0) =
     i < len(faces) 
        ?  cosine_between(normal(as_points(faces[i],points)),
                         centre(as_points(faces[i],points))) < 0
            ?  concat([reverse(faces[i])],lhs_faces(faces,points,i+1))
            :  concat([faces[i]],lhs_faces(faces,points,i+1))
        : [] ;


function fs(p) = f(p[0],p[1],p[2]);

function modulate_point(p) =
    spherical_to_xyz(fs(xyz_to_spherical(p)));

function modulate_points(points,i=0) =
   i < len(points)
      ? concat([modulate_point(points[i])],modulate_points(points,i+1))
      : [];

function xyz_to_spherical(p) =
    [ norm(p), acos(p.z/ norm(p)), atan2(p.x,p.y)] ;

function spherical_to_xyz_full(r,theta,phi) =
    [ r * sin(theta) * cos(phi),
      r * sin(theta) * sin(phi),
      r * cos(theta)];

function spherical_to_xyz(s) =
     spherical_to_xyz_full(s[0],s[1],s[2]);

function select_large_faces(faces,points, min,i=0) =
  i < len(faces)
     ?  face_area(as_points(faces[i],points)) > min
       ? concat([faces[i]],  select_large_faces(faces,points,min,i+1))
       :select_large_faces(faces,points,min,i+1)     
     : [];
        
function lower(char) =
    contains(char,"abcdefghijklmnopqrstuvwxyz") ;

function char_layer(char) =
    lower(char) 
         ? str(char,"_")
         : char;

module write_char(font,char) {
	linear_extrude(height=1,convexity=10) 
      import(file=str("write/",font,".dxf"),layer=char_layer(char));
};

module write_centred_char(font,char) {
	linear_extrude(height=1,convexity=10) 
      translate([-2.5,-4,0])
          import(file=str("write/",font,".dxf"),layer=char_layer(char));
};
module engrave_face_word(faces,points,word,font,ratio,thickness) {
    for (i=[0:len(faces) - 1]) 
      if (i <len(word)) {
        f = as_points(faces[i],points); 
        n = normal(f); c = centre(f);
        s = longest_edge(f) / 20* ratio;
           orient_to(c,n)  
                translate([0,0,-thickness+eps])
                     scale([s,s,thickness])
                          write_centred_char(font,word[i]);
      }
}
                          
module orient_to(centre, normal) {   
      translate(centre)
      rotate([0, 0, atan2(normal[1], normal[0])]) //rotation
      rotate([0, atan2(sqrt(pow(normal[0], 2)+pow(normal[1], 2)),normal[2]),
0])
      children();
}

module orient_from(centre, normal) {   
      rotate([0, -atan2(sqrt(pow(normal[0], 2)+pow(normal[1],
2)),normal[2]), 0])
      rotate([0, 0, -atan2(normal[1], normal[0])]) //rotation
      translate(-centre)
      children();
}

module place_on_largest_face(faces,points) {
  largest = max_area(face_areas(faces,points));
  lpoints = as_points(faces[largest[0]],points);
  n = normal(lpoints);c = centre(lpoints);
  orient_from(c,-n)
  children();
}
              
module make_edge(edge, points, r) {
    p0 = points[edge[0]]; p1 = points[edge[1]];
    v = p1 -p0 ;
     orient_to(p0,v)
       cylinder(r=r, h=norm(v)); 
}

module make_edges(points, edges, r) {
   for (i =[0:len(edges)-1])
      make_edge(edges[i],points, r);
}

module make_vertices(points,r) { 
   for (i = [0:len(points)-1])
      translate(points[i]) sphere(r); 
}

module face_prism (face,prism_base_ratio,prism_scale,prism_height_ratio) {
    n = normal(face); c= centre(face);
    m = matrix_from(c,n);
    tpts =  prism_base_ratio * transform_points(face,m);
    max_length = longest_edge(face);
    xy = project(tpts);
    linear_extrude(height=prism_height_ratio * max_length,
scale=prism_scale) 
          polygon(points=xy);
}

module
face_prisms_in(faces,points,prism_base_ratio,prism_scale,prism_height_ratio)
{
    for (i=[0:len(faces) - 1]) {
       f = as_points(faces[i],points); 
       n = normal(f); c = centre(f);
       orient_to(c,n) 
          translate([0,0,eps]) 
               mirror() rotate([0,180,0]) 
                  
face_prism(f,prism_base_ratio,prism_scale,prism_height_ratio);
     }
}

module
face_prisms_out(faces,points,prism_base_ratio,prism_scale,prism_height_ratio)
{
    for (i=[0:len(faces) - 1]) {
       f = as_points(faces[i],points); 
       n = normal(f); c = centre(f);
       orient_to(c,n) 
          translate([0,0,-eps]) 
              
face_prism(f,prism_base_ratio,prism_scale,prism_height_ratio);
    }
}

module
face_prisms_through(faces,points,prism_base_ratio,prism_scale,prism_height_ratio)
{
    for (i=[0:len(faces) - 1]) {
       f = as_points(faces[i],points); 
       n = normal(f); c = centre(f);
       orient_to(c,n) 
          translate([0,0,prism_height_ratio*longest_edge(f)/2]) 
               mirror() rotate([0,180,0]) 
                  
face_prism(f,prism_base_ratio,prism_scale,prism_height_ratio);
    }
}
module ruler(n) {
   for (i=[0:n-1]) 
       translate([(i-n/2 +0.5)* 10,0,0]) cube([9.8,5,2], center=true);
}

module ground(size=50) {
   translate([0,0,-size]) cube(2*size,center=true);
}

module cross_section(size=50) {
   translate([0,0,-size]) cube(2*size);
}

module ring(radius,thickness,height) {
   difference() {
      cylinder(h=height,r=radius);
      translate([0,0,-eps]) cylinder(h=height+2*eps,r=radius - thickness);
   }
}




--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From andrew at plumb.org  Thu Mar 17 10:48:04 2016
From: andrew at plumb.org (clothbot)
Date: Thu, 17 Mar 2016 07:48:04 -0700 (MST)
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <56EABE24.2030006@pobox.com>
References: <20160317131337.GP23624@BitWizard.nl> <56EABE24.2030006@pobox.com>
Message-ID: <1458226084899-16512.post@n5.nabble.com>

Riffing on what nophead and Ed have replied, here's my approach.  I create a
'volume_slice()' module that intersect-masks a "thin enough" volume with the
object and does a projection(cut=false) to get the 2D shadow-outline of the
slice:

--snip--

--end-snip--

Andrew.



--
View this message in context: http://forum.openscad.org/Touching-surfaces-tp16508p16512.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From andrew at plumb.org  Thu Mar 17 11:00:03 2016
From: andrew at plumb.org (Andrew Plumb)
Date: Thu, 17 Mar 2016 11:00:03 -0400
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <1458226084899-16512.post@n5.nabble.com>
References: <20160317131337.GP23624@BitWizard.nl>
	<56EABE24.2030006@pobox.com> <1458226084899-16512.post@n5.nabble.com>
Message-ID: <8b6b82e14d605912f6709908fc4fec33.squirrel@www.plumb.org>

Well that's rather annoying.  I'm not seeing my code on the mailing list
side; tried to get smart with the formatting markup.

--snip--

//---------------------------------------
module test ()
{
  cube ([60,40, 3]);
  translate ([10,40,0]) cube ([10,3,3]);
  translate ([40,40,0]) cube ([10,3,3]);
}

module volume_slice(delta=0.1,lowerLeft=[-1,-1],upperRight=[100,100],z=0.0) {
    projection(cut=false) intersection() {
        #translate([lowerLeft[0],lowerLeft[1],z-delta/2])
            cube([upperRight[0]-lowerLeft[0],upperRight[1]-lowerLeft[1],delta],center=false);
        union() children();
    }
}

// comment out the next line for the 3D model.
volume_slice(z=1.5)
test();
//---------------------------------------

--end-snip--

Hopefully that shows up...

Andrew.

> Riffing on what nophead and Ed have replied, here's my approach.  I create
> a
> 'volume_slice()' module that intersect-masks a "thin enough" volume with
> the
> object and does a projection(cut=false) to get the 2D shadow-outline of
> the
> slice:
>
> --snip--
>
> --end-snip--
>
> Andrew.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Touching-surfaces-tp16508p16512.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>




From nop.head at gmail.com  Thu Mar 17 11:54:58 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 17 Mar 2016 15:54:58 +0000
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <8b6b82e14d605912f6709908fc4fec33.squirrel@www.plumb.org>
References: <20160317131337.GP23624@BitWizard.nl> <56EABE24.2030006@pobox.com>
	<1458226084899-16512.post@n5.nabble.com>
	<8b6b82e14d605912f6709908fc4fec33.squirrel@www.plumb.org>
Message-ID: <CAEEmnrPFjRw=WLPShzbnVVDywC24aA7pXes+Dm2nOKBg0CYkFQ@mail.gmail.com>

Yes the forum incompatibility with the mailing list is a nightmare. Your
message from the forum is from clothbot but the mailing list one is Andrew
Plumb, both with the same email address. One ends up having to remember two
names for everybody.

Why do you intersect with a plane and then do projection(cut=false) instead
of just projection(cut = true). Are you saying it is more robust using a
finite slice?

On 17 March 2016 at 15:00, Andrew Plumb <andrew at plumb.org> wrote:

> Well that's rather annoying.  I'm not seeing my code on the mailing list
> side; tried to get smart with the formatting markup.
>
> --snip--
>
> //---------------------------------------
> module test ()
> {
>   cube ([60,40, 3]);
>   translate ([10,40,0]) cube ([10,3,3]);
>   translate ([40,40,0]) cube ([10,3,3]);
> }
>
> module
> volume_slice(delta=0.1,lowerLeft=[-1,-1],upperRight=[100,100],z=0.0) {
>     projection(cut=false) intersection() {
>         #translate([lowerLeft[0],lowerLeft[1],z-delta/2])
>
> cube([upperRight[0]-lowerLeft[0],upperRight[1]-lowerLeft[1],delta],center=false);
>         union() children();
>     }
> }
>
> // comment out the next line for the 3D model.
> volume_slice(z=1.5)
> test();
> //---------------------------------------
>
> --end-snip--
>
> Hopefully that shows up...
>
> Andrew.
>
> > Riffing on what nophead and Ed have replied, here's my approach.  I
> create
> > a
> > 'volume_slice()' module that intersect-masks a "thin enough" volume with
> > the
> > object and does a projection(cut=false) to get the 2D shadow-outline of
> > the
> > slice:
> >
> > --snip--
> >
> > --end-snip--
> >
> > Andrew.
> >
> >
> >
> > --
> > View this message in context:
> > http://forum.openscad.org/Touching-surfaces-tp16508p16512.html
> > Sent from the OpenSCAD mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> >
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/b2f73fb3/attachment.html>

From andrew at plumb.org  Thu Mar 17 12:49:34 2016
From: andrew at plumb.org (clothbot)
Date: Thu, 17 Mar 2016 09:49:34 -0700 (MST)
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <CAEEmnrPFjRw=WLPShzbnVVDywC24aA7pXes+Dm2nOKBg0CYkFQ@mail.gmail.com>
References: <20160317131337.GP23624@BitWizard.nl> <56EABE24.2030006@pobox.com>
	<1458226084899-16512.post@n5.nabble.com>
	<8b6b82e14d605912f6709908fc4fec33.squirrel@www.plumb.org>
	<CAEEmnrPFjRw=WLPShzbnVVDywC24aA7pXes+Dm2nOKBg0CYkFQ@mail.gmail.com>
Message-ID: <1458233374767-16515.post@n5.nabble.com>

nophead wrote
> Yes the forum incompatibility with the mailing list is a nightmare. Your
> message from the forum is from clothbot but the mailing list one is Andrew
> Plumb, both with the same email address. One ends up having to remember
> two
> names for everybody.

Yeah, I just let e-mail clients figure out the mapping. ;-) When I'm at work
I usually use the forum interface so it uses my 'clothbot' username; when
I'm at home I'm using my regular 'Mail.app' which has my proper signature
with all the 'clothbot' references.


nophead wrote
> Why do you intersect with a plane and then do projection(cut=false)
> instead
> of just projection(cut = true). Are you saying it is more robust using a
> finite slice?

I use it as a sort of 'volumetric quantization' or grid-snap operation.  The
size of 'delta' gives you a z-axis range in which geometry should be
considered valid and takes care of floating-point imprecision.

Andrew (aka clothbot :-)




--
View this message in context: http://forum.openscad.org/Touching-surfaces-tp16508p16515.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Thu Mar 17 15:00:28 2016
From: doug at moens.org (doug moen)
Date: Thu, 17 Mar 2016 15:00:28 -0400
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458225532086-16511.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
Message-ID: <CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>

The preview spits out messages:

WARNING: Can't open DXF file '/Users/doug/Documents/write/orbitron.dxf'.

WARNING: Can't open DXF file '/Users/doug/Documents/write/orbitron.dxf'.

WARNING: Can't open DXF file '/Users/doug/Documents/write/orbitron.dxf'.

WARNING: Can't open DXF file '/Users/doug/Documents/write/orbitron.dxf'.

WARNING: Can't open DXF file '/Users/doug/Documents/write/orbitron.dxf'.


These are actually error messages, even though they say WARNING. My
experience is that when OpenSCAD reports warnings, all bets are off, and
you need to fix the problem before you will get any sensible behaviour.


I notice that OpenSCAD only prints these error messages once, then never
again on further F5 or F6s. The only way I got the messages to be produced
a second time was by quitting OpenSCAD, restarting it, reopening the model
file and previewing. Flushing the caches does *not* bring the error
messages back in this particular case. Maybe there is a DXF cache that
doesn't get flushed.


This is part of a general problem with OpenSCAD, where it either refuses to
tell you that there is an error in the model, or it tells you once then
hides the message on future previews and renders. Either way, it always
tries to display something in the graphics pane, even if it doesn't make
sense. I would actually prefer to get an error message in the graphics pane
when there is an error in the model, rather than nonsense.


write/orbitron.dxf comes from here, I think, but I didn't try downloading
it:

http://www.thingiverse.com/thing:16193

On 17 March 2016 at 10:38, unkerjay <unkerjay at centurylink.net> wrote:

> Seems to render to icosahedron.
>
> Not the only one - here (using most recent version of OS):
>
> (Engrave)
>
>
> http://kitwallace.co.uk/3d/solid-to-scad.xq?id=SmallDitrigonalDodecacronicHexecontahedron&scad=wire
>
> ----
>
> Code:
>
> // Small Ditrigonal Dodecacronic Hexecontahedron
>
> // base coordinates
> // source:
>
> http://dmccooey.com/polyhedra/SmallDitrigonalDodecacronicHexecontahedron.txt
> // generated by  http://kitwallace.co.uk/3d/solid-to-scad.xq
> Name = "Small Ditrigonal Dodecacronic Hexecontahedron";
> // 4 sided faces = 60
> C0 = 0.597024149901241076355890645470;
> C1 = 0.870268092443196157063010886223;
> C2 = 0.966005366644720239190197921216;
> C3 = 1.40812335289762690055892379644;
> C4 = 1.56302951654596131554608856669;
> C5 = 2.427050983124842272306880251548;
> C6 = 3.927050983124842272306880251548;
> points = [
> [ C5, 0.0,  C6],
> [ C5, 0.0, -C6],
> [-C5, 0.0,  C6],
> [-C5, 0.0, -C6],
> [ C6,  C5, 0.0],
> [ C6, -C5, 0.0],
> [-C6,  C5, 0.0],
> [-C6, -C5, 0.0],
> [0.0,  C6,  C5],
> [0.0,  C6, -C5],
> [0.0, -C6,  C5],
> [0.0, -C6, -C5],
> [0.0,  C0,  C4],
> [0.0,  C0, -C4],
> [0.0, -C0,  C4],
> [0.0, -C0, -C4],
> [ C4, 0.0,  C0],
> [ C4, 0.0, -C0],
> [-C4, 0.0,  C0],
> [-C4, 0.0, -C0],
> [ C0,  C4, 0.0],
> [ C0, -C4, 0.0],
> [-C0,  C4, 0.0],
> [-C0, -C4, 0.0],
> [ C1, 0.0,  C3],
> [ C1, 0.0, -C3],
> [-C1, 0.0,  C3],
> [-C1, 0.0, -C3],
> [ C3,  C1, 0.0],
> [ C3, -C1, 0.0],
> [-C3,  C1, 0.0],
> [-C3, -C1, 0.0],
> [0.0,  C3,  C1],
> [0.0,  C3, -C1],
> [0.0, -C3,  C1],
> [0.0, -C3, -C1],
> [ C2,  C2,  C2],
> [ C2,  C2, -C2],
> [ C2, -C2,  C2],
> [ C2, -C2, -C2],
> [-C2,  C2,  C2],
> [-C2,  C2, -C2],
> [-C2, -C2,  C2],
> [-C2, -C2, -C2]];
> faces = [
> [  4 , 38,  2, 24],
> [ 10 , 12,  4, 24],
> [  8 , 16, 10, 24],
> [  5 , 14,  8, 24],
> [  2 , 36,  5, 24],
> [  3 , 39,  4, 25],
> [  5 , 37,  3, 25],
> [  9 , 15,  5, 25],
> [ 11 , 17,  9, 25],
> [  4 , 13, 11, 25],
> [  7 , 40,  0, 26],
> [  8 , 14,  7, 26],
> [ 10 , 18,  8, 26],
> [  6 , 12, 10, 26],
> [  0 , 42,  6, 26],
> [  6 , 43,  1, 27],
> [ 11 , 13,  6, 27],
> [  9 , 19, 11, 27],
> [  7 , 15,  9, 27],
> [  1 , 41,  7, 27],
> [  9 , 17,  0, 28],
> [  5 , 36,  9, 28],
> [  8 , 37,  5, 28],
> [  1 , 16,  8, 28],
> [  0 , 20,  1, 28],
> [  1 , 21,  0, 29],
> [ 10 , 16,  1, 29],
> [  4 , 39, 10, 29],
> [ 11 , 38,  4, 29],
> [  0 , 17, 11, 29],
> [  3 , 22,  2, 30],
> [  8 , 18,  3, 30],
> [  7 , 41,  8, 30],
> [  9 , 40,  7, 30],
> [  2 , 19,  9, 30],
> [ 11 , 19,  2, 31],
> [  6 , 42, 11, 31],
> [ 10 , 43,  6, 31],
> [  3 , 18, 10, 31],
> [  2 , 23,  3, 31],
> [  6 , 20,  0, 32],
> [  4 , 12,  6, 32],
> [  2 , 22,  4, 32],
> [  9 , 36,  2, 32],
> [  0 , 40,  9, 32],
> [  8 , 41,  1, 33],
> [  3 , 37,  8, 33],
> [  4 , 22,  3, 33],
> [  6 , 13,  4, 33],
> [  1 , 20,  6, 33],
> [ 11 , 42,  0, 34],
> [  2 , 38, 11, 34],
> [  5 , 23,  2, 34],
> [  7 , 14,  5, 34],
> [  0 , 21,  7, 34],
> [  7 , 21,  1, 35],
> [  5 , 15,  7, 35],
> [  3 , 23,  5, 35],
> [ 10 , 39,  3, 35],
> [  1 , 43, 10, 35]];
> edges = [
> [4,38],
> [2,38],
> [2,24],
> [4,24],
> [10,12],
> [4,12],
> [10,24],
> [8,16],
> [10,16],
> [8,24],
> [5,14],
> [8,14],
> [5,24],
> [2,36],
> [5,36],
> [3,39],
> [4,39],
> [4,25],
> [3,25],
> [5,37],
> [3,37],
> [5,25],
> [9,15],
> [5,15],
> [9,25],
> [11,17],
> [9,17],
> [11,25],
> [4,13],
> [11,13],
> [7,40],
> [0,40],
> [0,26],
> [7,26],
> [7,14],
> [8,26],
> [10,18],
> [8,18],
> [10,26],
> [6,12],
> [6,26],
> [0,42],
> [6,42],
> [6,43],
> [1,43],
> [1,27],
> [6,27],
> [6,13],
> [11,27],
> [9,19],
> [11,19],
> [9,27],
> [7,15],
> [7,27],
> [1,41],
> [7,41],
> [0,17],
> [0,28],
> [9,28],
> [9,36],
> [5,28],
> [8,37],
> [8,28],
> [1,16],
> [1,28],
> [0,20],
> [1,20],
> [1,21],
> [0,21],
> [0,29],
> [1,29],
> [10,29],
> [10,39],
> [4,29],
> [11,38],
> [11,29],
> [3,22],
> [2,22],
> [2,30],
> [3,30],
> [3,18],
> [8,30],
> [8,41],
> [7,30],
> [9,40],
> [9,30],
> [2,19],
> [2,31],
> [11,31],
> [11,42],
> [6,31],
> [10,43],
> [10,31],
> [3,31],
> [2,23],
> [3,23],
> [6,20],
> [0,32],
> [6,32],
> [4,32],
> [4,22],
> [2,32],
> [9,32],
> [1,33],
> [8,33],
> [3,33],
> [4,33],
> [6,33],
> [0,34],
> [11,34],
> [2,34],
> [5,23],
> [5,34],
> [7,34],
> [7,21],
> [1,35],
> [7,35],
> [5,35],
> [3,35],
> [10,35]];
> // ---------------------------------
>
>
>
> eps=0.01;
> scale=20;
> spoints = scale * points;
> face_sides=[];
> //insert
> font="orbitron";
> word="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
> ratio=1;
> thickness=3;
>
> sfaces = lhs_faces(faces,spoints);
> cfaces = select_nsided_faces(sfaces, face_sides);
> place_on_largest_face(sfaces,spoints)
>   difference() {
>       polyhedron(spoints,sfaces);
>       engrave_face_word(cfaces,spoints,word,font,ratio,thickness);
>   }
>
>
>
> // ruler(10);
>
> // functions for the construction of polyhedra
> // chris wallace
> // see http://kitwallace.tumblr.com/tagged/polyhedra for info
>
>
> //  functions for creating the matrices for transforming a single point
>
> // 19-10-2016 - updated to conform with version 2015.03-1 and later
>
> function m_translate(v) = [ [1, 0, 0, 0],
>                             [0, 1, 0, 0],
>                             [0, 0, 1, 0],
>                             [v.x, v.y, v.z, 1  ] ];
>
> function m_rotate(v) =  [ [1,  0,         0,        0],
>                           [0,  cos(v.x),  sin(v.x), 0],
>                           [0, -sin(v.x),  cos(v.x), 0],
>                           [0,  0,         0,        1] ]
>                       * [ [ cos(v.y), 0,  -sin(v.y), 0],
>                           [0,         1,  0,        0],
>                           [ sin(v.y), 0,  cos(v.y), 0],
>                           [0,         0,  0,        1] ]
>                       * [ [ cos(v.z),  sin(v.z), 0, 0],
>                           [-sin(v.z),  cos(v.z), 0, 0],
>                           [ 0,         0,        1, 0],
>                           [ 0,         0,        0, 1] ];
>
> function vec3(v) = [v.x, v.y, v.z];
> function transform(v, m)  = vec3([v.x, v.y, v.z, 1] * m);
>
> function matrix_to(p0, p) =
>                        m_rotate([0, atan2(sqrt(pow(p[0], 2) + pow(p[1],
> 2)),
> p[2]), 0])
>                      * m_rotate([0, 0, atan2(p[1], p[0])])
>                      * m_translate(p0);
>
> function matrix_from(p0, p) =
>                       m_translate(-p0)
>                       * m_rotate([0, 0, -atan2(p[1], p[0])])
>                       * m_rotate([0, -atan2(sqrt(pow(p[0], 2) + pow(p[1],
> 2)), p[2]), 0]);
>
> function transform_points(list, matrix, i = 0) =
>     i < len(list)
>        ? concat([ transform(list[i], matrix) ], transform_points(list,
> matrix, i + 1))
>        : [];
>
>
> //  convert from point indexes to point coordinates
>
> function as_points(indexes,points,i=0) =
>      i < len(indexes)
>         ?  concat([points[indexes[i]]], as_points(indexes,points,i+1))
>         : [];
>
> //  basic vector functions
> function normal_r(face) =
>      cross(face[1]-face[0],face[2]-face[0]);
>
> function normal(face) =
>      - normal_r(face) / norm(normal_r(face));
>
> function centre(points) =
>       vsum(points) / len(points);
>
> // sum a list of vectors
> function vsum(points,i=0) =
>       i < len(points)
>         ?  (points[i] + vsum(points,i+1))
>         :  [0,0,0];
>
> function ssum(list,i=0) =
>       i < len(list)
>         ?  (list[i] + ssum(list,i+1))
>         :  0;
>
>
> // add a vector to a list of vectors
> function vadd(points,v,i=0) =
>       i < len(points)
>         ?  concat([points[i] + v], vadd(points,v,i+1))
>         :  [];
>
> function reverse_r(v,n) =
>       n == 0
>         ? [v[0]]
>         : concat([v[n]],reverse_r(v,n-1));
>
> function reverse(v) = reverse_r(v, len(v)-1);
>
> function sum_norm(points,i=0) =
>     i < len(points)
>        ?  norm(points[i]) + sum_norm(points,i+1)
>        : 0 ;
>
> function average_radius(points) =
>        sum_norm(points) / len(points);
>
>
> // select one dimension of a list of vectors
> function slice(v,k,i=0) =
>    i <len(v)
>       ?  concat([v[i][k]], slice(v,k,i+1))
>       : [];
>
> function max(v, max=-9999999999999999,i=0) =
>      i &lt; len(v)
>         ?  v[i] > max
>             ?  max(v, v[i], i+1 )
>             :  max(v, max, i+1 )
>         : max;
>
> function min(v, min=9999999999999999,i=0) =
>      i < len(v)
>         ?  v[i] < min
>             ?  min(v, v[i], i+1 )
>             :  min(v, min, i+1 )
>         : min;
>
> function project(pts,i=0) =
>      i < len(pts)
>         ? concat([[pts[i][0],pts[i][1]]], project(pts,i+1))
>         : [];
>
> function contains(n, list, i=0) =
>      i < len(list)
>         ?  n == list[i]
>            ?  true
>            :  contains(n,list,i+1)
>         : false;
>
> // normalize the points to have origin at 0,0,0
> function centre_points(points) =
>      vadd(points, - centre(points));
>
> //scale to average radius = radius
> function normalize(points,radius) =
>     points * radius /average_radius(points);
>
> function select_nsided_faces(faces,nsides,i=0) =
>   len(nsides) == 0
>      ?  faces
>      :  i < len(faces)
>          ?  contains(len(faces[i]), nsides)
>              ? concat([faces[i]],  select_nsided_faces(faces,nsides,i+1))
>              : select_nsided_faces(faces,nsides,i+1)
>          : [];
>
> function longest_edge(face,max=-1,i=0) =
>        i < len(face)
>           ?  norm(face[i] - face[(i+1)% len(face)]) > max
>              ?  longest_edge(face, norm(face[i] - face[(i+1)%
> len(face)]),i+1)
>              :  longest_edge(face, max,i+1)
>           : max ;
>
> function point_edges(point,edges,i=0) =
>     i < len(edges)
>        ? point == edges[i][0] || point == edges[i][1]
>          ? concat([edges[i]], point_edges(point,edges,i+1))
>          : point_edges(point,edges,i+1)
>        : [];
>
> function select_nedged_points(points,edges,nedges,i=0) =
>      i < len(points)
>          ?  len(point_edges(i,edges)) == nedges
>              ? concat([i],  select_nedged_points(points,edges,nedges,i+1))
>              : select_nedged_points(points,edges,nedges,i+1)
>          : [];
>
> function triangle(a,b) = norm(cross(a,b))/2;
>
> function face_area_centre(face,centre,i=0) =
>     i < len(face)
>        ?  triangle(
>                 face[i] - centre,
>                 face[(i+1) % len(face)] - centre)
>           + face_area_centre(face,centre,i+1)
>        : 0 ;
>
> function face_area(face) = face_area_centre(face,centre(face));
>
> function face_areas(faces,points,i=0) =
>    i < len(faces)
>       ? concat([[i,  face_area(as_points(faces[i],points))]] ,
>                face_areas(faces,points,i+1))
>       : [] ;
>
> function max_area(areas, max=[-1,-1], i=0) =
>    i <len(areas)
>       ? areas[i][1] > max[1]
>          ?  max_area(areas,areas[i],i+1)
>          :  max_area(areas,max,i+1)
>       : max;
>
>
> function bbox(v) = [
>    [min(slice(spoints,0)), max(slice(spoints,0))],
>    [min(slice(spoints,1)), max(slice(spoints,1))],
>    [min(slice(spoints,2)), max(slice(spoints,2))]
> ];
>
> // check that all faces have a lhs orientation
> function cosine_between(u, v) =(u * v) / (norm(u) * norm(v));
>
> function lhs_faces(faces,points,i=0) =
>      i < len(faces)
>         ?  cosine_between(normal(as_points(faces[i],points)),
>                          centre(as_points(faces[i],points))) < 0
>             ?  concat([reverse(faces[i])],lhs_faces(faces,points,i+1))
>             :  concat([faces[i]],lhs_faces(faces,points,i+1))
>         : [] ;
>
>
> function fs(p) = f(p[0],p[1],p[2]);
>
> function modulate_point(p) =
>     spherical_to_xyz(fs(xyz_to_spherical(p)));
>
> function modulate_points(points,i=0) =
>    i < len(points)
>       ? concat([modulate_point(points[i])],modulate_points(points,i+1))
>       : [];
>
> function xyz_to_spherical(p) =
>     [ norm(p), acos(p.z/ norm(p)), atan2(p.x,p.y)] ;
>
> function spherical_to_xyz_full(r,theta,phi) =
>     [ r * sin(theta) * cos(phi),
>       r * sin(theta) * sin(phi),
>       r * cos(theta)];
>
> function spherical_to_xyz(s) =
>      spherical_to_xyz_full(s[0],s[1],s[2]);
>
> function select_large_faces(faces,points, min,i=0) =
>   i < len(faces)
>      ?  face_area(as_points(faces[i],points)) > min
>        ? concat([faces[i]],  select_large_faces(faces,points,min,i+1))
>        :select_large_faces(faces,points,min,i+1)
>      : [];
>
> function lower(char) =
>     contains(char,"abcdefghijklmnopqrstuvwxyz") ;
>
> function char_layer(char) =
>     lower(char)
>          ? str(char,"_")
>          : char;
>
> module write_char(font,char) {
>         linear_extrude(height=1,convexity=10)
>       import(file=str("write/",font,".dxf"),layer=char_layer(char));
> };
>
> module write_centred_char(font,char) {
>         linear_extrude(height=1,convexity=10)
>       translate([-2.5,-4,0])
>           import(file=str("write/",font,".dxf"),layer=char_layer(char));
> };
> module engrave_face_word(faces,points,word,font,ratio,thickness) {
>     for (i=[0:len(faces) - 1])
>       if (i <len(word)) {
>         f = as_points(faces[i],points);
>         n = normal(f); c = centre(f);
>         s = longest_edge(f) / 20* ratio;
>            orient_to(c,n)
>                 translate([0,0,-thickness+eps])
>                      scale([s,s,thickness])
>                           write_centred_char(font,word[i]);
>       }
> }
>
> module orient_to(centre, normal) {
>       translate(centre)
>       rotate([0, 0, atan2(normal[1], normal[0])]) //rotation
>       rotate([0, atan2(sqrt(pow(normal[0], 2)+pow(normal[1],
> 2)),normal[2]),
> 0])
>       children();
> }
>
> module orient_from(centre, normal) {
>       rotate([0, -atan2(sqrt(pow(normal[0], 2)+pow(normal[1],
> 2)),normal[2]), 0])
>       rotate([0, 0, -atan2(normal[1], normal[0])]) //rotation
>       translate(-centre)
>       children();
> }
>
> module place_on_largest_face(faces,points) {
>   largest = max_area(face_areas(faces,points));
>   lpoints = as_points(faces[largest[0]],points);
>   n = normal(lpoints);c = centre(lpoints);
>   orient_from(c,-n)
>   children();
> }
>
> module make_edge(edge, points, r) {
>     p0 = points[edge[0]]; p1 = points[edge[1]];
>     v = p1 -p0 ;
>      orient_to(p0,v)
>        cylinder(r=r, h=norm(v));
> }
>
> module make_edges(points, edges, r) {
>    for (i =[0:len(edges)-1])
>       make_edge(edges[i],points, r);
> }
>
> module make_vertices(points,r) {
>    for (i = [0:len(points)-1])
>       translate(points[i]) sphere(r);
> }
>
> module face_prism (face,prism_base_ratio,prism_scale,prism_height_ratio) {
>     n = normal(face); c= centre(face);
>     m = matrix_from(c,n);
>     tpts =  prism_base_ratio * transform_points(face,m);
>     max_length = longest_edge(face);
>     xy = project(tpts);
>     linear_extrude(height=prism_height_ratio * max_length,
> scale=prism_scale)
>           polygon(points=xy);
> }
>
> module
>
> face_prisms_in(faces,points,prism_base_ratio,prism_scale,prism_height_ratio)
> {
>     for (i=[0:len(faces) - 1]) {
>        f = as_points(faces[i],points);
>        n = normal(f); c = centre(f);
>        orient_to(c,n)
>           translate([0,0,eps])
>                mirror() rotate([0,180,0])
>
> face_prism(f,prism_base_ratio,prism_scale,prism_height_ratio);
>      }
> }
>
> module
>
> face_prisms_out(faces,points,prism_base_ratio,prism_scale,prism_height_ratio)
> {
>     for (i=[0:len(faces) - 1]) {
>        f = as_points(faces[i],points);
>        n = normal(f); c = centre(f);
>        orient_to(c,n)
>           translate([0,0,-eps])
>
> face_prism(f,prism_base_ratio,prism_scale,prism_height_ratio);
>     }
> }
>
> module
>
> face_prisms_through(faces,points,prism_base_ratio,prism_scale,prism_height_ratio)
> {
>     for (i=[0:len(faces) - 1]) {
>        f = as_points(faces[i],points);
>        n = normal(f); c = centre(f);
>        orient_to(c,n)
>           translate([0,0,prism_height_ratio*longest_edge(f)/2])
>                mirror() rotate([0,180,0])
>
> face_prism(f,prism_base_ratio,prism_scale,prism_height_ratio);
>     }
> }
> module ruler(n) {
>    for (i=[0:n-1])
>        translate([(i-n/2 +0.5)* 10,0,0]) cube([9.8,5,2], center=true);
> }
>
> module ground(size=50) {
>    translate([0,0,-size]) cube(2*size,center=true);
> }
>
> module cross_section(size=50) {
>    translate([0,0,-size]) cube(2*size);
> }
>
> module ring(radius,thickness,height) {
>    difference() {
>       cylinder(h=height,r=radius);
>       translate([0,0,-eps]) cylinder(h=height+2*eps,r=radius - thickness);
>    }
> }
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Previews-but-doesn-t-render-tp16511.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/14d99fae/attachment.html>

From unkerjay at centurylink.net  Thu Mar 17 16:19:40 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Thu, 17 Mar 2016 13:19:40 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
Message-ID: <1458245980036-16517.post@n5.nabble.com>

Good news.  

No error message.

Bad news.

Still looks like an icosahedron.



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16517.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From unkerjay at centurylink.net  Thu Mar 17 16:21:08 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Thu, 17 Mar 2016 13:21:08 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458245980036-16517.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
Message-ID: <1458246068869-16518.post@n5.nabble.com>

Correction: No "WARNING"'s.



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16518.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From unkerjay at centurylink.net  Thu Mar 17 16:25:54 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Thu, 17 Mar 2016 13:25:54 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458246068869-16518.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<1458246068869-16518.post@n5.nabble.com>
Message-ID: <1458246354751-16519.post@n5.nabble.com>

Preview (with the "write" folder in place:

<http://forum.openscad.org/file/n16519/Mangled_Preview_PNG.png> 



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16519.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From unkerjay at centurylink.net  Thu Mar 17 16:26:57 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Thu, 17 Mar 2016 13:26:57 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458246354751-16519.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<1458246068869-16518.post@n5.nabble.com>
	<1458246354751-16519.post@n5.nabble.com>
Message-ID: <1458246417656-16520.post@n5.nabble.com>

Render image: (Note the text)

<http://forum.openscad.org/file/n16520/Icosa_render_PNG.png> 



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16520.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Thu Mar 17 17:33:51 2016
From: doug at moens.org (doug moen)
Date: Thu, 17 Mar 2016 17:33:51 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <1458161768470-16501.post@n5.nabble.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
	<1458161768470-16501.post@n5.nabble.com>
Message-ID: <CAGV6i+OhfY=EFC0pLGnk8JmJ3xx2EyO8CbF3F5REtpyCXJFO4Q@mail.gmail.com>

The chapter titled "2D Objects" was transcluding the same sections multiple
times. The sections on Text, Linear Extrude and Rotate Extrude were all
duplicated, with duplicated entries in the table of contents as well. So I
fixed that.

The original report claimed that there multiple conflicting definitions of
rotate_extrude. I only see one definition in the Language manual right now,
plus a bunch of examples. The definition (usage) says:

rotate_extrude(angle = 360, convexity = 2) {...}


Several examples use the $fn= argument, which isn't documented in the usage
section. Not fixed.

There is an example of rotate_extrude() in the DXF Extrusion section which
gives a twist= parameter, which is wrong, so I fixed that.

I don't see any evidence of "conflicting definitions" for linear_extrude,
other than $fn=,$fa=,$fs= not being mentioned in the definition, only in
examples.

There's still more to do, but that's an improvement anyway.

Doug Moen

On 16 March 2016 at 16:56, L Boyd <lboyd at frontiernet.net> wrote:

> First of all, both The_OpenSCAD_Language and Using_the_2D_Subsystem gets
> you
> to the same text.
>
> The basic problem is duplicate headings in different sections of the
> manual.
> This is true for both Rotate Extrude and Linear Extrude.
>
> The discussion under "2D to 3D Extrusion" reached via #Rotate_Extrude is
> the
> most extensive and should be retained.
>
> Under "DXF Extrusion" reached via  #Rotate_Extrude_2, the information is
> very limited.
>
> What needs to happen:
>   1.  If the "DXF Extrusion" section has anything useful not currently part
> "2D to 3D Extrusion", it should added to the "2D to 3D Extrusion" section.
>
>   2. Once this is done, all the "DXF Extrusion" section should be deleted.
> Since the index is automatically created by WikiBooks, deleting a section
> removes it from the index along with any links to that section.
>
> The CheatSheet links to the "2D to 3D Extrusion" section, so its links will
> remain good.
>
> By the way, I remember something about a limit of how many levels of
> redirect WikiBooks will processing. Adding one more to the ones already
> used
> probably exceed this limit
>
>
>
>
> -----
> Larry
> --
> View this message in context:
> http://forum.openscad.org/conflicting-manual-entries-tp16467p16501.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/122ab1ba/attachment.html>

From doug at moens.org  Thu Mar 17 18:24:54 2016
From: doug at moens.org (doug moen)
Date: Thu, 17 Mar 2016 18:24:54 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <CAGV6i+OhfY=EFC0pLGnk8JmJ3xx2EyO8CbF3F5REtpyCXJFO4Q@mail.gmail.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
	<1458161768470-16501.post@n5.nabble.com>
	<CAGV6i+OhfY=EFC0pLGnk8JmJ3xx2EyO8CbF3F5REtpyCXJFO4Q@mail.gmail.com>
Message-ID: <CAGV6i+OE9ZAb5TY1-u9tpHQqKUW1hrN9xx0ryndettpiteFY+g@mail.gmail.com>

Removed incorrect and redundant text from the DXF Extrusion document. I'm
not going to delete the document itself because there could be links to it.

The only remaining useful information in the document is some links to
tutorials on how to export DXF files from Inkscape.

The DXF Extrusion document doesn't need to transcluded by the Language
Manual (it's already transcluded by the User Manual) so I've removed it
from the Language Manual.

On 17 March 2016 at 17:33, doug moen <doug at moens.org> wrote:

> The chapter titled "2D Objects" was transcluding the same sections
> multiple times. The sections on Text, Linear Extrude and Rotate Extrude
> were all duplicated, with duplicated entries in the table of contents as
> well. So I fixed that.
>
> The original report claimed that there multiple conflicting definitions of
> rotate_extrude. I only see one definition in the Language manual right now,
> plus a bunch of examples. The definition (usage) says:
>
> rotate_extrude(angle = 360, convexity = 2) {...}
>
>
> Several examples use the $fn= argument, which isn't documented in the
> usage section. Not fixed.
>
> There is an example of rotate_extrude() in the DXF Extrusion section which
> gives a twist= parameter, which is wrong, so I fixed that.
>
> I don't see any evidence of "conflicting definitions" for linear_extrude,
> other than $fn=,$fa=,$fs= not being mentioned in the definition, only in
> examples.
>
> There's still more to do, but that's an improvement anyway.
>
> Doug Moen
>
> On 16 March 2016 at 16:56, L Boyd <lboyd at frontiernet.net> wrote:
>
>> First of all, both The_OpenSCAD_Language and Using_the_2D_Subsystem gets
>> you
>> to the same text.
>>
>> The basic problem is duplicate headings in different sections of the
>> manual.
>> This is true for both Rotate Extrude and Linear Extrude.
>>
>> The discussion under "2D to 3D Extrusion" reached via #Rotate_Extrude is
>> the
>> most extensive and should be retained.
>>
>> Under "DXF Extrusion" reached via  #Rotate_Extrude_2, the information is
>> very limited.
>>
>> What needs to happen:
>>   1.  If the "DXF Extrusion" section has anything useful not currently
>> part
>> "2D to 3D Extrusion", it should added to the "2D to 3D Extrusion" section.
>>
>>   2. Once this is done, all the "DXF Extrusion" section should be deleted.
>> Since the index is automatically created by WikiBooks, deleting a section
>> removes it from the index along with any links to that section.
>>
>> The CheatSheet links to the "2D to 3D Extrusion" section, so its links
>> will
>> remain good.
>>
>> By the way, I remember something about a limit of how many levels of
>> redirect WikiBooks will processing. Adding one more to the ones already
>> used
>> probably exceed this limit
>>
>>
>>
>>
>> -----
>> Larry
>> --
>> View this message in context:
>> http://forum.openscad.org/conflicting-manual-entries-tp16467p16501.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/b822f7d5/attachment.html>

From doug at moens.org  Thu Mar 17 18:55:25 2016
From: doug at moens.org (doug moen)
Date: Thu, 17 Mar 2016 18:55:25 -0400
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458245980036-16517.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
Message-ID: <CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>

If I comment out the bodies of write_char() and write_centered_char(),
which contain the import statements, then it works fine. Preview and render
produce the same stellated polyhedron.

So that narrows down where the bug is. The import statements are messing up
in some way which leads to all the bad behaviour.

On 17 March 2016 at 16:19, unkerjay <unkerjay at centurylink.net> wrote:

> Good news.
>
> No error message.
>
> Bad news.
>
> Still looks like an icosahedron.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16517.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/2e248a6b/attachment.html>

From unkerjay at centurylink.net  Thu Mar 17 19:32:26 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Thu, 17 Mar 2016 16:32:26 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
Message-ID: <1458257546372-16524.post@n5.nabble.com>

Two things:

1) Curious what led to the two functions you refer to as the problem
Trial and error? Or something more methodical?

2) Kit Wallace has got a LOT of stuff at his site.  MOST of it renders
without
problem.  It looks like (the "assign" command being just one example that
often
comes up in older code), there may be some incompatibilities (not exactly
uncommon)
between the code he's using and changes in the code of the most recent
version of
OpenSCAD.

Not exactly sure how much of the code is standardized to make making the
changes
you suggest going forward.  Certainly useful to be aware of.  Not just for
me but a lot
of others who make use of his site and his code.

Pretty much the main reason I bring it up.

Knowing how you arrived at those two functions may prove useful to know even
if it's
a process of elimination method.

Just tried it and, yep, that made a difference.

It could be on some of the other polyhedra where there's a rendering
problem, might be
for the same reason.

Thanks.



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16524.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Thu Mar 17 19:49:51 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Fri, 18 Mar 2016 00:49:51 +0100
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458257546372-16524.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com>
Message-ID: <56EB429F.3090806@gmx.de>

On 03/18/2016 12:32 AM, unkerjay wrote:
> 1) Curious what led to the two functions you refer to as the problem
> Trial and error? Or something more methodical?
> 
The import() statements cause the issue because those are the
only thing that force actual mesh calculation by the difference().
Without, there is no CGAL call at all. Even just placing a cube()
into the write functions produces the same effect.

I think the reason is that the model (the polyhedron) is not
a solid object but just an illusion and so it only works in
preview mode.

ciao,
  Torsten.



From doug at moens.org  Thu Mar 17 19:51:27 2016
From: doug at moens.org (doug moen)
Date: Thu, 17 Mar 2016 19:51:27 -0400
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458257546372-16524.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com>
Message-ID: <CAGV6i+OUzBEcwm58Kte=4gkvQ_aBhE4nBfxemkFke_H_bYHAEA@mail.gmail.com>

What lead me to those modules is the fact that they contain the "import"
statements that were causing warning messages the first time I rendered the
model. I was just looking for the smallest change that would eliminate the
import statements.

There's a weird bug in OpenSCAD that this model demonstrates. I'm not sure
we can generalize and assume that Kit's other models trigger the same bug.
Don't worry about "assign", it's just deprecated, it should still work fine.

Here's the code that generates the model. Everything else is definitions:

place_on_largest_face(sfaces,spoints)
  difference() {
      polyhedron(spoints,sfaces);
      engrave_face_word(cfaces,spoints,word,font,ratio,thickness);
  }

If you disable the call to engrave_face_word() by putting "*" in front of
it, then the bug goes away, and you get the stellated polyhedron.

If you disable everything except the call to engrave_face_word() by putting
! in front of it, then you get a cloud of letters, and the bug goes away:
you get the same results in both preview and render.

But if you take the difference between the polyhedron and the
engrave_face_word, then the bug is triggered.

On 17 March 2016 at 19:32, unkerjay <unkerjay at centurylink.net> wrote:

> Two things:
>
> 1) Curious what led to the two functions you refer to as the problem
> Trial and error? Or something more methodical?
>
> 2) Kit Wallace has got a LOT of stuff at his site.  MOST of it renders
> without
> problem.  It looks like (the "assign" command being just one example that
> often
> comes up in older code), there may be some incompatibilities (not exactly
> uncommon)
> between the code he's using and changes in the code of the most recent
> version of
> OpenSCAD.
>
> Not exactly sure how much of the code is standardized to make making the
> changes
> you suggest going forward.  Certainly useful to be aware of.  Not just for
> me but a lot
> of others who make use of his site and his code.
>
> Pretty much the main reason I bring it up.
>
> Knowing how you arrived at those two functions may prove useful to know
> even
> if it's
> a process of elimination method.
>
> Just tried it and, yep, that made a difference.
>
> It could be on some of the other polyhedra where there's a rendering
> problem, might be
> for the same reason.
>
> Thanks.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16524.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/0a04a3d8/attachment.html>

From doug at moens.org  Thu Mar 17 19:54:30 2016
From: doug at moens.org (doug moen)
Date: Thu, 17 Mar 2016 19:54:30 -0400
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <56EB429F.3090806@gmx.de>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com> <56EB429F.3090806@gmx.de>
Message-ID: <CAGV6i+MFW9N_NL047W5RVVP7Q2GNvOAtkGNnMyFgabB9ksZJgg@mail.gmail.com>

Oh, that makes sense. So it's really caused by invalid arguments to
polyhedron. We should change polyhedron to report when you pass illegal
arguments.

On 17 March 2016 at 19:49, Torsten Paul <Torsten.Paul at gmx.de> wrote:

> On 03/18/2016 12:32 AM, unkerjay wrote:
> > 1) Curious what led to the two functions you refer to as the problem
> > Trial and error? Or something more methodical?
> >
> The import() statements cause the issue because those are the
> only thing that force actual mesh calculation by the difference().
> Without, there is no CGAL call at all. Even just placing a cube()
> into the write functions produces the same effect.
>
> I think the reason is that the model (the polyhedron) is not
> a solid object but just an illusion and so it only works in
> preview mode.
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160317/5da9a8ef/attachment.html>

From wv99999 at gmail.com  Fri Mar 18 03:17:14 2016
From: wv99999 at gmail.com (wolf)
Date: Fri, 18 Mar 2016 00:17:14 -0700 (MST)
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <CAGV6i+OE9ZAb5TY1-u9tpHQqKUW1hrN9xx0ryndettpiteFY+g@mail.gmail.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
	<1458161768470-16501.post@n5.nabble.com>
	<CAGV6i+OhfY=EFC0pLGnk8JmJ3xx2EyO8CbF3F5REtpyCXJFO4Q@mail.gmail.com>
	<CAGV6i+OE9ZAb5TY1-u9tpHQqKUW1hrN9xx0ryndettpiteFY+g@mail.gmail.com>
Message-ID: <1458285434713-16530.post@n5.nabble.com>

Issue fixed - thank you all.

While on fixing the manual, let me point out two other issues that are
likely to cause head scratching.

The OpenSCAD manual describes the capabilities of a command in a form that
looks like the fragment of an example. This is a good thing, as it makes
reading the manual a lot easier as, e.g., the average Linux man-page. For
DXF extrusion, such an example is given, but it is not complete. Shouldn't
there be a reference/link outlining that a full description is given
elsewhere? That I am not misunderstood: I like idea of giving a piece of
sample code. But also: do people arriving at this piece of code know that
some [optional] parameters have been omitted?

Second issue, 
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem
Under
"*Extruding a Polygon*  

Extrusion can also be performed on polygons with points chosen by the user.

Here is a simple polygon and its (fine-grained: $fn=200) rotational
extrusion (/profile and lathe/)." I have issues with the English used,
specifically the portion in italics. To my understanding, a lathe is a
machine to produce parts with rotational symmetry, and not a part that has
rotational symmetry. Can't the piece of text be replaced with (/before and
after rotation/)? Italics again added for emphasis.

wolf



--
View this message in context: http://forum.openscad.org/conflicting-manual-entries-tp16467p16530.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From R.E.Wolff at BitWizard.nl  Fri Mar 18 04:31:39 2016
From: R.E.Wolff at BitWizard.nl (Rogier Wolff)
Date: Fri, 18 Mar 2016 09:31:39 +0100
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
References: <20160317131337.GP23624@BitWizard.nl>
	<CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
Message-ID: <20160318083139.GC997@BitWizard.nl>

On Thu, Mar 17, 2016 at 01:31:47PM +0000, nop head wrote:
> Hard to grasp what your original problem was as the example works fine as
> you stated.
> 
> If two parts exactly touch then they will union correctly, so it isn't an
> error. If they don't quite touch due to floating point inaccuracy then
> there will be a gap. Again that isn't an error as they are not touching, so
> it would be hard to give a warning.
> 
> In either case they don't disappear. They are either attached or separate.
> What might make them disappear is doing the projection through a plane that
> coincides exactly with the top or the bottom.

I KNOW I can "fix" it by overlapping the objects. 

The problem is: occasionally you forget to preventively fix it, and
you place an object exactly where it is supposed to go.

The render looks fine, you laser or 3D print it, and... wasted time
and material. I understand that according to openscad if rounding
errors cause two surfaces to not-touch, then there are simply two
objects. That is actually the easiest case as mathematically there is
no problem.

In my case however there WAS an error, I think caused by the planes
being EXACTLY in the same spot. In the 3D view the protrusions
actually showed. "correctly unioned" as you say. Then the "projection
(cut=true)" caused the whole protrusion to disappear. If there was a
gap, it would have ruined my laser-job too: the protrusion would have
been cut loose from the main object. But there was no gap, the
protrusion disappeared.

Anyway, I understand that if there is a minimal gap, that would make
an entirely valid object and there is nothing that openscad can do to
FIX it automatically. However, it can warn me about a construct that I
didn't intend. 

I would want to set an epsilon, that two planes in exactly the same
spot or only less than epsilon apart would get flagged as a warning.

I can imagine that this operation to find these places is "expensive"
so maybe I would have to hit a "check double faces" button. Then I'd
get to hit myself when I mess up again because I forgot to do that
before exporting.

I agree that from openscad's viewpoint "there is no error" is a valid
point-of-view. On the other hand, a tool should help me make what I
actually want.

Suppose I have an oven where I need to set the temperature with a knob
but the digits are reversed. So to set it to 190 degrees you need to
turn the knob to 091. So when I find my cake burnt to a crisp, I
notice the knob is now set to 092, or 290 degrees. Technically I
specified "burn my cake at 290 degrees" and the oven was correct to
comply. But it is not what I wanted.

	Roger. 



> 
> On 17 March 2016 at 13:13, Rogier Wolff <R.E.Wolff at bitwizard.nl> wrote:
> 
> >
> > Hi,
> >
> > Yesterday we wasted some acrylic again...
> >
> > I had made a design in openscad, allowing for an assembled version and
> > a "flat" version for lasering. We had made one prototype, but decided
> > to increase one dimension by 1.6mm for the second prototype.
> >
> > The assembled version looked good, change parameter to create the flat
> > version, compile, export, import, print, laser!
> >
> > Turns out that the 3D version looked good, while the flat version had
> > some protuding pieces missing. This was caused by those pieces aligning
> > exactly with the plane of the main piece.
> >
> > //---------------------------------------
> > module test ()
> > {
> >   cube ([60,40, 3]);
> >   translate ([10,40,0]) cube ([10,3,3]);
> >   translate ([40,40,0]) cube ([10,3,3]);
> > }
> >
> > // comment out the next line for the 3D model.
> > projection (cut=true) translate ([0,0,-1.5])
> > test();
> > //---------------------------------------
> >
> >
> > Currently on my computer this now renders/projects/compiles just fine.
> > And that's what happened when we made the first prototype last week,
> > and changing something unrelated (that would be the height of 40 in
> > this example) suddenly the protrusions disappeared in the projected
> > version....
> >
> > Would it be possible to have openscad help prevent this kind of error?
> > e.g. by warning me that there are two object that are touching?
> >
> >         Roger.
> >
> > --
> > ** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
> > **    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
> > *-- BitWizard writes Linux device drivers for any device you may have! --*
> > The plan was simple, like my brother-in-law Phil. But unlike
> > Phil, this plan just might work.
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> >

> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


-- 
** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
**    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
*-- BitWizard writes Linux device drivers for any device you may have! --*
The plan was simple, like my brother-in-law Phil. But unlike
Phil, this plan just might work.


From nop.head at gmail.com  Fri Mar 18 05:04:26 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 09:04:26 +0000
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <20160318083139.GC997@BitWizard.nl>
References: <20160317131337.GP23624@BitWizard.nl>
	<CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
	<20160318083139.GC997@BitWizard.nl>
Message-ID: <CAEEmnrN2Zr4nOwN+=VKOuitMYGj=wwdU=ErjcbnA=BKT5q7PVQ@mail.gmail.com>

Unless you produce an example that fails it is hard to say why. As I said
before exactly touching is not an error and unions correctly. Why would we
want OpenScad to produce a warning? Having a small gap produces two objects
and that is also not an error as somebody might want that. Both are clear
when you do F6 because of the red perimeter. It is also clear in the F6 3D
view if you turn on show edges.

If the tabs disappeared completely something else happened, like the cut
plane was not though the tabs or there is a bug in OpenScad.

On 18 March 2016 at 08:31, Rogier Wolff <R.E.Wolff at bitwizard.nl> wrote:

> On Thu, Mar 17, 2016 at 01:31:47PM +0000, nop head wrote:
> > Hard to grasp what your original problem was as the example works fine as
> > you stated.
> >
> > If two parts exactly touch then they will union correctly, so it isn't an
> > error. If they don't quite touch due to floating point inaccuracy then
> > there will be a gap. Again that isn't an error as they are not touching,
> so
> > it would be hard to give a warning.
> >
> > In either case they don't disappear. They are either attached or
> separate.
> > What might make them disappear is doing the projection through a plane
> that
> > coincides exactly with the top or the bottom.
>
> I KNOW I can "fix" it by overlapping the objects.
>
> The problem is: occasionally you forget to preventively fix it, and
> you place an object exactly where it is supposed to go.
>
> The render looks fine, you laser or 3D print it, and... wasted time
> and material. I understand that according to openscad if rounding
> errors cause two surfaces to not-touch, then there are simply two
> objects. That is actually the easiest case as mathematically there is
> no problem.
>
> In my case however there WAS an error, I think caused by the planes
> being EXACTLY in the same spot. In the 3D view the protrusions
> actually showed. "correctly unioned" as you say. Then the "projection
> (cut=true)" caused the whole protrusion to disappear. If there was a
> gap, it would have ruined my laser-job too: the protrusion would have
> been cut loose from the main object. But there was no gap, the
> protrusion disappeared.
>
> Anyway, I understand that if there is a minimal gap, that would make
> an entirely valid object and there is nothing that openscad can do to
> FIX it automatically. However, it can warn me about a construct that I
> didn't intend.
>
> I would want to set an epsilon, that two planes in exactly the same
> spot or only less than epsilon apart would get flagged as a warning.
>
> I can imagine that this operation to find these places is "expensive"
> so maybe I would have to hit a "check double faces" button. Then I'd
> get to hit myself when I mess up again because I forgot to do that
> before exporting.
>
> I agree that from openscad's viewpoint "there is no error" is a valid
> point-of-view. On the other hand, a tool should help me make what I
> actually want.
>
> Suppose I have an oven where I need to set the temperature with a knob
> but the digits are reversed. So to set it to 190 degrees you need to
> turn the knob to 091. So when I find my cake burnt to a crisp, I
> notice the knob is now set to 092, or 290 degrees. Technically I
> specified "burn my cake at 290 degrees" and the oven was correct to
> comply. But it is not what I wanted.
>
>         Roger.
>
>
>
> >
> > On 17 March 2016 at 13:13, Rogier Wolff <R.E.Wolff at bitwizard.nl> wrote:
> >
> > >
> > > Hi,
> > >
> > > Yesterday we wasted some acrylic again...
> > >
> > > I had made a design in openscad, allowing for an assembled version and
> > > a "flat" version for lasering. We had made one prototype, but decided
> > > to increase one dimension by 1.6mm for the second prototype.
> > >
> > > The assembled version looked good, change parameter to create the flat
> > > version, compile, export, import, print, laser!
> > >
> > > Turns out that the 3D version looked good, while the flat version had
> > > some protuding pieces missing. This was caused by those pieces aligning
> > > exactly with the plane of the main piece.
> > >
> > > //---------------------------------------
> > > module test ()
> > > {
> > >   cube ([60,40, 3]);
> > >   translate ([10,40,0]) cube ([10,3,3]);
> > >   translate ([40,40,0]) cube ([10,3,3]);
> > > }
> > >
> > > // comment out the next line for the 3D model.
> > > projection (cut=true) translate ([0,0,-1.5])
> > > test();
> > > //---------------------------------------
> > >
> > >
> > > Currently on my computer this now renders/projects/compiles just fine.
> > > And that's what happened when we made the first prototype last week,
> > > and changing something unrelated (that would be the height of 40 in
> > > this example) suddenly the protrusions disappeared in the projected
> > > version....
> > >
> > > Would it be possible to have openscad help prevent this kind of error?
> > > e.g. by warning me that there are two object that are touching?
> > >
> > >         Roger.
> > >
> > > --
> > > ** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ **
> +31-15-2600998 **
> > > **    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233
>   **
> > > *-- BitWizard writes Linux device drivers for any device you may have!
> --*
> > > The plan was simple, like my brother-in-law Phil. But unlike
> > > Phil, this plan just might work.
> > >
> > > _______________________________________________
> > > OpenSCAD mailing list
> > > Discuss at lists.openscad.org
> > > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> > >
>
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
> --
> ** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
> **    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
> *-- BitWizard writes Linux device drivers for any device you may have! --*
> The plan was simple, like my brother-in-law Phil. But unlike
> Phil, this plan just might work.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/5bf6873a/attachment.html>

From nop.head at gmail.com  Fri Mar 18 05:13:37 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 09:13:37 +0000
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <1458285434713-16530.post@n5.nabble.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
	<1458161768470-16501.post@n5.nabble.com>
	<CAGV6i+OhfY=EFC0pLGnk8JmJ3xx2EyO8CbF3F5REtpyCXJFO4Q@mail.gmail.com>
	<CAGV6i+OE9ZAb5TY1-u9tpHQqKUW1hrN9xx0ryndettpiteFY+g@mail.gmail.com>
	<1458285434713-16530.post@n5.nabble.com>
Message-ID: <CAEEmnrPexQpX4Sj5S7qUS9=V685qzdvyzUtoW61j0DJ6659d5w@mail.gmail.com>

I think simply removing the text in brackets is clearer.

Here is a simple polygon and its (fine-grained: $fn=200) rotational
> extrusion.
>

On 18 March 2016 at 07:17, wolf <wv99999 at gmail.com> wrote:

> Issue fixed - thank you all.
>
> While on fixing the manual, let me point out two other issues that are
> likely to cause head scratching.
>
> The OpenSCAD manual describes the capabilities of a command in a form that
> looks like the fragment of an example. This is a good thing, as it makes
> reading the manual a lot easier as, e.g., the average Linux man-page. For
> DXF extrusion, such an example is given, but it is not complete. Shouldn't
> there be a reference/link outlining that a full description is given
> elsewhere? That I am not misunderstood: I like idea of giving a piece of
> sample code. But also: do people arriving at this piece of code know that
> some [optional] parameters have been omitted?
>
> Second issue,
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem
> Under
> "*Extruding a Polygon*
>
> Extrusion can also be performed on polygons with points chosen by the user.
>
> Here is a simple polygon and its (fine-grained: $fn=200) rotational
> extrusion (/profile and lathe/)." I have issues with the English used,
> specifically the portion in italics. To my understanding, a lathe is a
> machine to produce parts with rotational symmetry, and not a part that has
> rotational symmetry. Can't the piece of text be replaced with (/before and
> after rotation/)? Italics again added for emphasis.
>
> wolf
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/conflicting-manual-entries-tp16467p16530.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/5231e2bc/attachment.html>

From amarjeet.kapoor1 at gmail.com  Fri Mar 18 05:28:25 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Fri, 18 Mar 2016 14:58:25 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
Message-ID: <CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>

As per your suggestion I was understanding the code and found the
issue https://github.com/openscad/openscad/issues/722 from which
customizer project was developed. There were a lot of suggestions like
using meta data, using explicit function or using special keywords
like param for specifying the parameters etc. were given by
contributers of repository that how it should be implemented and what
I was thinking was that we can make all variables assigned values in
.scad file be displayed as parameters and then get information from
user about how they want to change that variable like using ranges,
radio button, also other descriptions etc and then we can  generate
input form from that.

Now I want to Know from you that which approach you want to be used so
that I could be able to write my proposal accordingly.

When I was reading all the issues there was a link of branch, in which
the project was already developed.
https://github.com/openscad/openscad/tree/model-meta-data3

Now what should I do that we need to use different approach for that
project or you want to continue with that only.

While reading code, I found that there are no comments related to
code. Comments should be there for easy understanding. Please add
comments in your code, It will pace up developed and will be easy to
understand.
Currently I'm using doxygen to understand flow of your code but there
is lack of comments.




-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From arnholm at arnholm.org  Fri Mar 18 05:53:29 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Fri, 18 Mar 2016 10:53:29 +0100
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <20160318083139.GC997@BitWizard.nl>
References: <20160317131337.GP23624@BitWizard.nl>
	<CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
	<20160318083139.GC997@BitWizard.nl>
Message-ID: <5b5df2d73cbecacf735ffc9a8cf4ad95@arnholm.org>

On 2016-03-18 09:31, Rogier Wolff wrote:
> I KNOW I can "fix" it by overlapping the objects.
> 
> The problem is: occasionally you forget to preventively fix it, and
> you place an object exactly where it is supposed to go.
> 
> The render looks fine, you laser or 3D print it, and... wasted time
> and material. I understand that according to openscad if rounding
> errors cause two surfaces to not-touch, then there are simply two
> objects. That is actually the easiest case as mathematically there is
> no problem.
> 
> In my case however there WAS an error, I think caused by the planes
> being EXACTLY in the same spot.

The software cannot know your expectations, it can only know what your 
instructions were. If the two objects happen to intersect based on your 
instructions, they become thing as far as the software is concerned. If 
not, they are two. You can only call the result an error after comparing 
with your unstated expectations, the software has no way of knowing 
these expectations (after all it isn't psychic).

I think the best you can hope for is that the software reports back how 
many "lumps" (=independent bodies) the resulting object consists of 
after boolean operations. If you have two objects you believe should be 
unioned into one, and the software reports the result is consisting of 
two lumps, then you have a chance of comparing the result with your 
expectations. This is exactly what I have been doing when experimenting 
with carve (another boolean engine).

So a suggestion could be that openscad reports the number of lumps in 
the result.

Carsten Arnholm



From nop.head at gmail.com  Fri Mar 18 06:05:50 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 10:05:50 +0000
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <5b5df2d73cbecacf735ffc9a8cf4ad95@arnholm.org>
References: <20160317131337.GP23624@BitWizard.nl>
	<CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
	<20160318083139.GC997@BitWizard.nl>
	<5b5df2d73cbecacf735ffc9a8cf4ad95@arnholm.org>
Message-ID: <CAEEmnrOrUancUjoy=Sxr3n9o-YPT4s5CJDpKz8A=1gaQ30=4tw@mail.gmail.com>

OpenScad currently reports volumes for 3D which is lumps plus one and
contours for 2D. However missing tabs that should be unioned would not
change the number of lumps. Detached tabs would but that is not actually
the original problem.

On 18 March 2016 at 09:53, <arnholm at arnholm.org> wrote:

> On 2016-03-18 09:31, Rogier Wolff wrote:
>
>> I KNOW I can "fix" it by overlapping the objects.
>>
>> The problem is: occasionally you forget to preventively fix it, and
>> you place an object exactly where it is supposed to go.
>>
>> The render looks fine, you laser or 3D print it, and... wasted time
>> and material. I understand that according to openscad if rounding
>> errors cause two surfaces to not-touch, then there are simply two
>> objects. That is actually the easiest case as mathematically there is
>> no problem.
>>
>> In my case however there WAS an error, I think caused by the planes
>> being EXACTLY in the same spot.
>>
>
> The software cannot know your expectations, it can only know what your
> instructions were. If the two objects happen to intersect based on your
> instructions, they become thing as far as the software is concerned. If
> not, they are two. You can only call the result an error after comparing
> with your unstated expectations, the software has no way of knowing these
> expectations (after all it isn't psychic).
>
> I think the best you can hope for is that the software reports back how
> many "lumps" (=independent bodies) the resulting object consists of after
> boolean operations. If you have two objects you believe should be unioned
> into one, and the software reports the result is consisting of two lumps,
> then you have a chance of comparing the result with your expectations. This
> is exactly what I have been doing when experimenting with carve (another
> boolean engine).
>
> So a suggestion could be that openscad reports the number of lumps in the
> result.
>
> Carsten Arnholm
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/2321c935/attachment.html>

From ginjaian at hotmail.com  Fri Mar 18 06:13:58 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 03:13:58 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
Message-ID: <1458296038658-16537.post@n5.nabble.com>

Hi, long time OpenSCAD user, first time poster.

I want to export a model I've designed in OpenSCAD in a form that I can
import into a more 'feature rich' CAD package, so I can do some nice renders
of it. I've looked at Blender OpenSCAD import scripts, but these seem to be
rather limited, and the only other apparent way to export the model, and
retain geometry (rather than export as STL), seems to be to export as CSG,
and import into FreeCAD - the only tool I've found that can cope with
OpenSCAD CSG files.

FreeCAD's CSG import doesn't support OpenSCAD functions such as 'hull' and
'minkowski', which I've used to give my design nice rounded edges.
Fortunately, most of my parts are 2D extrusions, as I plan to lasercut most
of it, and it's relatively easy to reduce minkowski and hull functions to
squares, circles and polygons. 

However, FreeCAD (on Mac OS X at least) doesn't seem to like unions of lots
of circles, squares and polygons, and drops geometry, creating holes from
overlapping parts when I import them. Also, some shapes are difficult to
translate into circles and squares alone. So I've come up a script that, to
some extent, replicates 2D hull and minkowski with just circles and a
polygon. With an input of the points of the shape, it draws a circle of a
given radius at each point, then calculates the tangents that connect all
the circles, and creates a polygon. With a linear extrusion, FreeCAD seems
happy with this. Here's my code so far:

radius = 5;
shape = [ 10,10 , 0,40 , 40,80 , 100,80 , 50,0];

x1 = shape[0];
y1 = shape[1];
x2 = shape[2];
y2 = shape[3];
x3 = shape[4];
y3 = shape[5];
x4 = shape[6];
y4 = shape[7];
x5 = shape[8];
y5 = shape[9];

linear_extrude (height=5) 
 
 union () {
    translate ([x1,y1]) circle (r=radius);
    translate ([x2,y2]) circle (r=radius);
    translate ([x3,y3]) circle (r=radius);
    translate ([x4,y4]) circle (r=radius);
    translate ([x5,y5]) circle (r=radius);

    polygon ([
        tangent_1 (x1,y1,x2,y2,radius), 
        tangent_2 (x1,y1,x2,y2,radius), 
        tangent_1 (x2,y2,x3,y3,radius), 
        tangent_2 (x2,y2,x3,y3,radius), 
        tangent_1 (x3,y3,x4,y4,radius), 
        tangent_2 (x3,y3,x4,y4,radius), 
        tangent_1 (x4,y4,x5,y5,radius), 
        tangent_2 (x4,y4,x5,y5,radius), 
        tangent_1 (x5,y5,x1,y1,radius), 
        tangent_2 (x5,y5,x1,y1,radius), 
        ]);
 }

function tangent_1 (x_1, y_1, x_2, y_2, rad) =
    let (
    x_delta = x_2-x_1,
    y_delta = y_2-y_1,
    theta = atan2(y_delta,x_delta)+360,
    xa = x_1+(cos(90+theta)*rad),
    ya = y_1+(sin(90+theta)*rad),
    xb = xa+x_delta,
    yb = ya+y_delta
    )

    [xa,ya];
    
function tangent_2 (x_1,y_1,x_2,y_2,rad) =
    let (
    x_delta = x_2-x_1,
    y_delta = y_2-y_1,
    theta = atan2(y_delta,x_delta),
    xa = x_1+(cos(90+theta)*rad),
    ya = y_1+(sin(90+theta)*rad),
    xb = xa+x_delta,
    yb = ya+y_delta
    )

    [xb,yb];

This seems to produce a valid CSG shape, that I can import into FreeCAD,
displays correctly, and can be exported as a STEP file to bring into other
CAD programs with better rendering engines (Blender/Fusion360 are the ones
I've briefly tested).
    
I'm nearly at my limit of maths/programming, so I'm having difficulty with a
few things:
1. I'd really like to be able to put as few (minimum 3) or as many points in
for the shape (currently 5), but I can't work out the way of iterating the
function through all the points, and then back to the first again. 
2. Having a different radius for each point would be nice too (eg shape = [
[x1,y1,r1] , [x2,y2r2], ... ] ), but I think that needs some extra trig to
calculate the tangents. 
3. Finally, it's not a million miles away from another 'hull' requested
feature (I've seen it asked about on the forum before); that of have a point
outside the hull, to create an indent into the shape. If you change the
shape to:

shape = [ 50,50 , 0,40 , 40,80 , 100,80 , 50,0];

You can see it attempts to draw the indentation, but it gets the tangent
wrong, because it needs to use inner tangent lines, rather than outer
tangent lines. I think it would be possible to create a script that deals
with these (the maths is here:
http://www.ambrsoft.com/TrigoCalc/Circles2/Circles2Tangent_.htm ), and
points outside the hull could be identified by using '-r', perhaps, then the
'-r' circles differenced from the polygon shape, rather than unioned.  I
could probably use conditional operators (
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Conditional_Operator
) or some kind of recursive function (
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Recursive_functions
). But then I'm really at the limits of my maths/programming!

Unless you know of any other way of getting a model out of OpenSCAD, while
maintaining the geometry, any pointers/help with this script would be
greatly appreciated!

Ian S.



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From alex at alexgibson.net  Fri Mar 18 06:25:54 2016
From: alex at alexgibson.net (Alex Gibson)
Date: Fri, 18 Mar 2016 10:25:54 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
	export/import into FreeCAD
In-Reply-To: <1458296038658-16537.post@n5.nabble.com>
References: <1458296038658-16537.post@n5.nabble.com>
Message-ID: <E783F76E-985D-475D-B3C3-4B5F8E0942AD@alexgibson.net>

Nice job so far Ian.  I am hoping to do similar for my printer parts, will read with interest...  

Tapped on my mobile phone.

> On 18 Mar 2016, at 10:13, droftarts <ginjaian at hotmail.com> wrote:
> 
> Hi, long time OpenSCAD user, first time poster.
> 
> I want to export a model I've designed in OpenSCAD in a form that I can
> import into a more 'feature rich' CAD package, so I can do some nice renders
> of it. I've looked at Blender OpenSCAD import scripts, but these seem to be
> rather limited, and the only other apparent way to export the model, and
> retain geometry (rather than export as STL), seems to be to export as CSG,
> and import into FreeCAD - the only tool I've found that can cope with
> OpenSCAD CSG files.
> 
> FreeCAD's CSG import doesn't support OpenSCAD functions such as 'hull' and
> 'minkowski', which I've used to give my design nice rounded edges.
> Fortunately, most of my parts are 2D extrusions, as I plan to lasercut most
> of it, and it's relatively easy to reduce minkowski and hull functions to
> squares, circles and polygons. 
> 
> However, FreeCAD (on Mac OS X at least) doesn't seem to like unions of lots
> of circles, squares and polygons, and drops geometry, creating holes from
> overlapping parts when I import them. Also, some shapes are difficult to
> translate into circles and squares alone. So I've come up a script that, to
> some extent, replicates 2D hull and minkowski with just circles and a
> polygon. With an input of the points of the shape, it draws a circle of a
> given radius at each point, then calculates the tangents that connect all
> the circles, and creates a polygon. With a linear extrusion, FreeCAD seems
> happy with this. Here's my code so far:
> 
> radius = 5;
> shape = [ 10,10 , 0,40 , 40,80 , 100,80 , 50,0];
> 
> x1 = shape[0];
> y1 = shape[1];
> x2 = shape[2];
> y2 = shape[3];
> x3 = shape[4];
> y3 = shape[5];
> x4 = shape[6];
> y4 = shape[7];
> x5 = shape[8];
> y5 = shape[9];
> 
> linear_extrude (height=5) 
> 
> union () {
>    translate ([x1,y1]) circle (r=radius);
>    translate ([x2,y2]) circle (r=radius);
>    translate ([x3,y3]) circle (r=radius);
>    translate ([x4,y4]) circle (r=radius);
>    translate ([x5,y5]) circle (r=radius);
> 
>    polygon ([
>        tangent_1 (x1,y1,x2,y2,radius), 
>        tangent_2 (x1,y1,x2,y2,radius), 
>        tangent_1 (x2,y2,x3,y3,radius), 
>        tangent_2 (x2,y2,x3,y3,radius), 
>        tangent_1 (x3,y3,x4,y4,radius), 
>        tangent_2 (x3,y3,x4,y4,radius), 
>        tangent_1 (x4,y4,x5,y5,radius), 
>        tangent_2 (x4,y4,x5,y5,radius), 
>        tangent_1 (x5,y5,x1,y1,radius), 
>        tangent_2 (x5,y5,x1,y1,radius), 
>        ]);
> }
> 
> function tangent_1 (x_1, y_1, x_2, y_2, rad) =
>    let (
>    x_delta = x_2-x_1,
>    y_delta = y_2-y_1,
>    theta = atan2(y_delta,x_delta)+360,
>    xa = x_1+(cos(90+theta)*rad),
>    ya = y_1+(sin(90+theta)*rad),
>    xb = xa+x_delta,
>    yb = ya+y_delta
>    )
> 
>    [xa,ya];
> 
> function tangent_2 (x_1,y_1,x_2,y_2,rad) =
>    let (
>    x_delta = x_2-x_1,
>    y_delta = y_2-y_1,
>    theta = atan2(y_delta,x_delta),
>    xa = x_1+(cos(90+theta)*rad),
>    ya = y_1+(sin(90+theta)*rad),
>    xb = xa+x_delta,
>    yb = ya+y_delta
>    )
> 
>    [xb,yb];
> 
> This seems to produce a valid CSG shape, that I can import into FreeCAD,
> displays correctly, and can be exported as a STEP file to bring into other
> CAD programs with better rendering engines (Blender/Fusion360 are the ones
> I've briefly tested).
> 
> I'm nearly at my limit of maths/programming, so I'm having difficulty with a
> few things:
> 1. I'd really like to be able to put as few (minimum 3) or as many points in
> for the shape (currently 5), but I can't work out the way of iterating the
> function through all the points, and then back to the first again. 
> 2. Having a different radius for each point would be nice too (eg shape = [
> [x1,y1,r1] , [x2,y2r2], ... ] ), but I think that needs some extra trig to
> calculate the tangents. 
> 3. Finally, it's not a million miles away from another 'hull' requested
> feature (I've seen it asked about on the forum before); that of have a point
> outside the hull, to create an indent into the shape. If you change the
> shape to:
> 
> shape = [ 50,50 , 0,40 , 40,80 , 100,80 , 50,0];
> 
> You can see it attempts to draw the indentation, but it gets the tangent
> wrong, because it needs to use inner tangent lines, rather than outer
> tangent lines. I think it would be possible to create a script that deals
> with these (the maths is here:
> http://www.ambrsoft.com/TrigoCalc/Circles2/Circles2Tangent_.htm ), and
> points outside the hull could be identified by using '-r', perhaps, then the
> '-r' circles differenced from the polygon shape, rather than unioned.  I
> could probably use conditional operators (
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Conditional_Operator
> ) or some kind of recursive function (
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Recursive_functions
> ). But then I'm really at the limits of my maths/programming!
> 
> Unless you know of any other way of getting a model out of OpenSCAD, while
> maintaining the geometry, any pointers/help with this script would be
> greatly appreciated!
> 
> Ian S.
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> 


From rudolf at parkinbot.com  Fri Mar 18 06:40:03 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Fri, 18 Mar 2016 03:40:03 -0700 (MST)
Subject: [OpenSCAD] Trying to incorporate equation based shapes.
In-Reply-To: <CAG0AW=YuHH6UgwXbc4KvUwGPs_2PM25t6v1KvA07ha6vULODJw@mail.gmail.com>
References: <CAG0AW=ar41sY5vVPBh40P5pQJLts80P8vaO7GqHUmtZ5DuRdgQ@mail.gmail.com>
	<CAEEmnrPD24ywcvoG+yYcenDCvkLpUBWmfaY++0oVGvOaDL6x+w@mail.gmail.com>
	<CAG0AW=YuHH6UgwXbc4KvUwGPs_2PM25t6v1KvA07ha6vULODJw@mail.gmail.com>
Message-ID: <1458297603591-16539.post@n5.nabble.com>

I haved done some work on this complex, especially how to smoothly transit
between different NACA shapes. 

These are my library projects, that will solve all your issues. 

http://www.thingiverse.com/thing:898554     NACA library and shape
transistion based an linear_extrude()
http://www.thingiverse.com/thing:900137     general shape transition based
on sweep()
http://www.thingiverse.com/thing:1208001   Generalist approach on transition
with spline interpolation






--
View this message in context: http://forum.openscad.org/Trying-to-incorporate-equation-based-shapes-tp3116p16539.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From shadowwynd at gmail.com  Fri Mar 18 06:45:42 2016
From: shadowwynd at gmail.com (Ezra Reynolds)
Date: Fri, 18 Mar 2016 06:45:42 -0400
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458296038658-16537.post@n5.nabble.com>
References: <1458296038658-16537.post@n5.nabble.com>
Message-ID: <56EBDC56.3080207@gmail.com>

Just a quick side note - especially for 2D extrusions, the double 
offset() command can do an awesome job of rounding corners.

example:   offset (r=+5) offset (r=-5) square(20);

of course, offset isn't supported in FreeCAD either.


On 3/18/2016 6:13 AM, droftarts wrote:
> Hi, long time OpenSCAD user, first time poster.
>
> I want to export a model I've designed in OpenSCAD in a form that I can
> import into a more 'feature rich' CAD package, so I can do some nice renders
> of it. I've looked at Blender OpenSCAD import scripts, but these seem to be
> rather limited, and the only other apparent way to export the model, and
> retain geometry (rather than export as STL), seems to be to export as CSG,
> and import into FreeCAD - the only tool I've found that can cope with
> OpenSCAD CSG files.
>
> FreeCAD's CSG import doesn't support OpenSCAD functions such as 'hull' and
> 'minkowski', which I've used to give my design nice rounded edges.
> Fortunately, most of my parts are 2D extrusions, as I plan to lasercut most
> of it, and it's relatively easy to reduce minkowski and hull functions to
> squares, circles and polygons.
>
> However, FreeCAD (on Mac OS X at least) doesn't seem to like unions of lots
> of circles, squares and polygons, and drops geometry, creating holes from
> overlapping parts when I import them. Also, some shapes are difficult to
> translate into circles and squares alone. So I've come up a script that, to
> some extent, replicates 2D hull and minkowski with just circles and a
> polygon. With an input of the points of the shape, it draws a circle of a
> given radius at each point, then calculates the tangents that connect all
> the circles, and creates a polygon. With a linear extrusion, FreeCAD seems
> happy with this. Here's my code so far:
>
> radius = 5;
> shape = [ 10,10 , 0,40 , 40,80 , 100,80 , 50,0];
>
> x1 = shape[0];
> y1 = shape[1];
> x2 = shape[2];
> y2 = shape[3];
> x3 = shape[4];
> y3 = shape[5];
> x4 = shape[6];
> y4 = shape[7];
> x5 = shape[8];
> y5 = shape[9];
>
> linear_extrude (height=5)
>
>   union () {
>      translate ([x1,y1]) circle (r=radius);
>      translate ([x2,y2]) circle (r=radius);
>      translate ([x3,y3]) circle (r=radius);
>      translate ([x4,y4]) circle (r=radius);
>      translate ([x5,y5]) circle (r=radius);
>
>      polygon ([
>          tangent_1 (x1,y1,x2,y2,radius),
>          tangent_2 (x1,y1,x2,y2,radius),
>          tangent_1 (x2,y2,x3,y3,radius),
>          tangent_2 (x2,y2,x3,y3,radius),
>          tangent_1 (x3,y3,x4,y4,radius),
>          tangent_2 (x3,y3,x4,y4,radius),
>          tangent_1 (x4,y4,x5,y5,radius),
>          tangent_2 (x4,y4,x5,y5,radius),
>          tangent_1 (x5,y5,x1,y1,radius),
>          tangent_2 (x5,y5,x1,y1,radius),
>          ]);
>   }
>
> function tangent_1 (x_1, y_1, x_2, y_2, rad) =
>      let (
>      x_delta = x_2-x_1,
>      y_delta = y_2-y_1,
>      theta = atan2(y_delta,x_delta)+360,
>      xa = x_1+(cos(90+theta)*rad),
>      ya = y_1+(sin(90+theta)*rad),
>      xb = xa+x_delta,
>      yb = ya+y_delta
>      )
>
>      [xa,ya];
>
> function tangent_2 (x_1,y_1,x_2,y_2,rad) =
>      let (
>      x_delta = x_2-x_1,
>      y_delta = y_2-y_1,
>      theta = atan2(y_delta,x_delta),
>      xa = x_1+(cos(90+theta)*rad),
>      ya = y_1+(sin(90+theta)*rad),
>      xb = xa+x_delta,
>      yb = ya+y_delta
>      )
>
>      [xb,yb];
>
> This seems to produce a valid CSG shape, that I can import into FreeCAD,
> displays correctly, and can be exported as a STEP file to bring into other
> CAD programs with better rendering engines (Blender/Fusion360 are the ones
> I've briefly tested).
>
> I'm nearly at my limit of maths/programming, so I'm having difficulty with a
> few things:
> 1. I'd really like to be able to put as few (minimum 3) or as many points in
> for the shape (currently 5), but I can't work out the way of iterating the
> function through all the points, and then back to the first again.
> 2. Having a different radius for each point would be nice too (eg shape = [
> [x1,y1,r1] , [x2,y2r2], ... ] ), but I think that needs some extra trig to
> calculate the tangents.
> 3. Finally, it's not a million miles away from another 'hull' requested
> feature (I've seen it asked about on the forum before); that of have a point
> outside the hull, to create an indent into the shape. If you change the
> shape to:
>
> shape = [ 50,50 , 0,40 , 40,80 , 100,80 , 50,0];
>
> You can see it attempts to draw the indentation, but it gets the tangent
> wrong, because it needs to use inner tangent lines, rather than outer
> tangent lines. I think it would be possible to create a script that deals
> with these (the maths is here:
> http://www.ambrsoft.com/TrigoCalc/Circles2/Circles2Tangent_.htm ), and
> points outside the hull could be identified by using '-r', perhaps, then the
> '-r' circles differenced from the polygon shape, rather than unioned.  I
> could probably use conditional operators (
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Conditional_Operator
> ) or some kind of recursive function (
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Recursive_functions
> ). But then I'm really at the limits of my maths/programming!
>
> Unless you know of any other way of getting a model out of OpenSCAD, while
> maintaining the geometry, any pointers/help with this script would be
> greatly appreciated!
>
> Ian S.
>
>
>
> --
> View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>


From ginjaian at hotmail.com  Fri Mar 18 06:46:42 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 03:46:42 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <E783F76E-985D-475D-B3C3-4B5F8E0942AD@alexgibson.net>
References: <1458296038658-16537.post@n5.nabble.com>
	<E783F76E-985D-475D-B3C3-4B5F8E0942AD@alexgibson.net>
Message-ID: <1458298002314-16540.post@n5.nabble.com>

Thanks, Alex!

A note about the current script:
- The points need to be in a clockwise direction, or it draws the polygon on
the wrong side of the circles, as it only calculates the tangent on one side
of the circle (out of a possible four tangents)

I did try another approach, which was to draw a polygon from each point,
draw a circle on each point, then draw a square of width r*2 between each
point, but this caused problems in FreeCAD. As each element (polygon,
circles, squares) is stored in the CSG, there were multiple overlapping
elements, and FreeCAD seemed to randomly put holes in. A 2D (ie no
linear_extrude) output of the above script still doesn't show correctly in
FreeCAD (there are some parts that are not coloured in), but the 3D version
does show correctly.

Ian



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16540.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From ginjaian at hotmail.com  Fri Mar 18 06:51:30 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 03:51:30 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <56EBDC56.3080207@gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
Message-ID: <1458298290948-16542.post@n5.nabble.com>

Thanks shadowwynd, and I agree, offest is very useful. I'd tried that
approach for this problem, too, before finding it didn't import into FreeCAD
either!

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16542.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Fri Mar 18 07:29:29 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 11:29:29 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458298290948-16542.post@n5.nabble.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
Message-ID: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>

Hi Stuart,
  Here is a general version that takes a list of points and makes a rounded
polygon.

radius = 5;
shape = [ [10,10] , [0,40] , [40,80] , [100,80] , [50,0] ];
linear_extrude (height=5) rounded_polygon(shape, radius);

function next(i) = (i + 1) % len(shape);

function tangents(i) = [tangent(shape[i], shape[next(i)],radius, 0),
                        tangent(shape[i], shape[next(i)],radius, 1)];

function flatten(list) = [for(p = list) for(x = p) x];

module rounded_polygon(points, radius)
    union () {
        for(point = shape)
            translate(point)
                circle (r = radius);

        polygon(flatten([for(i  = [0 : len(shape) - 1]) tangents(i)]));
    }


function tangent(p1, p2, rad, side) =
    let (
    x_delta = p2.x - p1.x,
    y_delta = p2.y - p1.y,
    theta = atan2(y_delta, x_delta),
    xa = p1.x +(cos(90 + theta) * rad),
    ya = p1.y +(sin(90 + theta) * rad),
    xb = xa + x_delta,
    yb = ya + y_delta
    )

    side ? [xb, yb] : [xa, ya];



On 18 March 2016 at 10:51, droftarts <ginjaian at hotmail.com> wrote:

> Thanks shadowwynd, and I agree, offest is very useful. I'd tried that
> approach for this problem, too, before finding it didn't import into
> FreeCAD
> either!
>
> Ian S
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16542.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/982dc62a/attachment.html>

From nop.head at gmail.com  Fri Mar 18 07:33:51 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 11:33:51 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
Message-ID: <CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>

Here's a simpler one:

radius = 5;
shape = [ [10,10] , [0,40] , [40,80] , [100,80] , [50,0] ];
linear_extrude (height=5) rounded_polygon(shape, radius);

function next(i) = (i + 1) % len(shape);

function tangents(i, side) = tangent(shape[i], shape[next(i)],radius, side);

module rounded_polygon(points, radius)
    union () {
        for(point = shape)
            translate(point)
                circle (r = radius);

        polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
tangents(i, side)]);
    }

function tangent(p1, p2, rad, side) =
    let (
    x_delta = p2.x - p1.x,
    y_delta = p2.y - p1.y,
    theta = atan2(y_delta, x_delta),
    xa = p1.x +(cos(90 + theta) * rad),
    ya = p1.y +(sin(90 + theta) * rad),
    xb = xa + x_delta,
    yb = ya + y_delta
    )

    side ? [xb, yb] : [xa, ya];


On 18 March 2016 at 11:29, nop head <nop.head at gmail.com> wrote:

> Hi Stuart,
>   Here is a general version that takes a list of points and makes a
> rounded polygon.
>
> radius = 5;
> shape = [ [10,10] , [0,40] , [40,80] , [100,80] , [50,0] ];
> linear_extrude (height=5) rounded_polygon(shape, radius);
>
> function next(i) = (i + 1) % len(shape);
>
> function tangents(i) = [tangent(shape[i], shape[next(i)],radius, 0),
>                         tangent(shape[i], shape[next(i)],radius, 1)];
>
> function flatten(list) = [for(p = list) for(x = p) x];
>
> module rounded_polygon(points, radius)
>     union () {
>         for(point = shape)
>             translate(point)
>                 circle (r = radius);
>
>         polygon(flatten([for(i  = [0 : len(shape) - 1]) tangents(i)]));
>     }
>
>
> function tangent(p1, p2, rad, side) =
>     let (
>     x_delta = p2.x - p1.x,
>     y_delta = p2.y - p1.y,
>     theta = atan2(y_delta, x_delta),
>     xa = p1.x +(cos(90 + theta) * rad),
>     ya = p1.y +(sin(90 + theta) * rad),
>     xb = xa + x_delta,
>     yb = ya + y_delta
>     )
>
>     side ? [xb, yb] : [xa, ya];
>
>
>
> On 18 March 2016 at 10:51, droftarts <ginjaian at hotmail.com> wrote:
>
>> Thanks shadowwynd, and I agree, offest is very useful. I'd tried that
>> approach for this problem, too, before finding it didn't import into
>> FreeCAD
>> either!
>>
>> Ian S
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16542.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/aeb443cd/attachment.html>

From ginjaian at hotmail.com  Fri Mar 18 08:26:27 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 05:26:27 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
Message-ID: <1458303987457-16545.post@n5.nabble.com>

Hi nophead

Wow! Thanks for the reply, that solves what I need at the moment. I knew
there had to be a way to iterate this, but just couldn't see it. That gives
me plenty to wrap my head around; I'd perhaps like to extend it to allow for
different radii. 

I've been spending some time with your Mendel90 OpenSCAD files recently, and
have learnt a huge amount from that!

Ian S

P.S. Who's Stuart?!



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Fri Mar 18 08:35:27 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 12:35:27 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458303987457-16545.post@n5.nabble.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
Message-ID: <CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>

>P.S. Who's Stuart?!

No idea, sorry Ian.

I am attempting the different radii case at the moment. No quite right yet.

On 18 March 2016 at 12:26, droftarts <ginjaian at hotmail.com> wrote:

> Hi nophead
>
> Wow! Thanks for the reply, that solves what I need at the moment. I knew
> there had to be a way to iterate this, but just couldn't see it. That gives
> me plenty to wrap my head around; I'd perhaps like to extend it to allow
> for
> different radii.
>
> I've been spending some time with your Mendel90 OpenSCAD files recently,
> and
> have learnt a huge amount from that!
>
> Ian S
>
> P.S. Who's Stuart?!
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/6ff81852/attachment.html>

From nop.head at gmail.com  Fri Mar 18 09:01:13 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 13:01:13 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
Message-ID: <CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>

Here is a multi radii version. It looks right but somebody might want to
check my maths as it is much simpler than the link you provided.

$fn = 100;

shape = [ [10, 10, 8], [0, 40, 3], [40, 80, 5], [100, 80, 10], [50, 0, 20]
];

linear_extrude (height = 5) rounded_polygon(shape);

function next(i) = (i + 1) % len(shape);

function tangents(i, side) = tangent(shape[i], shape[next(i)], side);

module rounded_polygon(points, radius)
    union () {
        for(i = [0 : len(shape) - 1])
            translate([shape[i].x, shape[i].y])
                #circle(shape[i][2]);

        polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
tangents(i, side)]);
    }


function tangent(p1, p2, side) =
    let (
    r1 = p1[2],
    r2 = p2[2],
    dx = p2.x - p1.x,
    dy = p2.y - p1.y,
    d = sqrt(dx * dx + dy * dy),
    theta = atan2(dy, dx) + acos((r1 - r2) / d),
    xa = p1.x +(cos(theta) * r1),
    ya = p1.y +(sin(theta) * r1),
    xb = p2.x +(cos(theta) * r2),
    yb = p2.y +(sin(theta) * r2)
    )

    side ? [xb, yb] : [xa, ya];



On 18 March 2016 at 12:35, nop head <nop.head at gmail.com> wrote:

> >P.S. Who's Stuart?!
>
> No idea, sorry Ian.
>
> I am attempting the different radii case at the moment. No quite right yet.
>
> On 18 March 2016 at 12:26, droftarts <ginjaian at hotmail.com> wrote:
>
>> Hi nophead
>>
>> Wow! Thanks for the reply, that solves what I need at the moment. I knew
>> there had to be a way to iterate this, but just couldn't see it. That
>> gives
>> me plenty to wrap my head around; I'd perhaps like to extend it to allow
>> for
>> different radii.
>>
>> I've been spending some time with your Mendel90 OpenSCAD files recently,
>> and
>> have learnt a huge amount from that!
>>
>> Ian S
>>
>> P.S. Who's Stuart?!
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/bc477b5b/attachment.html>

From nop.head at gmail.com  Fri Mar 18 09:08:56 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 13:08:56 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
Message-ID: <CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>

This version seems to handle the negative radii case:

$fn = 100;

shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
20] ];

linear_extrude (height = 5) rounded_polygon(shape);

function next(i) = (i + 1) % len(shape);

function tangents(i, side) = tangent(shape[i], shape[next(i)], side);

module rounded_polygon(points, radius)
    difference() {
        union () {
            for(i = [0 : len(shape) - 1])
                translate([shape[i].x, shape[i].y])
                    if(shape[i][2] > 0)
                        circle(shape[i][2]);

            polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
tangents(i, side)]);
        }
        for(i = [0 : len(shape) - 1])
            translate([shape[i].x, shape[i].y])
                if(shape[i][2] < 0)
                    circle(-shape[i][2]);
    }


function tangent(p1, p2, side) =
    let (
    r1 = p1[2],
    r2 = p2[2],
    dx = p2.x - p1.x,
    dy = p2.y - p1.y,
    d = sqrt(dx * dx + dy * dy),
    theta = atan2(dy, dx) + acos((r1 - r2) / d),
    xa = p1.x +(cos(theta) * r1),
    ya = p1.y +(sin(theta) * r1),
    xb = p2.x +(cos(theta) * r2),
    yb = p2.y +(sin(theta) * r2)
    )

    side ? [xb, yb] : [xa, ya];



On 18 March 2016 at 13:01, nop head <nop.head at gmail.com> wrote:

> Here is a multi radii version. It looks right but somebody might want to
> check my maths as it is much simpler than the link you provided.
>
> $fn = 100;
>
> shape = [ [10, 10, 8], [0, 40, 3], [40, 80, 5], [100, 80, 10], [50, 0, 20]
> ];
>
> linear_extrude (height = 5) rounded_polygon(shape);
>
> function next(i) = (i + 1) % len(shape);
>
> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>
> module rounded_polygon(points, radius)
>     union () {
>         for(i = [0 : len(shape) - 1])
>             translate([shape[i].x, shape[i].y])
>                 #circle(shape[i][2]);
>
>         polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
> tangents(i, side)]);
>     }
>
>
> function tangent(p1, p2, side) =
>     let (
>     r1 = p1[2],
>     r2 = p2[2],
>     dx = p2.x - p1.x,
>     dy = p2.y - p1.y,
>     d = sqrt(dx * dx + dy * dy),
>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>     xa = p1.x +(cos(theta) * r1),
>     ya = p1.y +(sin(theta) * r1),
>     xb = p2.x +(cos(theta) * r2),
>     yb = p2.y +(sin(theta) * r2)
>     )
>
>     side ? [xb, yb] : [xa, ya];
>
>
>
> On 18 March 2016 at 12:35, nop head <nop.head at gmail.com> wrote:
>
>> >P.S. Who's Stuart?!
>>
>> No idea, sorry Ian.
>>
>> I am attempting the different radii case at the moment. No quite right
>> yet.
>>
>> On 18 March 2016 at 12:26, droftarts <ginjaian at hotmail.com> wrote:
>>
>>> Hi nophead
>>>
>>> Wow! Thanks for the reply, that solves what I need at the moment. I knew
>>> there had to be a way to iterate this, but just couldn't see it. That
>>> gives
>>> me plenty to wrap my head around; I'd perhaps like to extend it to allow
>>> for
>>> different radii.
>>>
>>> I've been spending some time with your Mendel90 OpenSCAD files recently,
>>> and
>>> have learnt a huge amount from that!
>>>
>>> Ian S
>>>
>>> P.S. Who's Stuart?!
>>>
>>>
>>>
>>> --
>>> View this message in context:
>>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
>>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>>
>>> _______________________________________________
>>> OpenSCAD mailing list
>>> Discuss at lists.openscad.org
>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/236c2393/attachment.html>

From nop.head at gmail.com  Fri Mar 18 09:47:22 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 13:47:22 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
Message-ID: <CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>

Slightly more efficient version that only calls tangent once per corner.

$fn = 100;

shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
20] ];

linear_extrude (height = 5) rounded_polygon(shape);

function next(i) = (i + 1) % len(shape);

function tangents(i, side) = tangent(shape[i], shape[next(i)], side);

module rounded_polygon(points, radius)
    difference() {
        union () {
            for(i = [0 : len(shape) - 1])
                translate([shape[i].x, shape[i].y])
                    if(shape[i][2] > 0)
                        circle(shape[i][2]);

            polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
tangents(i)[side]]);
        }
        for(i = [0 : len(shape) - 1])
            translate([shape[i].x, shape[i].y])
                if(shape[i][2] < 0)
                    circle(-shape[i][2]);
     }

function tangent(p1, p2) =
    let (
    r1 = p1[2],
    r2 = p2[2],
    dx = p2.x - p1.x,
    dy = p2.y - p1.y,
    d = sqrt(dx * dx + dy * dy),
    theta = atan2(dy, dx) + acos((r1 - r2) / d),
    xa = p1.x +(cos(theta) * r1),
    ya = p1.y +(sin(theta) * r1),
    xb = p2.x +(cos(theta) * r2),
    yb = p2.y +(sin(theta) * r2)
    )[ [xa, ya], [xb, yb] ];



On 18 March 2016 at 13:08, nop head <nop.head at gmail.com> wrote:

> This version seems to handle the negative radii case:
>
> $fn = 100;
>
> shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
> 20] ];
>
> linear_extrude (height = 5) rounded_polygon(shape);
>
> function next(i) = (i + 1) % len(shape);
>
> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>
> module rounded_polygon(points, radius)
>     difference() {
>         union () {
>             for(i = [0 : len(shape) - 1])
>                 translate([shape[i].x, shape[i].y])
>                     if(shape[i][2] > 0)
>                         circle(shape[i][2]);
>
>             polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
> tangents(i, side)]);
>         }
>         for(i = [0 : len(shape) - 1])
>             translate([shape[i].x, shape[i].y])
>                 if(shape[i][2] < 0)
>                     circle(-shape[i][2]);
>     }
>
>
> function tangent(p1, p2, side) =
>     let (
>     r1 = p1[2],
>     r2 = p2[2],
>     dx = p2.x - p1.x,
>     dy = p2.y - p1.y,
>     d = sqrt(dx * dx + dy * dy),
>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>     xa = p1.x +(cos(theta) * r1),
>     ya = p1.y +(sin(theta) * r1),
>     xb = p2.x +(cos(theta) * r2),
>     yb = p2.y +(sin(theta) * r2)
>     )
>
>     side ? [xb, yb] : [xa, ya];
>
>
>
> On 18 March 2016 at 13:01, nop head <nop.head at gmail.com> wrote:
>
>> Here is a multi radii version. It looks right but somebody might want to
>> check my maths as it is much simpler than the link you provided.
>>
>> $fn = 100;
>>
>> shape = [ [10, 10, 8], [0, 40, 3], [40, 80, 5], [100, 80, 10], [50, 0,
>> 20] ];
>>
>> linear_extrude (height = 5) rounded_polygon(shape);
>>
>> function next(i) = (i + 1) % len(shape);
>>
>> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>>
>> module rounded_polygon(points, radius)
>>     union () {
>>         for(i = [0 : len(shape) - 1])
>>             translate([shape[i].x, shape[i].y])
>>                 #circle(shape[i][2]);
>>
>>         polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
>> tangents(i, side)]);
>>     }
>>
>>
>> function tangent(p1, p2, side) =
>>     let (
>>     r1 = p1[2],
>>     r2 = p2[2],
>>     dx = p2.x - p1.x,
>>     dy = p2.y - p1.y,
>>     d = sqrt(dx * dx + dy * dy),
>>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>>     xa = p1.x +(cos(theta) * r1),
>>     ya = p1.y +(sin(theta) * r1),
>>     xb = p2.x +(cos(theta) * r2),
>>     yb = p2.y +(sin(theta) * r2)
>>     )
>>
>>     side ? [xb, yb] : [xa, ya];
>>
>>
>>
>> On 18 March 2016 at 12:35, nop head <nop.head at gmail.com> wrote:
>>
>>> >P.S. Who's Stuart?!
>>>
>>> No idea, sorry Ian.
>>>
>>> I am attempting the different radii case at the moment. No quite right
>>> yet.
>>>
>>> On 18 March 2016 at 12:26, droftarts <ginjaian at hotmail.com> wrote:
>>>
>>>> Hi nophead
>>>>
>>>> Wow! Thanks for the reply, that solves what I need at the moment. I knew
>>>> there had to be a way to iterate this, but just couldn't see it. That
>>>> gives
>>>> me plenty to wrap my head around; I'd perhaps like to extend it to
>>>> allow for
>>>> different radii.
>>>>
>>>> I've been spending some time with your Mendel90 OpenSCAD files
>>>> recently, and
>>>> have learnt a huge amount from that!
>>>>
>>>> Ian S
>>>>
>>>> P.S. Who's Stuart?!
>>>>
>>>>
>>>>
>>>> --
>>>> View this message in context:
>>>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
>>>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>>>
>>>> _______________________________________________
>>>> OpenSCAD mailing list
>>>> Discuss at lists.openscad.org
>>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/4345ad07/attachment.html>

From nop.head at gmail.com  Fri Mar 18 09:53:48 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 13:53:48 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
Message-ID: <CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>

Actually that still called tangent twice, this version calls it once.

$fn = 100;

shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
20] ];

linear_extrude (height = 5) rounded_polygon(shape);

function next(i) = (i + 1) % len(shape);

function tangents(i, side) = tangent(shape[i], shape[next(i)], side);

module rounded_polygon(points, radius)
    difference() {
        union () {
            for(i = [0 : len(shape) - 1])
                translate([shape[i].x, shape[i].y])
                    if(shape[i][2] > 0)
                        circle(shape[i][2]);

            polygon([for(i  = [0 : len(shape) - 1])
                let(ends = tangents(i))
                    for(end = [0, 1])
                        ends[end]]);
        }
        for(i = [0 : len(shape) - 1])
            translate([shape[i].x, shape[i].y])
                if(shape[i][2] < 0)
                    circle(-shape[i][2]);
     }

function tangent(p1, p2) =
    let (
    r1 = p1[2],
    r2 = p2[2],
    dx = p2.x - p1.x,
    dy = p2.y - p1.y,
    d = sqrt(dx * dx + dy * dy),
    theta = atan2(dy, dx) + acos((r1 - r2) / d),
    xa = p1.x +(cos(theta) * r1),
    ya = p1.y +(sin(theta) * r1),
    xb = p2.x +(cos(theta) * r2),
    yb = p2.y +(sin(theta) * r2)
    )[ [xa, ya], [xb, yb] ];


On 18 March 2016 at 13:47, nop head <nop.head at gmail.com> wrote:

> Slightly more efficient version that only calls tangent once per corner.
>
> $fn = 100;
>
> shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
> 20] ];
>
> linear_extrude (height = 5) rounded_polygon(shape);
>
> function next(i) = (i + 1) % len(shape);
>
> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>
> module rounded_polygon(points, radius)
>     difference() {
>         union () {
>             for(i = [0 : len(shape) - 1])
>                 translate([shape[i].x, shape[i].y])
>                     if(shape[i][2] > 0)
>                         circle(shape[i][2]);
>
>             polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
> tangents(i)[side]]);
>         }
>         for(i = [0 : len(shape) - 1])
>             translate([shape[i].x, shape[i].y])
>                 if(shape[i][2] < 0)
>                     circle(-shape[i][2]);
>      }
>
> function tangent(p1, p2) =
>     let (
>     r1 = p1[2],
>     r2 = p2[2],
>     dx = p2.x - p1.x,
>     dy = p2.y - p1.y,
>     d = sqrt(dx * dx + dy * dy),
>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>     xa = p1.x +(cos(theta) * r1),
>     ya = p1.y +(sin(theta) * r1),
>     xb = p2.x +(cos(theta) * r2),
>     yb = p2.y +(sin(theta) * r2)
>     )[ [xa, ya], [xb, yb] ];
>
>
>
> On 18 March 2016 at 13:08, nop head <nop.head at gmail.com> wrote:
>
>> This version seems to handle the negative radii case:
>>
>> $fn = 100;
>>
>> shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
>> 20] ];
>>
>> linear_extrude (height = 5) rounded_polygon(shape);
>>
>> function next(i) = (i + 1) % len(shape);
>>
>> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>>
>> module rounded_polygon(points, radius)
>>     difference() {
>>         union () {
>>             for(i = [0 : len(shape) - 1])
>>                 translate([shape[i].x, shape[i].y])
>>                     if(shape[i][2] > 0)
>>                         circle(shape[i][2]);
>>
>>             polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
>> tangents(i, side)]);
>>         }
>>         for(i = [0 : len(shape) - 1])
>>             translate([shape[i].x, shape[i].y])
>>                 if(shape[i][2] < 0)
>>                     circle(-shape[i][2]);
>>     }
>>
>>
>> function tangent(p1, p2, side) =
>>     let (
>>     r1 = p1[2],
>>     r2 = p2[2],
>>     dx = p2.x - p1.x,
>>     dy = p2.y - p1.y,
>>     d = sqrt(dx * dx + dy * dy),
>>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>>     xa = p1.x +(cos(theta) * r1),
>>     ya = p1.y +(sin(theta) * r1),
>>     xb = p2.x +(cos(theta) * r2),
>>     yb = p2.y +(sin(theta) * r2)
>>     )
>>
>>     side ? [xb, yb] : [xa, ya];
>>
>>
>>
>> On 18 March 2016 at 13:01, nop head <nop.head at gmail.com> wrote:
>>
>>> Here is a multi radii version. It looks right but somebody might want to
>>> check my maths as it is much simpler than the link you provided.
>>>
>>> $fn = 100;
>>>
>>> shape = [ [10, 10, 8], [0, 40, 3], [40, 80, 5], [100, 80, 10], [50, 0,
>>> 20] ];
>>>
>>> linear_extrude (height = 5) rounded_polygon(shape);
>>>
>>> function next(i) = (i + 1) % len(shape);
>>>
>>> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>>>
>>> module rounded_polygon(points, radius)
>>>     union () {
>>>         for(i = [0 : len(shape) - 1])
>>>             translate([shape[i].x, shape[i].y])
>>>                 #circle(shape[i][2]);
>>>
>>>         polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
>>> tangents(i, side)]);
>>>     }
>>>
>>>
>>> function tangent(p1, p2, side) =
>>>     let (
>>>     r1 = p1[2],
>>>     r2 = p2[2],
>>>     dx = p2.x - p1.x,
>>>     dy = p2.y - p1.y,
>>>     d = sqrt(dx * dx + dy * dy),
>>>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>>>     xa = p1.x +(cos(theta) * r1),
>>>     ya = p1.y +(sin(theta) * r1),
>>>     xb = p2.x +(cos(theta) * r2),
>>>     yb = p2.y +(sin(theta) * r2)
>>>     )
>>>
>>>     side ? [xb, yb] : [xa, ya];
>>>
>>>
>>>
>>> On 18 March 2016 at 12:35, nop head <nop.head at gmail.com> wrote:
>>>
>>>> >P.S. Who's Stuart?!
>>>>
>>>> No idea, sorry Ian.
>>>>
>>>> I am attempting the different radii case at the moment. No quite right
>>>> yet.
>>>>
>>>> On 18 March 2016 at 12:26, droftarts <ginjaian at hotmail.com> wrote:
>>>>
>>>>> Hi nophead
>>>>>
>>>>> Wow! Thanks for the reply, that solves what I need at the moment. I
>>>>> knew
>>>>> there had to be a way to iterate this, but just couldn't see it. That
>>>>> gives
>>>>> me plenty to wrap my head around; I'd perhaps like to extend it to
>>>>> allow for
>>>>> different radii.
>>>>>
>>>>> I've been spending some time with your Mendel90 OpenSCAD files
>>>>> recently, and
>>>>> have learnt a huge amount from that!
>>>>>
>>>>> Ian S
>>>>>
>>>>> P.S. Who's Stuart?!
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> View this message in context:
>>>>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
>>>>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>>>>
>>>>> _______________________________________________
>>>>> OpenSCAD mailing list
>>>>> Discuss at lists.openscad.org
>>>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>>>
>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/f9ee7b87/attachment.html>

From nop.head at gmail.com  Fri Mar 18 10:06:44 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 14:06:44 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
References: <1458296038658-16537.post@n5.nabble.com>
	<56EBDC56.3080207@gmail.com>
	<1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
Message-ID: <CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>

Fixed all the references to shape instead of points and removed single use
functions.

$fn = 100;

shape1 = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
20] ];

linear_extrude (height = 5) rounded_polygon(shape1);

module rounded_polygon(points, radius)
    difference() {
        len = len(points);
        union () {
            for(i = [0 : len - 1])
                translate([points[i].x, points[i].y])
                    if(points[i][2] > 0)
                        circle(points[i][2]);

            polygon([for(i  = [0 : len - 1])
                let(ends = tangent(points[i], points[(i + 1) %
len(points)]))
                    for(end = [0, 1])
                        ends[end]]);
        }
        for(i = [0 : len - 1])
            translate([points[i].x, points[i].y])
                if(points[i][2] < 0)
                    circle(-points[i][2]);
     }

function tangent(p1, p2) =
    let (
    r1 = p1[2],
    r2 = p2[2],
    dx = p2.x - p1.x,
    dy = p2.y - p1.y,
    d = sqrt(dx * dx + dy * dy),
    theta = atan2(dy, dx) + acos((r1 - r2) / d),
    xa = p1.x +(cos(theta) * r1),
    ya = p1.y +(sin(theta) * r1),
    xb = p2.x +(cos(theta) * r2),
    yb = p2.y +(sin(theta) * r2)
    )[ [xa, ya], [xb, yb] ];



On 18 March 2016 at 13:53, nop head <nop.head at gmail.com> wrote:

> Actually that still called tangent twice, this version calls it once.
>
> $fn = 100;
>
> shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
> 20] ];
>
> linear_extrude (height = 5) rounded_polygon(shape);
>
> function next(i) = (i + 1) % len(shape);
>
> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>
> module rounded_polygon(points, radius)
>     difference() {
>         union () {
>             for(i = [0 : len(shape) - 1])
>                 translate([shape[i].x, shape[i].y])
>                     if(shape[i][2] > 0)
>                         circle(shape[i][2]);
>
>             polygon([for(i  = [0 : len(shape) - 1])
>                 let(ends = tangents(i))
>                     for(end = [0, 1])
>                         ends[end]]);
>         }
>         for(i = [0 : len(shape) - 1])
>             translate([shape[i].x, shape[i].y])
>                 if(shape[i][2] < 0)
>                     circle(-shape[i][2]);
>      }
>
> function tangent(p1, p2) =
>     let (
>     r1 = p1[2],
>     r2 = p2[2],
>     dx = p2.x - p1.x,
>     dy = p2.y - p1.y,
>     d = sqrt(dx * dx + dy * dy),
>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>     xa = p1.x +(cos(theta) * r1),
>     ya = p1.y +(sin(theta) * r1),
>     xb = p2.x +(cos(theta) * r2),
>     yb = p2.y +(sin(theta) * r2)
>     )[ [xa, ya], [xb, yb] ];
>
>
> On 18 March 2016 at 13:47, nop head <nop.head at gmail.com> wrote:
>
>> Slightly more efficient version that only calls tangent once per corner.
>>
>> $fn = 100;
>>
>> shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
>> 20] ];
>>
>> linear_extrude (height = 5) rounded_polygon(shape);
>>
>> function next(i) = (i + 1) % len(shape);
>>
>> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>>
>> module rounded_polygon(points, radius)
>>     difference() {
>>         union () {
>>             for(i = [0 : len(shape) - 1])
>>                 translate([shape[i].x, shape[i].y])
>>                     if(shape[i][2] > 0)
>>                         circle(shape[i][2]);
>>
>>             polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
>> tangents(i)[side]]);
>>         }
>>         for(i = [0 : len(shape) - 1])
>>             translate([shape[i].x, shape[i].y])
>>                 if(shape[i][2] < 0)
>>                     circle(-shape[i][2]);
>>      }
>>
>> function tangent(p1, p2) =
>>     let (
>>     r1 = p1[2],
>>     r2 = p2[2],
>>     dx = p2.x - p1.x,
>>     dy = p2.y - p1.y,
>>     d = sqrt(dx * dx + dy * dy),
>>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>>     xa = p1.x +(cos(theta) * r1),
>>     ya = p1.y +(sin(theta) * r1),
>>     xb = p2.x +(cos(theta) * r2),
>>     yb = p2.y +(sin(theta) * r2)
>>     )[ [xa, ya], [xb, yb] ];
>>
>>
>>
>> On 18 March 2016 at 13:08, nop head <nop.head at gmail.com> wrote:
>>
>>> This version seems to handle the negative radii case:
>>>
>>> $fn = 100;
>>>
>>> shape = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
>>> 20] ];
>>>
>>> linear_extrude (height = 5) rounded_polygon(shape);
>>>
>>> function next(i) = (i + 1) % len(shape);
>>>
>>> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>>>
>>> module rounded_polygon(points, radius)
>>>     difference() {
>>>         union () {
>>>             for(i = [0 : len(shape) - 1])
>>>                 translate([shape[i].x, shape[i].y])
>>>                     if(shape[i][2] > 0)
>>>                         circle(shape[i][2]);
>>>
>>>             polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
>>> tangents(i, side)]);
>>>         }
>>>         for(i = [0 : len(shape) - 1])
>>>             translate([shape[i].x, shape[i].y])
>>>                 if(shape[i][2] < 0)
>>>                     circle(-shape[i][2]);
>>>     }
>>>
>>>
>>> function tangent(p1, p2, side) =
>>>     let (
>>>     r1 = p1[2],
>>>     r2 = p2[2],
>>>     dx = p2.x - p1.x,
>>>     dy = p2.y - p1.y,
>>>     d = sqrt(dx * dx + dy * dy),
>>>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>>>     xa = p1.x +(cos(theta) * r1),
>>>     ya = p1.y +(sin(theta) * r1),
>>>     xb = p2.x +(cos(theta) * r2),
>>>     yb = p2.y +(sin(theta) * r2)
>>>     )
>>>
>>>     side ? [xb, yb] : [xa, ya];
>>>
>>>
>>>
>>> On 18 March 2016 at 13:01, nop head <nop.head at gmail.com> wrote:
>>>
>>>> Here is a multi radii version. It looks right but somebody might want
>>>> to check my maths as it is much simpler than the link you provided.
>>>>
>>>> $fn = 100;
>>>>
>>>> shape = [ [10, 10, 8], [0, 40, 3], [40, 80, 5], [100, 80, 10], [50, 0,
>>>> 20] ];
>>>>
>>>> linear_extrude (height = 5) rounded_polygon(shape);
>>>>
>>>> function next(i) = (i + 1) % len(shape);
>>>>
>>>> function tangents(i, side) = tangent(shape[i], shape[next(i)], side);
>>>>
>>>> module rounded_polygon(points, radius)
>>>>     union () {
>>>>         for(i = [0 : len(shape) - 1])
>>>>             translate([shape[i].x, shape[i].y])
>>>>                 #circle(shape[i][2]);
>>>>
>>>>         polygon([for(i  = [0 : len(shape) - 1]) for(side = [0, 1])
>>>> tangents(i, side)]);
>>>>     }
>>>>
>>>>
>>>> function tangent(p1, p2, side) =
>>>>     let (
>>>>     r1 = p1[2],
>>>>     r2 = p2[2],
>>>>     dx = p2.x - p1.x,
>>>>     dy = p2.y - p1.y,
>>>>     d = sqrt(dx * dx + dy * dy),
>>>>     theta = atan2(dy, dx) + acos((r1 - r2) / d),
>>>>     xa = p1.x +(cos(theta) * r1),
>>>>     ya = p1.y +(sin(theta) * r1),
>>>>     xb = p2.x +(cos(theta) * r2),
>>>>     yb = p2.y +(sin(theta) * r2)
>>>>     )
>>>>
>>>>     side ? [xb, yb] : [xa, ya];
>>>>
>>>>
>>>>
>>>> On 18 March 2016 at 12:35, nop head <nop.head at gmail.com> wrote:
>>>>
>>>>> >P.S. Who's Stuart?!
>>>>>
>>>>> No idea, sorry Ian.
>>>>>
>>>>> I am attempting the different radii case at the moment. No quite right
>>>>> yet.
>>>>>
>>>>> On 18 March 2016 at 12:26, droftarts <ginjaian at hotmail.com> wrote:
>>>>>
>>>>>> Hi nophead
>>>>>>
>>>>>> Wow! Thanks for the reply, that solves what I need at the moment. I
>>>>>> knew
>>>>>> there had to be a way to iterate this, but just couldn't see it. That
>>>>>> gives
>>>>>> me plenty to wrap my head around; I'd perhaps like to extend it to
>>>>>> allow for
>>>>>> different radii.
>>>>>>
>>>>>> I've been spending some time with your Mendel90 OpenSCAD files
>>>>>> recently, and
>>>>>> have learnt a huge amount from that!
>>>>>>
>>>>>> Ian S
>>>>>>
>>>>>> P.S. Who's Stuart?!
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> View this message in context:
>>>>>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16545.html
>>>>>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>>>>>
>>>>>> _______________________________________________
>>>>>> OpenSCAD mailing list
>>>>>> Discuss at lists.openscad.org
>>>>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>>>>
>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/2dd4a901/attachment.html>

From doug at moens.org  Fri Mar 18 10:44:25 2016
From: doug at moens.org (doug moen)
Date: Fri, 18 Mar 2016 10:44:25 -0400
Subject: [OpenSCAD] conflicting manual entries
In-Reply-To: <1458285434713-16530.post@n5.nabble.com>
References: <1457897952650-16467.post@n5.nabble.com>
	<CAGV6i+NUK98+kCkpDLKU07PiONCAnAY1Z4iCbRhcdzAfePUkuw@mail.gmail.com>
	<CAGV6i+PUgXz1-hegXOTBg-1qq03On00n9fG6RZek1zoXBcUDsA@mail.gmail.com>
	<1457996714195-16498.post@n5.nabble.com>
	<CAGV6i+Of+4-CC-VGeBENugVv_e+QEpckgAYUzg=4On2tKWCVRw@mail.gmail.com>
	<12F3C640-4D6D-4D47-83C3-70AE59799272@kintel.net>
	<1458161768470-16501.post@n5.nabble.com>
	<CAGV6i+OhfY=EFC0pLGnk8JmJ3xx2EyO8CbF3F5REtpyCXJFO4Q@mail.gmail.com>
	<CAGV6i+OE9ZAb5TY1-u9tpHQqKUW1hrN9xx0ryndettpiteFY+g@mail.gmail.com>
	<1458285434713-16530.post@n5.nabble.com>
Message-ID: <CAGV6i+N9sonHALsA_f7pRdF7sBd3QxacXD9+p54Gxce4RAvZ7A@mail.gmail.com>

Wolf:
1. I fixed the first issue with DXF Extrusion last night. There is now a
see also link
2. I rewrote the sentence with the unclear wording in Extruding a Polygon.

On 18 March 2016 at 03:17, wolf <wv99999 at gmail.com> wrote:

> Issue fixed - thank you all.
>
> While on fixing the manual, let me point out two other issues that are
> likely to cause head scratching.
>
> The OpenSCAD manual describes the capabilities of a command in a form that
> looks like the fragment of an example. This is a good thing, as it makes
> reading the manual a lot easier as, e.g., the average Linux man-page. For
> DXF extrusion, such an example is given, but it is not complete. Shouldn't
> there be a reference/link outlining that a full description is given
> elsewhere? That I am not misunderstood: I like idea of giving a piece of
> sample code. But also: do people arriving at this piece of code know that
> some [optional] parameters have been omitted?
>
> Second issue,
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem
> Under
> "*Extruding a Polygon*
>
> Extrusion can also be performed on polygons with points chosen by the user.
>
> Here is a simple polygon and its (fine-grained: $fn=200) rotational
> extrusion (/profile and lathe/)." I have issues with the English used,
> specifically the portion in italics. To my understanding, a lathe is a
> machine to produce parts with rotational symmetry, and not a part that has
> rotational symmetry. Can't the piece of text be replaced with (/before and
> after rotation/)? Italics again added for emphasis.
>
> wolf
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/conflicting-manual-entries-tp16467p16530.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/c9040d42/attachment.html>

From ginjaian at hotmail.com  Fri Mar 18 11:10:07 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 08:10:07 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
References: <1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
Message-ID: <1458313807886-16553.post@n5.nabble.com>

Thanks nophead, awesome stuff! I hope you find it useful too. But, dammit,
you're not giving me a chance to use my brain...!

I'll have a sit down over the weekend and see how you've coded this, so I
can understand it. One quick question: you use a '%' sign here:

...
let(ends = tangent(points[i], points[(i + 1) % len(points)])) 
...

What does that do? I can see it's a 'scalar arithmetical operator'  (
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Mathematical_Operators )
for modulo (so finds the remainder after division of one number by another),
but I'm not clear why! 

Ian S

P.S. re 'Stuart', you addressed me as Stuart in your first post!



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16553.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Fri Mar 18 11:20:06 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 15:20:06 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458313807886-16553.post@n5.nabble.com>
References: <1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
Message-ID: <CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>

It calculates the remainder after dividing by the length. That causes the
wrap round to zero to close the loop when i+1 equals the length.

On 18 March 2016 at 15:10, droftarts <ginjaian at hotmail.com> wrote:

> Thanks nophead, awesome stuff! I hope you find it useful too. But, dammit,
> you're not giving me a chance to use my brain...!
>
> I'll have a sit down over the weekend and see how you've coded this, so I
> can understand it. One quick question: you use a '%' sign here:
>
> ...
> let(ends = tangent(points[i], points[(i + 1) % len(points)]))
> ...
>
> What does that do? I can see it's a 'scalar arithmetical operator'  (
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Mathematical_Operators
> )
> for modulo (so finds the remainder after division of one number by
> another),
> but I'm not clear why!
>
> Ian S
>
> P.S. re 'Stuart', you addressed me as Stuart in your first post!
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16553.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/109adf50/attachment.html>

From ginjaian at hotmail.com  Fri Mar 18 11:30:47 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 08:30:47 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458313807886-16553.post@n5.nabble.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
Message-ID: <1458315047084-16555.post@n5.nabble.com>

And just to confirm, this exports as a CSG file, and imports nicely into
FreeCAD as :

<http://forum.openscad.org/file/n16555/FreeCAD.png> 

Which exports happily as a STEP file, which Fusion 360 can import and
render:

<http://forum.openscad.org/file/n16555/Fusion_360.png> 

Thanks! I'll try it with some more complex geometry, and see if it still
copes.

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16555.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Fri Mar 18 11:31:34 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 15:31:34 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
References: <1458298290948-16542.post@n5.nabble.com>
	<CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
Message-ID: <CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>

Cleaned up the generated csg by moving the circle translates inside the if
and replaced a call of len(points) with len.

$fn = 100;

shape1 = [ [10, 10, 8], [0, 40, 3], [40, 50, -10], [100, 80, 10], [50, 0,
20] ];

linear_extrude (height = 5) rounded_polygon(shape1);

module rounded_polygon(points)
    difference() {
        len = len(points);
        union() {
            for(i = [0 : len - 1])
                if(points[i][2] > 0)
                    translate([points[i].x, points[i].y])
                        circle(points[i][2]);

            polygon([for(i  = [0 : len - 1])
                        let(ends = tangent(points[i], points[(i + 1) %
len]))
                            for(end = [0, 1])
                                ends[end]]);
        }
        for(i = [0 : len - 1])
            if(points[i][2] < 0)
                translate([points[i].x, points[i].y])
                    circle(-points[i][2]);
     }

function tangent(p1, p2) =
    let(
        r1 = p1[2],
        r2 = p2[2],
        dx = p2.x - p1.x,
        dy = p2.y - p1.y,
        d = sqrt(dx * dx + dy * dy),
        theta = atan2(dy, dx) + acos((r1 - r2) / d),
        xa = p1.x +(cos(theta) * r1),
        ya = p1.y +(sin(theta) * r1),
        xb = p2.x +(cos(theta) * r2),
        yb = p2.y +(sin(theta) * r2)
    )[ [xa, ya], [xb, yb] ];


On 18 March 2016 at 15:20, nop head <nop.head at gmail.com> wrote:

> It calculates the remainder after dividing by the length. That causes the
> wrap round to zero to close the loop when i+1 equals the length.
>
> On 18 March 2016 at 15:10, droftarts <ginjaian at hotmail.com> wrote:
>
>> Thanks nophead, awesome stuff! I hope you find it useful too. But, dammit,
>> you're not giving me a chance to use my brain...!
>>
>> I'll have a sit down over the weekend and see how you've coded this, so I
>> can understand it. One quick question: you use a '%' sign here:
>>
>> ...
>> let(ends = tangent(points[i], points[(i + 1) % len(points)]))
>> ...
>>
>> What does that do? I can see it's a 'scalar arithmetical operator'  (
>> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Mathematical_Operators
>> )
>> for modulo (so finds the remainder after division of one number by
>> another),
>> but I'm not clear why!
>>
>> Ian S
>>
>> P.S. re 'Stuart', you addressed me as Stuart in your first post!
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16553.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/3edfb3e1/attachment.html>

From nop.head at gmail.com  Fri Mar 18 11:44:05 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 15:44:05 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458315047084-16555.post@n5.nabble.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
Message-ID: <CAEEmnrPSQxjeTkwakjwgqjMi7U58qm4GyYTC=i3z=pRrvQJcZg@mail.gmail.com>

Looks nice in wood.

I suspect you could export the STL to Blender and give it a wood texture
and then render it. That would have the advantage of working with anything
OpenScad can produce. The Mendel90 printed

parts are rendered in Blender for the manual.

[image: Inline images 2]

They are not very pretty but that is just down to the blender template
used. I think it adds some random noise to make it look like a photo. I am
sure it could texture it with wood and give a photo realistic view. I am
not a blender user though, somebody else contributed it.

On 18 March 2016 at 15:30, droftarts <ginjaian at hotmail.com> wrote:

> And just to confirm, this exports as a CSG file, and imports nicely into
> FreeCAD as :
>
> <http://forum.openscad.org/file/n16555/FreeCAD.png>
>
> Which exports happily as a STEP file, which Fusion 360 can import and
> render:
>
> <http://forum.openscad.org/file/n16555/Fusion_360.png>
>
> Thanks! I'll try it with some more complex geometry, and see if it still
> copes.
>
> Ian S
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16555.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/4ffcde96/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: z_motor_bracket_lhs.png
Type: image/png
Size: 114276 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/4ffcde96/attachment.png>

From arnholm at arnholm.org  Fri Mar 18 12:02:25 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Fri, 18 Mar 2016 17:02:25 +0100
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458315047084-16555.post@n5.nabble.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
Message-ID: <56EC2691.40808@arnholm.org>

On 18. mars 2016 16:30, droftarts wrote:
> And just to confirm, this exports as a CSG file, and imports nicely into
> FreeCAD as :
>
> <http://forum.openscad.org/file/n16555/FreeCAD.png>
>
> Which exports happily as a STEP file, which Fusion 360 can import and
> render:
>
> <http://forum.openscad.org/file/n16555/Fusion_360.png>
>
> Thanks! I'll try it with some more complex geometry, and see if it still
> copes.

Does FreeCAD understand the polyhedron command? If so, OpenSCAD could 
have an option to save the final body as a polyhedron to .csg, and you 
could then use it in FreeCAD even if you had used Hull and Minkowski.

Carsten Arnholm



From doug at moens.org  Fri Mar 18 12:07:19 2016
From: doug at moens.org (doug moen)
Date: Fri, 18 Mar 2016 12:07:19 -0400
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <56EC2691.40808@arnholm.org>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
Message-ID: <CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>

Converting the model to a polyhedron would be no different from exporting
as STL and then importing the STL in FreeCAD.

Droftarts says that STL is no good because it doesn't "retain the geometry".

On 18 March 2016 at 12:02, Carsten Arnholm <arnholm at arnholm.org> wrote:

> On 18. mars 2016 16:30, droftarts wrote:
>
>> And just to confirm, this exports as a CSG file, and imports nicely into
>> FreeCAD as :
>>
>> <http://forum.openscad.org/file/n16555/FreeCAD.png>
>>
>> Which exports happily as a STEP file, which Fusion 360 can import and
>> render:
>>
>> <http://forum.openscad.org/file/n16555/Fusion_360.png>
>>
>> Thanks! I'll try it with some more complex geometry, and see if it still
>> copes.
>>
>
> Does FreeCAD understand the polyhedron command? If so, OpenSCAD could have
> an option to save the final body as a polyhedron to .csg, and you could
> then use it in FreeCAD even if you had used Hull and Minkowski.
>
> Carsten Arnholm
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/bbd5b7b4/attachment.html>

From nop.head at gmail.com  Fri Mar 18 12:37:01 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 16:37:01 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
Message-ID: <CAEEmnrOy7+g0ciYFXeHxT2HmvWFifMJVb94BTFH9-WsR4K7jyQ@mail.gmail.com>

Very true but he also said "so I can do some nice renders of it". My point
is you don't need geometry to get nice renders in Blender. It works with
meshes.

On 18 March 2016 at 16:07, doug moen <doug at moens.org> wrote:

> Converting the model to a polyhedron would be no different from exporting
> as STL and then importing the STL in FreeCAD.
>
> Droftarts says that STL is no good because it doesn't "retain the
> geometry".
>
> On 18 March 2016 at 12:02, Carsten Arnholm <arnholm at arnholm.org> wrote:
>
>> On 18. mars 2016 16:30, droftarts wrote:
>>
>>> And just to confirm, this exports as a CSG file, and imports nicely into
>>> FreeCAD as :
>>>
>>> <http://forum.openscad.org/file/n16555/FreeCAD.png>
>>>
>>> Which exports happily as a STEP file, which Fusion 360 can import and
>>> render:
>>>
>>> <http://forum.openscad.org/file/n16555/Fusion_360.png>
>>>
>>> Thanks! I'll try it with some more complex geometry, and see if it still
>>> copes.
>>>
>>
>> Does FreeCAD understand the polyhedron command? If so, OpenSCAD could
>> have an option to save the final body as a polyhedron to .csg, and you
>> could then use it in FreeCAD even if you had used Hull and Minkowski.
>>
>> Carsten Arnholm
>>
>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/3823aef1/attachment.html>

From doug at moens.org  Fri Mar 18 12:47:41 2016
From: doug at moens.org (doug moen)
Date: Fri, 18 Mar 2016 12:47:41 -0400
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrOy7+g0ciYFXeHxT2HmvWFifMJVb94BTFH9-WsR4K7jyQ@mail.gmail.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<CAEEmnrOy7+g0ciYFXeHxT2HmvWFifMJVb94BTFH9-WsR4K7jyQ@mail.gmail.com>
Message-ID: <CAGV6i+Nj_Ep+chBxyD1fXPAfPPFq-Eyne0mMi+9ouCMOteyxrA@mail.gmail.com>

My vague understanding of STEP is that it can preserve information like:
"this is a circle with radius r", which is lost if you export to STL, but
preserved in the CSG file. Droftarts is using circle() in his model, so
maybe he wants to preserve the identity of circles for use by the Blender
and Fusion360 rendering engines?

On 18 March 2016 at 12:37, nop head <nop.head at gmail.com> wrote:

> Very true but he also said "so I can do some nice renders of it". My point
> is you don't need geometry to get nice renders in Blender. It works with
> meshes.
>
> On 18 March 2016 at 16:07, doug moen <doug at moens.org> wrote:
>
>> Converting the model to a polyhedron would be no different from exporting
>> as STL and then importing the STL in FreeCAD.
>>
>> Droftarts says that STL is no good because it doesn't "retain the
>> geometry".
>>
>> On 18 March 2016 at 12:02, Carsten Arnholm <arnholm at arnholm.org> wrote:
>>
>>> On 18. mars 2016 16:30, droftarts wrote:
>>>
>>>> And just to confirm, this exports as a CSG file, and imports nicely into
>>>> FreeCAD as :
>>>>
>>>> <http://forum.openscad.org/file/n16555/FreeCAD.png>
>>>>
>>>> Which exports happily as a STEP file, which Fusion 360 can import and
>>>> render:
>>>>
>>>> <http://forum.openscad.org/file/n16555/Fusion_360.png>
>>>>
>>>> Thanks! I'll try it with some more complex geometry, and see if it still
>>>> copes.
>>>>
>>>
>>> Does FreeCAD understand the polyhedron command? If so, OpenSCAD could
>>> have an option to save the final body as a polyhedron to .csg, and you
>>> could then use it in FreeCAD even if you had used Hull and Minkowski.
>>>
>>> Carsten Arnholm
>>>
>>>
>>>
>>> _______________________________________________
>>> OpenSCAD mailing list
>>> Discuss at lists.openscad.org
>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>
>>>
>>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/eca62bf7/attachment.html>

From nop.head at gmail.com  Fri Mar 18 12:58:22 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 16:58:22 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAGV6i+Nj_Ep+chBxyD1fXPAfPPFq-Eyne0mMi+9ouCMOteyxrA@mail.gmail.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<CAEEmnrOy7+g0ciYFXeHxT2HmvWFifMJVb94BTFH9-WsR4K7jyQ@mail.gmail.com>
	<CAGV6i+Nj_Ep+chBxyD1fXPAfPPFq-Eyne0mMi+9ouCMOteyxrA@mail.gmail.com>
Message-ID: <CAEEmnrMnKLKYZuNfJJ5P3neLqaF9CxWzkzGEzjbJoCdQ1OSJMA@mail.gmail.com>

My guess is he needs it for Fusion360 but I don't think Blender understands
circles. You can get a nice render of a textured cylinder with not many
facets by interpolating the normals in the lighting calculation.

On 18 March 2016 at 16:47, doug moen <doug at moens.org> wrote:

> My vague understanding of STEP is that it can preserve information like:
> "this is a circle with radius r", which is lost if you export to STL, but
> preserved in the CSG file. Droftarts is using circle() in his model, so
> maybe he wants to preserve the identity of circles for use by the Blender
> and Fusion360 rendering engines?
>
> On 18 March 2016 at 12:37, nop head <nop.head at gmail.com> wrote:
>
>> Very true but he also said "so I can do some nice renders of it". My
>> point is you don't need geometry to get nice renders in Blender. It works
>> with meshes.
>>
>> On 18 March 2016 at 16:07, doug moen <doug at moens.org> wrote:
>>
>>> Converting the model to a polyhedron would be no different from
>>> exporting as STL and then importing the STL in FreeCAD.
>>>
>>> Droftarts says that STL is no good because it doesn't "retain the
>>> geometry".
>>>
>>> On 18 March 2016 at 12:02, Carsten Arnholm <arnholm at arnholm.org> wrote:
>>>
>>>> On 18. mars 2016 16:30, droftarts wrote:
>>>>
>>>>> And just to confirm, this exports as a CSG file, and imports nicely
>>>>> into
>>>>> FreeCAD as :
>>>>>
>>>>> <http://forum.openscad.org/file/n16555/FreeCAD.png>
>>>>>
>>>>> Which exports happily as a STEP file, which Fusion 360 can import and
>>>>> render:
>>>>>
>>>>> <http://forum.openscad.org/file/n16555/Fusion_360.png>
>>>>>
>>>>> Thanks! I'll try it with some more complex geometry, and see if it
>>>>> still
>>>>> copes.
>>>>>
>>>>
>>>> Does FreeCAD understand the polyhedron command? If so, OpenSCAD could
>>>> have an option to save the final body as a polyhedron to .csg, and you
>>>> could then use it in FreeCAD even if you had used Hull and Minkowski.
>>>>
>>>> Carsten Arnholm
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> OpenSCAD mailing list
>>>> Discuss at lists.openscad.org
>>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>>
>>>>
>>>>
>>>
>>> _______________________________________________
>>> OpenSCAD mailing list
>>> Discuss at lists.openscad.org
>>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>>
>>>
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/c2b6a3f5/attachment.html>

From arnholm at arnholm.org  Fri Mar 18 13:58:34 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Fri, 18 Mar 2016 18:58:34 +0100
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com> <56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
Message-ID: <56EC41CA.20609@arnholm.org>

On 18. mars 2016 17:07, doug moen wrote:
> Converting the model to a polyhedron would be no different from exporting
> as STL and then importing the STL in FreeCAD.

That makes no sense. The model *is* effectively a polyhedron mesh and 
does not need to be converted.

>  Droftarts says that STL is no good because it doesn't "retain the 
geometry".

STL is ALL geometry and no topology, unlike a polyhedron. It may be true 
it does not retain the geometry either, depending on how the coordinates 
are modified.

Does FreeCAD understand the polyhedron command?

Carsten Arnholm


From jpmendes54 at gmail.com  Fri Mar 18 14:14:08 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Fri, 18 Mar 2016 11:14:08 -0700 (MST)
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
In-Reply-To: <1458172094933-16506.post@n5.nabble.com>
References: <1458169700208-16504.post@n5.nabble.com>
	<1458172094933-16506.post@n5.nabble.com>
Message-ID: <1458324848900-16564.post@n5.nabble.com>

Thanks for your advise Parkingbot.
I've digged on the on the example you told me to and I achieved the
following:
<http://forum.openscad.org/file/n16564/Capture12.jpg> 

Unfortunately I hat do use a tricky trick I do not understand, that has the 
side effect of generating lots of warnings and one error as in the pictures
below. Whithout the last line in the path definition the result is the one
of the last picture.

<http://forum.openscad.org/file/n16564/Capture14.jpg> 
<http://forum.openscad.org/file/n16564/Capture13.jpg> 
<http://forum.openscad.org/file/n16564/Capture15.jpg> 

How can I avoid the closed path in a clean way?  
In the following code line I changed "loop=true" to "loop=false" with no
success.

path = quantize_trajectories(path_definition, steps=teeth*4, loop=false,
start_position=$t*4);

Can someone help?
Thanks in advance
jpmendes



--
View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504p16564.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Fri Mar 18 14:30:09 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Fri, 18 Mar 2016 19:30:09 +0100
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <56EC41CA.20609@arnholm.org>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com> <56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<56EC41CA.20609@arnholm.org>
Message-ID: <56EC4931.2060802@arnholm.org>

On 18. mars 2016 18:58, Carsten Arnholm wrote:
> Does FreeCAD understand the polyhedron command?

I just tried it and it doesn't.

I guess the explanation is that FreeCAD is based on OpenCASCADE which 
does booleans on a B-rep model only.

Carsten Arnholm





From nop.head at gmail.com  Fri Mar 18 14:34:40 2016
From: nop.head at gmail.com (nop head)
Date: Fri, 18 Mar 2016 18:34:40 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <56EC41CA.20609@arnholm.org>
References: <CAEEmnrM_H5QXAK9Kdozr+BHhLbBNEETSzfQyDHVsoQ28n7Q8bA@mail.gmail.com>
	<CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<56EC41CA.20609@arnholm.org>
Message-ID: <CAEEmnrNFnMyYjb0_Xm49vHSXVkCq-OHvrT45x-uqB3dRweBtzg@mail.gmail.com>

By "geometry" people mean CSG in this context. I.e. cylinders and cubes,
etc, as opposed to a triangle mesh.

On 18 March 2016 at 17:58, Carsten Arnholm <arnholm at arnholm.org> wrote:

> On 18. mars 2016 17:07, doug moen wrote:
>
>> Converting the model to a polyhedron would be no different from exporting
>> as STL and then importing the STL in FreeCAD.
>>
>
> That makes no sense. The model *is* effectively a polyhedron mesh and does
> not need to be converted.
>
>  Droftarts says that STL is no good because it doesn't "retain the
>>
> geometry".
>
> STL is ALL geometry and no topology, unlike a polyhedron. It may be true
> it does not retain the geometry either, depending on how the coordinates
> are modified.
>
> Does FreeCAD understand the polyhedron command?
>
> Carsten Arnholm
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/3656ea8b/attachment.html>

From drew at DasRogges.com  Fri Mar 18 15:03:10 2016
From: drew at DasRogges.com (Drew Rogge)
Date: Fri, 18 Mar 2016 12:03:10 -0700
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
In-Reply-To: <1458169700208-16504.post@n5.nabble.com>
References: <1458169700208-16504.post@n5.nabble.com>
Message-ID: <56EC50EE.5020004@DasRogges.com>

Hi jp,

Did you re-write the MPCNC parts in OpenSCAD or just include allted's STL files?

Drew

On 3/16/16 4:08 PM, jpmendes wrote:
> Hello
>
> I made an OpenSCAD assemblage of the well known Thingiverse
> "Mostly_Printed_CNC" by Allted with some small modifications and add-ons by
> me. The objective is to facilitate the 3D view of the machine and make an
> animation of it.
>
> <http://forum.openscad.org/file/n16504/Capture10.jpg>
>
> I'm trying to deform the timing belt in order to follow the path from the
> motors pulleys to the bearings but I haven't been successful with this task.
> I tried the sweep() function but I can't figure how to generate correctly
> the profile of the belt as polygon. There is a problem with the orientation
> as can be seen on the picture.
>
> <http://forum.openscad.org/file/n16504/Capture11.jpg>
>
> The code I'm playing with:
> ==========================================================
>
> use <sweep.scad>
> use<timing_belts.scad>
>
> //function f(t) = [40*t,  0, 10-(10*sqrt(cos(360*t)))];	
> function f(t) = [3+30*t,  0, 10-10*cos(360*t)];	
>
> /*	
> function Profile_MXL()= [
> [-0.660421,-0.5],[-0.660421,0],
> [-0.621898,0.006033],[-0.587714,0.023037],
> [-0.560056,0.049424],[-0.541182,0.083609],
> [-0.417357,0.424392],[-0.398413,0.458752],
> [-0.370649,0.48514],[-0.336324,0.502074],
> [-0.297744,0.508035],[0.297744,0.508035],
> [0.336268,0.502074],[0.370452,0.48514],
> [0.39811,0.458752],[0.416983,0.424392],
> [0.540808,0.083609],[0.559752,0.049424],
> [0.587516,0.023037],[0.621841,0.006033],
> [0.660421,0],[0.660421,-0.5]];
> */
>
> function Profile_MXL()= [
> 	[-0.5,-0.660421],[0,-0.660421,],
> 	[0.006033,-0.621898],[0.023037,-0.587714],
> 	[0.049424,-0.560056],[0.083609,-0.541182],
> 	[0.424392,-0.417357],[0.458752,-0.398413],
> 	[0.48514,-0.370649],[0.502074,-0.336324],
> 	[0.508035,-0.297744],[0.508035,0.297744],
> 	[0.502074,0.336268],[0.48514,0.370452],
> 	[0.458752,0.39811],[0.424392, 0.416983],
> 	[0.083609,0.540808],[0.049424,0.559752],
> 	[0.023037,0.587516],[0.006033,0.621841],
> 	[0,0.660421],[-0.5,0.660421]];
>          
> module MXL(width = 6) render(convexity=4)
> {
> 	//linear_extrude(height=width)
> 	polygon([
> 	/*
> 	[-0.660421,-0.5],[-0.660421,0],
> 	[-0.621898,0.006033],[-0.587714,0.023037],
> 	[-0.560056,0.049424],[-0.541182,0.083609],
> 	[-0.417357,0.424392],[-0.398413,0.458752],
> 	[-0.370649,0.48514],[-0.336324,0.502074],
> 	[-0.297744,0.508035],[0.297744,0.508035],
> 	[0.336268,0.502074],[0.370452,0.48514],
> 	[0.39811,0.458752],[0.416983,0.424392],
> 	[0.540808,0.083609],[0.559752,0.049424],
> 	[0.587516,0.023037],[0.621841,0.006033],
> 	[0.660421,0],[0.660421,-0.5] ]);
> 	*/
> 	[-0.5,-0.660421],[0,-0.660421,],
> 	[0.006033,-0.621898],[0.023037,-0.587714],
> 	[0.049424,-0.560056],[0.083609,-0.541182],
> 	[0.424392,-0.417357],[0.458752,-0.398413],
> 	[0.48514,-0.370649],[0.502074,-0.336324],
> 	[0.508035,-0.297744],[0.508035,0.297744],
> 	[0.502074,0.336268],[0.48514,0.370452],
> 	[0.458752,0.39811],[0.424392, 0.416983],
> 	[0.083609,0.540808],[0.049424,0.559752],
> 	[0.023037,0.587516],[0.006033,0.621841],
> 	[0,0.660421],[-0.5,0.660421] ]);
> }
> 	
> color("Green") rotate([-90,0,90]) scale([1,5,1]) MXL();
>
> step = 0.005;
> path = [for (t=[0:step:1-step]) f(t)];
> path_transforms = construct_transform_path(path) ;
>   
> module DefBelt() color("GoldenRod"){
>      scale([1,4.9,1]) sweep(Profile_MXL(), path_transforms);
> }
> DefBelt();
>
> translate([30,-3,0]) rotate([-90,0,0]) belt_length("MXL", 6, 10);
> ===================================================
>
> Any ideas on how to accomplish this are welcome,
> Thanks in advance.
>
> jpmendes
>
>
>
> --
> View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-- 
Drew Rogge
drew at dasrogges.com

Phone: 8934OOO629OO4829631OOOOOOO



From unkerjay at centurylink.net  Fri Mar 18 15:12:56 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Fri, 18 Mar 2016 12:12:56 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <CAGV6i+OUzBEcwm58Kte=4gkvQ_aBhE4nBfxemkFke_H_bYHAEA@mail.gmail.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com>
	<CAGV6i+OUzBEcwm58Kte=4gkvQ_aBhE4nBfxemkFke_H_bYHAEA@mail.gmail.com>
Message-ID: <1458328376057-16568.post@n5.nabble.com>

@Doug:

I'm not generalizing.  Sometimes it shows up.  Sometimes it doesn't.

When it DOES (and it has on at least one other polyhedra), I've tried
removing
this code and that fixed it.

It may not always be the culprit.  But, there's no real harm in trying and
seeing
what happens.  

If it resolves the problem, fine.

If not, well, one less thing to try.



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16568.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Fri Mar 18 15:25:46 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Fri, 18 Mar 2016 12:25:46 -0700 (MST)
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
In-Reply-To: <56EC50EE.5020004@DasRogges.com>
References: <1458169700208-16504.post@n5.nabble.com>
	<56EC50EE.5020004@DasRogges.com>
Message-ID: <1458329146170-16569.post@n5.nabble.com>

Hi Drew

The main plastic parts are imports from the original STLs by Allted. Some
are my originals and a couple of others are remixes from the original. 
In OpenSCAD I did the assembly and generate all the "vitamins" and the
spindle. 
I'm aiming to make an animation of it.

jpmendes



--
View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504p16569.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Fri Mar 18 15:35:31 2016
From: doug at moens.org (doug moen)
Date: Fri, 18 Mar 2016 15:35:31 -0400
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458328376057-16568.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com>
	<CAGV6i+OUzBEcwm58Kte=4gkvQ_aBhE4nBfxemkFke_H_bYHAEA@mail.gmail.com>
	<1458328376057-16568.post@n5.nabble.com>
Message-ID: <CAGV6i+PF=dqNiLDx5hZ-f18MgGRzWKC_=uwQubYV+q9pGOF+LQ@mail.gmail.com>

Well, the source code for the Ditrigonal Dodecacronic Hexecontahedron that
you posted was automatically generated by Kit Wallace's program, based on
polyhedron data from http://dmccooey.com/polyhedra/. In fact, the
polyhedron was generated automatically, on the fly, by accessing that URL
on Kit's web site. So it's reasonable to guess that Kit hasn't actually
tested all of the possible scad scripts that his program can generate.

Certain kinds of errors in the polyhedron data cause the polyhedron itself
to apparently preview and render okay, but when you attempt a CSG operation
(like difference()) then you get an error message or nonsense results.

I'm assuming that Torsten is right. That means some of the polyhedron data
files on dmccooey's web site are "not 2-manifold", which is a technical
term meaning bad. The bug is actually in dmccooey's data, although it's
also bad that OpenSCAD sucks at reporting bad arguments to polyhedron().

On 18 March 2016 at 15:12, unkerjay <unkerjay at centurylink.net> wrote:

> @Doug:
>
> I'm not generalizing.  Sometimes it shows up.  Sometimes it doesn't.
>
> When it DOES (and it has on at least one other polyhedra), I've tried
> removing
> this code and that fixed it.
>
> It may not always be the culprit.  But, there's no real harm in trying and
> seeing
> what happens.
>
> If it resolves the problem, fine.
>
> If not, well, one less thing to try.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16568.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160318/47199114/attachment.html>

From unkerjay at centurylink.net  Fri Mar 18 17:56:07 2016
From: unkerjay at centurylink.net (unkerjay)
Date: Fri, 18 Mar 2016 14:56:07 -0700 (MST)
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <CAGV6i+PF=dqNiLDx5hZ-f18MgGRzWKC_=uwQubYV+q9pGOF+LQ@mail.gmail.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com>
	<CAGV6i+OUzBEcwm58Kte=4gkvQ_aBhE4nBfxemkFke_H_bYHAEA@mail.gmail.com>
	<1458328376057-16568.post@n5.nabble.com>
	<CAGV6i+PF=dqNiLDx5hZ-f18MgGRzWKC_=uwQubYV+q9pGOF+LQ@mail.gmail.com>
Message-ID: <1458338167113-16571.post@n5.nabble.com>

Been a LONG time, it probably applies here:

GIGO

(bad data, bad outcome - (BDBO?)



--
View this message in context: http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16571.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From gwadej at anomaly.org  Fri Mar 18 17:58:12 2016
From: gwadej at anomaly.org (G. Wade Johnson)
Date: Fri, 18 Mar 2016 16:58:12 -0500
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <CAEEmnrOrUancUjoy=Sxr3n9o-YPT4s5CJDpKz8A=1gaQ30=4tw@mail.gmail.com>
References: <20160317131337.GP23624@BitWizard.nl>
	<CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
	<20160318083139.GC997@BitWizard.nl>
	<5b5df2d73cbecacf735ffc9a8cf4ad95@arnholm.org>
	<CAEEmnrOrUancUjoy=Sxr3n9o-YPT4s5CJDpKz8A=1gaQ30=4tw@mail.gmail.com>
Message-ID: <20160318165812.3c348b87@cygnus>

Sorry for butting in here. I was also taking the OP's comment as a
misunderstanding of the tool. But, in the explanation was a little
kernel that might be worth some thought as an enhancement.

When we want to force a union (and not deal with rounding errors
causing gaps), we always explain how to make one object a little larger
and union.

The OP suggested that if OpenSCAD could recognize the case where two
objects are within some epsilon and warn would be a good thing. That
made me think of other similar values that we already have: $fn, $fa,
and $fs.

What if we had a $epsilon, and OpenSCAD could use it to either warn of
objects that are within that distance or automatically union? Would
that help new users? I'm not sure how much effort it would be (since I
haven't look at the code in a long time), but maybe it's worth some
thought.

(The current behavior would remain if $epsilon is 0. For many cases,
problems would go away with $epsilon = 0.01. The designer could tweak
this value to allow items to be closer or force them to stay further
away.)

At the moment, I don't think this should be considered a proposal. Just
the beginnings of a thought experiment.

G. Wade

On Fri, 18 Mar 2016 10:05:50 +0000
nop head <nop.head at gmail.com> wrote:

> OpenScad currently reports volumes for 3D which is lumps plus one and
> contours for 2D. However missing tabs that should be unioned would not
> change the number of lumps. Detached tabs would but that is not
> actually the original problem.
> 
> On 18 March 2016 at 09:53, <arnholm at arnholm.org> wrote:
> 
> > On 2016-03-18 09:31, Rogier Wolff wrote:
> >
> >> I KNOW I can "fix" it by overlapping the objects.
> >>
> >> The problem is: occasionally you forget to preventively fix it, and
> >> you place an object exactly where it is supposed to go.
> >>
> >> The render looks fine, you laser or 3D print it, and... wasted time
> >> and material. I understand that according to openscad if rounding
> >> errors cause two surfaces to not-touch, then there are simply two
> >> objects. That is actually the easiest case as mathematically there
> >> is no problem.
> >>
> >> In my case however there WAS an error, I think caused by the planes
> >> being EXACTLY in the same spot.
> >>
> >
> > The software cannot know your expectations, it can only know what
> > your instructions were. If the two objects happen to intersect
> > based on your instructions, they become thing as far as the
> > software is concerned. If not, they are two. You can only call the
> > result an error after comparing with your unstated expectations,
> > the software has no way of knowing these expectations (after all it
> > isn't psychic).
> >
> > I think the best you can hope for is that the software reports back
> > how many "lumps" (=independent bodies) the resulting object
> > consists of after boolean operations. If you have two objects you
> > believe should be unioned into one, and the software reports the
> > result is consisting of two lumps, then you have a chance of
> > comparing the result with your expectations. This is exactly what I
> > have been doing when experimenting with carve (another boolean
> > engine).
> >
> > So a suggestion could be that openscad reports the number of lumps
> > in the result.
> >
> > Carsten Arnholm
> >
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
> >


-- 
If it doesn't have to be right, I can make it arbitrarily fast.
                                                    -- Rick Hoselton


From gwadej at anomaly.org  Fri Mar 18 18:05:27 2016
From: gwadej at anomaly.org (G. Wade Johnson)
Date: Fri, 18 Mar 2016 17:05:27 -0500
Subject: [OpenSCAD] Previews but doesn't render
In-Reply-To: <1458338167113-16571.post@n5.nabble.com>
References: <1458225532086-16511.post@n5.nabble.com>
	<CAGV6i+O7t9y1h-XkqiCRj=PW+PqmXq8uBqQqG_EcR3AvDLM9Bg@mail.gmail.com>
	<1458245980036-16517.post@n5.nabble.com>
	<CAGV6i+PpjuPW5Ki3vrg3NbnDh8hP4qAuqHQrtY-dhJ55scz-Dw@mail.gmail.com>
	<1458257546372-16524.post@n5.nabble.com>
	<CAGV6i+OUzBEcwm58Kte=4gkvQ_aBhE4nBfxemkFke_H_bYHAEA@mail.gmail.com>
	<1458328376057-16568.post@n5.nabble.com>
	<CAGV6i+PF=dqNiLDx5hZ-f18MgGRzWKC_=uwQubYV+q9pGOF+LQ@mail.gmail.com>
	<1458338167113-16571.post@n5.nabble.com>
Message-ID: <20160318170527.77940b65@cygnus>

On Fri, 18 Mar 2016 14:56:07 -0700 (MST)
unkerjay <unkerjay at centurylink.net> wrote:

> Been a LONG time, it probably applies here:
> 
> GIGO

Garbage in, gospel out? <grin/>

> (bad data, bad outcome - (BDBO?)
> 
> 
> 
> --
> View this message in context:
> http://forum.openscad.org/Previews-but-doesn-t-render-tp16511p16571.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


-- 
Reality is just a convenient measure of complexity.
                                                   -- Alvy Ray Smith


From macdarren at mac.com  Fri Mar 18 19:01:53 2016
From: macdarren at mac.com (macdarren)
Date: Fri, 18 Mar 2016 16:01:53 -0700 (MST)
Subject: [OpenSCAD] Touching surfaces.
In-Reply-To: <20160318165812.3c348b87@cygnus>
References: <20160317131337.GP23624@BitWizard.nl>
	<CAEEmnrM3VFhKg+gNxUBiO5FWUUCs4a8NSi7U8XQ5v7kgCeMYDA@mail.gmail.com>
	<20160318083139.GC997@BitWizard.nl>
	<5b5df2d73cbecacf735ffc9a8cf4ad95@arnholm.org>
	<CAEEmnrOrUancUjoy=Sxr3n9o-YPT4s5CJDpKz8A=1gaQ30=4tw@mail.gmail.com>
	<20160318165812.3c348b87@cygnus>
Message-ID: <1458342113810-16574.post@n5.nabble.com>

I would second this or something like this as a feature request.

I am a relatively new openSCAD user.
I make mostly mechanical pieces, and really like the programatic /
parametric way of designing my parts
over traditional visual tools.  However the need to constantly fudge things
just a bit is for me burdensome.  I have exact measurements (generated
mathematically) but these can change and having to add in some delta to be
certain that parts join to form a solid can get a bit tricky and seeing
interior surface separations/flaws can be a challenge.

I like the idea of one or two epsilon type values.... that add some function
but when set to 0 result in everything working just as it does now.

I would suggest maybe two values that if zero do nothing. 
(for discussion called $op - overlapping plane and $sp - separating plane)
(these would typically be very small numbers like .001 or whatever is needed
to cover up rounding)
(.001 seems to work most of the time for me, though in practice .01 is
usually fine too)

$op positive will force the merging of objects separated by less than that
value.
$sp positive would force separation of objects that due to rounding may
touch or be separated by less than this amount.
(I need to think about $sp a bit, I feel like there is a similar need when
differencing objects, where $op addresses unions how this other
differencing/separating property would work I need to consider.)

Perhaps negative numbers would report as a warning but not actually make any
change.

How to do this separation or merging might be a bit of a challenge but using
some method similar to
what we do manually by adding or subtracting some small amount to allow for
rounding errors to be masked
seems like good starting point.



--
View this message in context: http://forum.openscad.org/Touching-surfaces-tp16508p16574.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From ginjaian at hotmail.com  Fri Mar 18 21:43:04 2016
From: ginjaian at hotmail.com (droftarts)
Date: Fri, 18 Mar 2016 18:43:04 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrNFnMyYjb0_Xm49vHSXVkCq-OHvrT45x-uqB3dRweBtzg@mail.gmail.com>
References: <CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<56EC41CA.20609@arnholm.org>
	<CAEEmnrNFnMyYjb0_Xm49vHSXVkCq-OHvrT45x-uqB3dRweBtzg@mail.gmail.com>
Message-ID: <1458351784432-16575.post@n5.nabble.com>

Yes, that is what I meant, that CSG appears to be the only way to export a
model from openSCAD with smooth curves, and with the parts still
individually selectable. When you import a CSG into FreeCAD, you should get
smooth geometry, and the ability to select individual bodies of the
assembly. This should continue into the STEP file, and allow the individual
parts to be assigned material appearance, so making the render appear more
lifelike. You could export each individual part, in position, as an STL, and
bring this in, but I was experimenting to see if I can export for rendering
in one smooth operation, while maintaining quality (ie without
triangulation).

Thanks for the help, I'll incorporate it into my model, see how far it gets,
and report back. My only other option was to write a better renderer for
OpenSCAD, which is definitely above my programming level! Or maybe STEP
export...

Ian S





--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16575.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Fri Mar 18 22:04:40 2016
From: mschafer at wireframe.biz (Neon22)
Date: Fri, 18 Mar 2016 19:04:40 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458351784432-16575.post@n5.nabble.com>
References: <CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<56EC41CA.20609@arnholm.org>
	<CAEEmnrNFnMyYjb0_Xm49vHSXVkCq-OHvrT45x-uqB3dRweBtzg@mail.gmail.com>
	<1458351784432-16575.post@n5.nabble.com>
Message-ID: <1458353080865-16576.post@n5.nabble.com>

STEP format import/export is available via:
- PythonOCC (github)
   - http://www.pythonocc.org/features_overview/data-exchange/
- Step people themselves: (github)
   - http://stepcode.org/

Its a database kind of format.
In case anyone's interested....



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16576.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From togo at of.net  Sat Mar 19 01:16:58 2016
From: togo at of.net (togo)
Date: Fri, 18 Mar 2016 22:16:58 -0700 (MST)
Subject: [OpenSCAD] Trying to incorporate equation based shapes.
In-Reply-To: <1458297603591-16539.post@n5.nabble.com>
References: <CAG0AW=ar41sY5vVPBh40P5pQJLts80P8vaO7GqHUmtZ5DuRdgQ@mail.gmail.com>
	<CAEEmnrPD24ywcvoG+yYcenDCvkLpUBWmfaY++0oVGvOaDL6x+w@mail.gmail.com>
	<CAG0AW=YuHH6UgwXbc4KvUwGPs_2PM25t6v1KvA07ha6vULODJw@mail.gmail.com>
	<1458297603591-16539.post@n5.nabble.com>
Message-ID: <1458364618094-16577.post@n5.nabble.com>

Parkinbot, your blithe promises are too big.

1. I tried your 900137.  I got missing include.  Seems the file
capitalization was wrong.  

2. Got syntax error.  Seems you were using some bleeding edge features.  Had
to switch from stable to testing version of openscad.

3. Your example worked.  But the code is full of cryptic stuff.  Not for the
faint of heart.

But, hey, it looks cool!  And you contributed to the community.

I'll build on the OP's work.  It's not as clever as yours, but it's
understandable and it worked first try.

T





--
View this message in context: http://forum.openscad.org/Trying-to-incorporate-equation-based-shapes-tp3116p16577.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From wv99999 at gmail.com  Sat Mar 19 03:53:59 2016
From: wv99999 at gmail.com (wolf)
Date: Sat, 19 Mar 2016 00:53:59 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1447686693347-14539.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
Message-ID: <1458374039947-16578.post@n5.nabble.com>

Trygon wrote
> OpenSCAD currently supports a whole range of specific 
*
> linear
*
>  transformations such as translate(), rotate() and scale(), in addition to
> the generic 
*
> linear
*
>  transformation multmatrix().
> 
> OpenSCAD does not provide support for non-
*
> linear
*
>  transformations. 

Both statements are false. OpenSCAD currently provides both linear
transformations (x->a+bx, with a and b constants) and non-linear
transformations (for example:  translate([sin20,cos(30),tan(10)]) is
perfectly legal, though not necessarily meaningful. Rotations are inherently
non-linear transformations, as they involve sines and cosines). Instead of
*linear*, Trygon should have used the term *affine* to describe current
OpenSCAD's capabilities. 
But doing so has consequences: Since one of the properties of an affine
transformation is that straight lines are transformed into other straight
lines, this implies that as long as OpenSCAD wants to output .stl files, it
cannot support non-affine transformations. 
After all, a .stl file is nothing but a [structured] list of vertices, which
are connected by straight lines, and not curved ones as is inevitable for
non-affine transformations.

BTW, doug.moen's algorithm does not have any value either. This is because
when, say, a square is subjected to an affine transformation, it must remain
a quadrangle (i.e. its vertex count remains unchanged), and it must remain
flat. That is part and parcel of an affine transformation. Thus there is no
need to create extra vertices.

Finally, the outcome of the multiplication of one or several vector(s) with
a matrix (that is what multmatrix() is) need not be restricted to affine
transformations. Some OpenSCAD shapes allow a twist parameter - the
restriction arises out of the need to produce .stl files. Twist is the
implemented as a succession of skew transformations.

wolf




--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16578.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Sat Mar 19 05:41:41 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Sat, 19 Mar 2016 10:41:41 +0100
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458374039947-16578.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
Message-ID: <56ED1ED5.4030008@arnholm.org>

On 19. mars 2016 08:53, wolf wrote:
> After all, a .stl file is nothing but a [structured] list of vertices, which
> are connected by straight lines,

This is somewhat misleading. STL files do not contain a lists of 
vertices. STL files contain only a set of topologically disconnected 
triangles with coordinates duplicated locally in every triangle. Every 
would-be vertex has to be mentioned at least 3 times. This is one of the 
reasons why why STL is an unfortunate standard.

Your description applies better to an AMF file or generally a polyhedron 
mesh with a structured vector of vertices and where faces are defined 
via indices into the vertex vector. This is much better as it removes 
the possibility of ambiguities.

> Finally, the outcome of the multiplication of one or several vector(s) with
> a matrix (that is what multmatrix() is) need not be restricted to affine
> transformations.

Every transformation in OpenSCAD and most similar systems is eventually 
expressed a 4x4 homogeneous coordinate transformation matrix, 
multmatrix() is just the explicit form of that in OpenSCAD. Although 
such matrices can express things like perspective, in CAD geometry it is 
most commonly used to express just translation, scaling, mirroring and 
rotation. Straight lines are preserved for these, but the curvature of 
arcs can be affected by scaling.

Carsten Arnholm




From Torsten.Paul at gmx.de  Sat Mar 19 11:26:59 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sat, 19 Mar 2016 16:26:59 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
Message-ID: <56ED6FC3.7090604@gmx.de>

On 03/18/2016 10:28 AM, Amarjeet Kapoor wrote:
> Now I want to Know from you that which approach you want to be
> used so that I could be able to write my proposal accordingly.
> 
My view on this topic is that we should follow the existing
prototype code and make it actually usable for at least one
of the use cases, main use case being the actual customizer
logic that sparked the feature request.

This could then be integrated as experimental feature in the
dev versions of OpenSCAD to gather some feedback based on
actual use of this feature.

Details for the proposal we can easier discuss on IRC, which
would also be the main communication channel for code related
discussions, it's easier to clarify those questions in a more
interactive way. So I'd suggest to join there.

> When I was reading all the issues there was a link of branch,
> in which the project was already developed.
> https://github.com/openscad/openscad/tree/model-meta-data3
> 
Yes, this has some groundwork in the parser and a partial UI.
It's not really in a state where we can merge it and give it
to users. I do have to refresh my mind about the exact state
of that code, but I think the remaining topics are well
enough to fill the timeline of a GSoC project. And if we
find there's some time left, there's lots of room to expand
to another use case, some of those I started collecting in
https://github.com/openscad/openscad/wiki/Meta-Data-Use-Cases

ciao,
  Torsten.





From jpmendes54 at gmail.com  Sat Mar 19 11:44:13 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Sat, 19 Mar 2016 08:44:13 -0700 (MST)
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
In-Reply-To: <1458329146170-16569.post@n5.nabble.com>
References: <1458169700208-16504.post@n5.nabble.com>
	<56EC50EE.5020004@DasRogges.com>
	<1458329146170-16569.post@n5.nabble.com>
Message-ID: <1458402253953-16581.post@n5.nabble.com>

Ok. Done
The answer was in front of my eyes and I did'nt saw it, simply as to comment
line:

//looped_belt = concat(belt,[belt[0]]);

Case closed

jpmendes






--
View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504p16581.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sat Mar 19 11:46:10 2016
From: doug at moens.org (doug moen)
Date: Sat, 19 Mar 2016 11:46:10 -0400
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458374039947-16578.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
Message-ID: <CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>

OpenSCAD supports affine transformations via multmatrix, but it does not
support the more general class of projective transformations (which
includes the perspective transformation), even though these can also be
represented by 4x4 matrixes.

I've looked at a number of solid modelling languages, in addition to
OpenSCAD, and the only one I've found that supports generalized projective
transformations is SGDL. SGDL is based on projective geometry, which is a
generalization of Euclidean geometry that includes points at infinity. In
SGDL, 3-space coordinates are always represented as homogenous coordinates:
[x,y,z,w], where the point is at infinity if w==0. SGDL also supports
infinitely large solids.

I'm not an expert on projective geometry, but I think the problem with
supporting general projective transformations in a Euclidean geometry
system like OpenSCAD is just that a projective transformation can map a
vertex to a point at infinity, and we have no way to deal with that in our
representation.

Does anybody on the list have a better understanding of this? What are all
the things that would go wrong if we tried to extend multmatrix to support
projective transformations?


On 19 March 2016 at 03:53, wolf <wv99999 at gmail.com> wrote:

> Trygon wrote
> > OpenSCAD currently supports a whole range of specific
> *
> > linear
> *
> >  transformations such as translate(), rotate() and scale(), in addition
> to
> > the generic
> *
> > linear
> *
> >  transformation multmatrix().
> >
> > OpenSCAD does not provide support for non-
> *
> > linear
> *
> >  transformations.
>
> Both statements are false. OpenSCAD currently provides both linear
> transformations (x->a+bx, with a and b constants) and non-linear
> transformations (for example:  translate([sin20,cos(30),tan(10)]) is
> perfectly legal, though not necessarily meaningful. Rotations are
> inherently
> non-linear transformations, as they involve sines and cosines). Instead of
> *linear*, Trygon should have used the term *affine* to describe current
> OpenSCAD's capabilities.
> But doing so has consequences: Since one of the properties of an affine
> transformation is that straight lines are transformed into other straight
> lines, this implies that as long as OpenSCAD wants to output .stl files, it
> cannot support non-affine transformations.
> After all, a .stl file is nothing but a [structured] list of vertices,
> which
> are connected by straight lines, and not curved ones as is inevitable for
> non-affine transformations.
>
> BTW, doug.moen's algorithm does not have any value either. This is because
> when, say, a square is subjected to an affine transformation, it must
> remain
> a quadrangle (i.e. its vertex count remains unchanged), and it must remain
> flat. That is part and parcel of an affine transformation. Thus there is no
> need to create extra vertices.
>
> Finally, the outcome of the multiplication of one or several vector(s) with
> a matrix (that is what multmatrix() is) need not be restricted to affine
> transformations. Some OpenSCAD shapes allow a twist parameter - the
> restriction arises out of the need to produce .stl files. Twist is the
> implemented as a succession of skew transformations.
>
> wolf
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Non-Linear-Transformations-tp14539p16578.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160319/567d3b09/attachment.html>

From R.E.Wolff at BitWizard.nl  Sat Mar 19 14:00:49 2016
From: R.E.Wolff at BitWizard.nl (Rogier Wolff)
Date: Sat, 19 Mar 2016 19:00:49 +0100
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
Message-ID: <20160319180048.GB17294@BitWizard.nl>

On Sat, Mar 19, 2016 at 11:46:10AM -0400, doug moen wrote:
> OpenSCAD supports affine transformations via multmatrix, but it does not
> support the more general class of projective transformations (which
> includes the perspective transformation), even though these can also be
> represented by 4x4 matrixes.
> 
> I've looked at a number of solid modelling languages, in addition to
> OpenSCAD, and the only one I've found that supports generalized projective
> transformations is SGDL. SGDL is based on projective geometry, which is a
> generalization of Euclidean geometry that includes points at infinity. In
> SGDL, 3-space coordinates are always represented as homogenous coordinates:
> [x,y,z,w], where the point is at infinity if w==0. SGDL also supports
> infinitely large solids.

I took "computer graphics" at caltech from Prof. Jim Blinn in 1985....
He is a big proponent of this way of working.

Points in three-space are represented by [x, y, z, 1]. A projection
(in 4-space) towards the origin on the w=1 plane (ehh solid) happens
when you divide by w to "come back to 3-space". This also means you
can do 3D->2D projections. 

Because you start with w=1, you have a constant that you can add to
xyz, to perform translations.

Everything is linear, so for example a rotation followed by a
translation can be done in one step by multiplying their matrices.

How all this applies to openscad, I don't know. I have too little
familiarity with the openscad internals.

	Roger. 



-- 
** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
**    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
*-- BitWizard writes Linux device drivers for any device you may have! --*
The plan was simple, like my brother-in-law Phil. But unlike
Phil, this plan just might work.


From saul.jaspan at gmail.com  Sat Mar 19 17:51:10 2016
From: saul.jaspan at gmail.com (GooperMC)
Date: Sat, 19 Mar 2016 14:51:10 -0700 (MST)
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in lower
	resolution
Message-ID: <1458424270152-16584.post@n5.nabble.com>

I have a project where I am trying to model a involute curve.  I have a
function which returns a list of points where one of the parameters is how
many points it should return.  When it generates a few points the curve
actually looks smoother than when I generate lots of points.  When I
generate tons of points (more than lots :) ) it actually doesn't display
anything at all.  

Here is a screen shot of simplified code which demonstrates the problem and
the generated shapes:
<http://forum.openscad.org/file/n16584/involute-curve.png> 

I'm a noob with OpenSCAD so I'm probably doing something stupid.  Thanks for
any help!





--
View this message in context: http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sat Mar 19 17:56:09 2016
From: doug at moens.org (doug moen)
Date: Sat, 19 Mar 2016 17:56:09 -0400
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in
 lower resolution
In-Reply-To: <1458424270152-16584.post@n5.nabble.com>
References: <1458424270152-16584.post@n5.nabble.com>
Message-ID: <CAGV6i+OKsqrfPcDDpp2N4qtwEJgkUAbwevrigSd2WGXNEStB1Q@mail.gmail.com>

This sounds like a known bug,
https://github.com/openscad/openscad/issues/999

On 19 March 2016 at 17:51, GooperMC <saul.jaspan at gmail.com> wrote:

> I have a project where I am trying to model a involute curve.  I have a
> function which returns a list of points where one of the parameters is how
> many points it should return.  When it generates a few points the curve
> actually looks smoother than when I generate lots of points.  When I
> generate tons of points (more than lots :) ) it actually doesn't display
> anything at all.
>
> Here is a screen shot of simplified code which demonstrates the problem and
> the generated shapes:
> <http://forum.openscad.org/file/n16584/involute-curve.png>
>
> I'm a noob with OpenSCAD so I'm probably doing something stupid.  Thanks
> for
> any help!
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160319/7e22bf9c/attachment.html>

From mschafer at wireframe.biz  Sat Mar 19 18:21:41 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 19 Mar 2016 15:21:41 -0700 (MST)
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in
 lower resolution
In-Reply-To: <CAGV6i+OKsqrfPcDDpp2N4qtwEJgkUAbwevrigSd2WGXNEStB1Q@mail.gmail.com>
References: <1458424270152-16584.post@n5.nabble.com>
	<CAGV6i+OKsqrfPcDDpp2N4qtwEJgkUAbwevrigSd2WGXNEStB1Q@mail.gmail.com>
Message-ID: <1458426101858-16586.post@n5.nabble.com>

So a suggested workaround is to upscale your scene by 100 or more.



--
View this message in context: http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584p16586.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Sat Mar 19 20:26:37 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sat, 19 Mar 2016 17:26:37 -0700 (MST)
Subject: [OpenSCAD] How to deform a timing belt to follow a certain path?
In-Reply-To: <1458324848900-16564.post@n5.nabble.com>
References: <1458169700208-16504.post@n5.nabble.com>
	<1458172094933-16506.post@n5.nabble.com>
	<1458324848900-16564.post@n5.nabble.com>
Message-ID: <1458433597587-16587.post@n5.nabble.com>

Well have a look into the code. I guess it closes the path somewhere to avoid
boundary conditions for orientation and slope of start and end points. 

But is't a timing belt closed anyway?

Rudolf



--
View this message in context: http://forum.openscad.org/How-to-deform-a-timing-belt-to-follow-a-certain-path-tp16504p16587.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From wv99999 at gmail.com  Sat Mar 19 22:22:42 2016
From: wv99999 at gmail.com (wolf)
Date: Sat, 19 Mar 2016 19:22:42 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <20160319180048.GB17294@BitWizard.nl>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<20160319180048.GB17294@BitWizard.nl>
Message-ID: <1458440562309-16588.post@n5.nabble.com>

When I researched, and made, my previous comment, I allowed myself to be
guided by conservation laws. Conservation laws are very powerful constructs,
as they tell you what you need not to bother with when planning a change,
and as such reduce the complexity of your task. They also permit you to
freely change the direction of your reasoning, going about designing first
the roof of your house or the foundations, or even the place where the
computer sits on which you do OpenSCAD. The result will always be the same,
but the traps you fall into when you do your planning will differ.
OpenSCAD's output is not a value in itself, but rather a tool to access the
capabilities of other tools, such as a 3D printer or a laser cutter. Thus,
it makes sense to start from the end, from the limitations that a .stl file
output places on OpenSCAD's internals. 
If you open up the .stl of cube([1,1,1]) in a text editor, you get, after
the removal of some spaces and <newlines> (and sorting on the facet normal,
just to make the internal structure clearer), this table:

solid OpenSCAD_Model
  facet normal -1 0 0   outer  loop   vertex  0 1 1   vertex 0 0 0   vertex 
0 0 0  endloop  endfacet
  facet normal -1 0 0   outer  loop   vertex  0 0 0   vertex 0 1 1   vertex 
0 1 1  endloop  endfacet
  facet normal 0 -1 0   outer  loop   vertex  1 0 1   vertex 0 0 0   vertex 
0 0 0  endloop  endfacet
  facet normal 0 -1 0   outer  loop   vertex  0 0 0   vertex 1 0 1   vertex 
1 0 1  endloop  endfacet
  facet normal 0 0 -1   outer  loop   vertex  1 1 0   vertex 0 0 0   vertex 
0 0 0  endloop  endfacet
  facet normal 0 0 -1   outer  loop   vertex  0 0 0   vertex 1 1 0   vertex 
1 1 0  endloop  endfacet
  facet normal 0 0 1    outer  loop   vertex  1 0 1   vertex 0 1 1   vertex 
0 1 1  endloop  endfacet
  facet normal 0 0 1    outer  loop   vertex  0 1 1   vertex 1 0 1   vertex 
1 0 1  endloop  endfacet
  facet normal 0 1 0    outer  loop   vertex  1 1 0   vertex 0 1 1   vertex 
0 1 1  endloop  endfacet
  facet normal 0 1 0    outer  loop   vertex  0 1 1   vertex 1 1 0   vertex 
1 1 0  endloop  endfacet
  facet normal 1 0 0    outer  loop   vertex  1 1 0   vertex 1 0 1   vertex 
1 0 1  endloop  endfacet
  facet normal 1 0 0    outer  loop   vertex  1 0 1   vertex 1 1 0   vertex 
1 1 0  endloop  endfacet
endsolid OpenSCAD_Model

Unlike what Wikipedia  https://en.wikipedia.org/wiki/STL_%28file_format%29
makes me expect, there are twice as many facets listed as a cube has faces,
and each facet points only to two vertices. I haven't investigated so far
whether this is due to an OpenSCAD bug or inappropriate Wikipedia
information.

As to the question on the usefulness of projective geometry extensions to
OpenSCAD, I fail to see the usefulness of it. Yes, the display looks nicer,
and you can easily program tapers, but how often is that used? So my vote is
against it, as is my vote against extensions to multmatrix(). Here I would
rather follow the philosophy projected with OpenSCAD2: simpler is better,
and deprecate multmatrix(), because it requires so much background in
mathematics to use it effectively. The useful portions of multmatrix() have
already been extracted into other transformations, as this program segment
shows:

TranslatMatrix= [ [1, 0, 0, 10],
                  [0, 1, 0, 20],
                  [0, 0, 1, 30],
                  [0, 0, 0,  1]
                ];
ScaleMatrix=    [ [1, 0, 0, 0],
                  [0, 1/2, 0, 0],
                  [0, 0, 1/3, 0],
                  [0, 0, 0,  1]
                ];
Rotate_Around_X=[ [1, 0, 0, 0],                 //source:
https://en.wikipedia.org/wiki/Rotation_formalisms_in_three_dimensions
                  [0, cos(30), -sin(30), 0],
                  [0, sin(30), cos(30), 0],
                  [0, 0, 0, 1]
                ];
Rotate_Around_Y=[ [cos(30), 0, sin(30), 0],
                  [ 0, 1, 0, 0],
                  [-sin(30), 0,cos(30), 0],
                  [0, 0, 0, 1]
                ];
Rotate_Around_Z=[ [cos(30), -sin(30), 0, 0],
                  [sin(30), cos(30), 0, 0],
                  [0, 0, 1, 0],
                  [0, 0, 0, 1]
                ];
//SkewMatrix=     // source: 
https://en.wikipedia.org/wiki/Rotation_matrix#Skew_parameters_via_Cayley.27s_formula
                  //  https://en.wikipedia.org/wiki/Cayley_transform
                  //  https://en.wikipedia.org/wiki/Skew-symmetric_matrix
                  
//T_Simple();
//T_mult();
//S_Simple();
//S_mult();
//R_X_Simple();
//R_X_mult();
//R_Y_mult();
R_Z_mult();


module T_Simple()    //this is one way of doing a translation    
  translate([10,20,30]) 
  cube([10,20,30]);
module T_mult()    //this is another way of doing the same translation    
  multmatrix(m = TranslatMatrix)  
  cube([10,20,1/3]);
module S_Simple()    //this is one way of doing scaling 
  scale([1,1/2,1/3]) 
  cube([10,20,30]);
module S_mult()    //this is another way of doing the same scaling    
  multmatrix(m = ScaleMatrix)  
  cube([10,20,30]);
module R_X_Simple()    //this is one way of doing a rotation around the x
axis
  rotate(30,[1,0,0]) 
  cube([10,20,30]);
module R_X_mult()    //this is another way of doing the same rotation around
the x axis  
  multmatrix(m = Rotate_Around_X)  
  cube([10,20,30]);
module R_Y_mult()    //this is a rotation around the y axis 
  multmatrix(m = Rotate_Around_Y)  
  cube([10,20,30]);
module R_Z_mult()    //this is a rotation around the z axis    
  multmatrix(m = Rotate_Around_Z)  
  cube([10,20,30]);

As far as I know, skew or shear transformations currently require the use of
multmatrix(), but then who uses them?
Because Marius Kintel asked for them, I outline here another transformation:
offset.

$fn=50;
Diameter=2;      // diameter of sphere from which ellipsoid is created
Offset=0.1*Diameter;     
MaxDim=[3*Diameter,1*Diameter,.5*Diameter];     // long axes of ellipsoid

MakeOffset();
MakeCutout();
TestPosition();

module MakeOffset()
  scale([1-2*Offset/MaxDim[0],1-2*Offset/MaxDim[1],1-2*Offset/MaxDim[2]]) 
// for a true offset, MaxDim[...] needs to be replaced with the norm of each
vertex for the ellipsoid
  Ellipsoid();
module TestPosition()
  translate([MaxDim[0]/2-Offset/2,0,0])     sphere(d=Offset);
  translate([0,-(MaxDim[1]/2-Offset/2),0])  sphere(d=Offset);
  translate([0,0,MaxDim[2]/2-Offset/2])     sphere(d=Offset);
module MakeCutout()
  difference()
  { Ellipsoid();
    translate([0,-15,15])  cube([70,30,30], center=true);
  }
module Ellipsoid()
  scale([MaxDim[0]/Diameter,MaxDim[1]/Diameter,MaxDim[2]/Diameter])  
  sphere(d=Diameter);

It doesn't quite work in userspace, but comes pretty close. One line, as
commented, needs access to the vertex vectors, which OpenSCAD does not
readily provide. Work for someone with knowledge of the internals.
<http://forum.openscad.org/file/n16588/Offset.jpg> 
The yellow color in the cutout indicates a problem OpenSCAD has with the
faces created by module MakeCutout(). Probably inside-out faces. They were
made with version 2015.03-1.

wolf




--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16588.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sat Mar 19 23:42:26 2016
From: doug at moens.org (doug moen)
Date: Sat, 19 Mar 2016 23:42:26 -0400
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458440562309-16588.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<20160319180048.GB17294@BitWizard.nl>
	<1458440562309-16588.post@n5.nabble.com>
Message-ID: <CAGV6i+O=aWw8NP6kixXtrYUd1QCG6Wg2r9iYwCZZT=50HBRogw@mail.gmail.com>

Wolf said: "Unlike what Wikipedia
https://en.wikipedia.org/wiki/STL_%28file_format%29
makes me expect, there are twice as many facets listed as a cube has faces,
and each facet points only to two vertices. I haven't investigated so far
whether this is due to an OpenSCAD bug or inappropriate Wikipedia
information."

The Wikipedia article is correct and this is not an OpenSCAD bug. An STL
file contains a list of triangles, each of which has 3 vertices. A cube has
6 square faces, and each square must be split into 2 triangles in order to
be represented by STL. So that's 6 * 2 = 12 triangles.

The wikipedia article addresses your point of confusing by stating this:"The
structure of the format suggests that other possibilities exist (e.g.,
facets with more than one "loop", or loops with more than three vertices).
In practice, however, all facets are simple triangles."

On 19 March 2016 at 22:22, wolf <wv99999 at gmail.com> wrote:

> When I researched, and made, my previous comment, I allowed myself to be
> guided by conservation laws. Conservation laws are very powerful
> constructs,
> as they tell you what you need not to bother with when planning a change,
> and as such reduce the complexity of your task. They also permit you to
> freely change the direction of your reasoning, going about designing first
> the roof of your house or the foundations, or even the place where the
> computer sits on which you do OpenSCAD. The result will always be the same,
> but the traps you fall into when you do your planning will differ.
> OpenSCAD's output is not a value in itself, but rather a tool to access the
> capabilities of other tools, such as a 3D printer or a laser cutter. Thus,
> it makes sense to start from the end, from the limitations that a .stl file
> output places on OpenSCAD's internals.
> If you open up the .stl of cube([1,1,1]) in a text editor, you get, after
> the removal of some spaces and <newlines> (and sorting on the facet normal,
> just to make the internal structure clearer), this table:
>
> solid OpenSCAD_Model
>   facet normal -1 0 0   outer  loop   vertex  0 1 1   vertex 0 0 0   vertex
> 0 0 0  endloop  endfacet
>   facet normal -1 0 0   outer  loop   vertex  0 0 0   vertex 0 1 1   vertex
> 0 1 1  endloop  endfacet
>   facet normal 0 -1 0   outer  loop   vertex  1 0 1   vertex 0 0 0   vertex
> 0 0 0  endloop  endfacet
>   facet normal 0 -1 0   outer  loop   vertex  0 0 0   vertex 1 0 1   vertex
> 1 0 1  endloop  endfacet
>   facet normal 0 0 -1   outer  loop   vertex  1 1 0   vertex 0 0 0   vertex
> 0 0 0  endloop  endfacet
>   facet normal 0 0 -1   outer  loop   vertex  0 0 0   vertex 1 1 0   vertex
> 1 1 0  endloop  endfacet
>   facet normal 0 0 1    outer  loop   vertex  1 0 1   vertex 0 1 1   vertex
> 0 1 1  endloop  endfacet
>   facet normal 0 0 1    outer  loop   vertex  0 1 1   vertex 1 0 1   vertex
> 1 0 1  endloop  endfacet
>   facet normal 0 1 0    outer  loop   vertex  1 1 0   vertex 0 1 1   vertex
> 0 1 1  endloop  endfacet
>   facet normal 0 1 0    outer  loop   vertex  0 1 1   vertex 1 1 0   vertex
> 1 1 0  endloop  endfacet
>   facet normal 1 0 0    outer  loop   vertex  1 1 0   vertex 1 0 1   vertex
> 1 0 1  endloop  endfacet
>   facet normal 1 0 0    outer  loop   vertex  1 0 1   vertex 1 1 0   vertex
> 1 1 0  endloop  endfacet
> endsolid OpenSCAD_Model
>
> Unlike what Wikipedia  https://en.wikipedia.org/wiki/STL_%28file_format%29
> makes me expect, there are twice as many facets listed as a cube has faces,
> and each facet points only to two vertices. I haven't investigated so far
> whether this is due to an OpenSCAD bug or inappropriate Wikipedia
> information.
>
> As to the question on the usefulness of projective geometry extensions to
> OpenSCAD, I fail to see the usefulness of it. Yes, the display looks nicer,
> and you can easily program tapers, but how often is that used? So my vote
> is
> against it, as is my vote against extensions to multmatrix(). Here I would
> rather follow the philosophy projected with OpenSCAD2: simpler is better,
> and deprecate multmatrix(), because it requires so much background in
> mathematics to use it effectively. The useful portions of multmatrix() have
> already been extracted into other transformations, as this program segment
> shows:
>
> TranslatMatrix= [ [1, 0, 0, 10],
>                   [0, 1, 0, 20],
>                   [0, 0, 1, 30],
>                   [0, 0, 0,  1]
>                 ];
> ScaleMatrix=    [ [1, 0, 0, 0],
>                   [0, 1/2, 0, 0],
>                   [0, 0, 1/3, 0],
>                   [0, 0, 0,  1]
>                 ];
> Rotate_Around_X=[ [1, 0, 0, 0],                 //source:
> https://en.wikipedia.org/wiki/Rotation_formalisms_in_three_dimensions
>                   [0, cos(30), -sin(30), 0],
>                   [0, sin(30), cos(30), 0],
>                   [0, 0, 0, 1]
>                 ];
> Rotate_Around_Y=[ [cos(30), 0, sin(30), 0],
>                   [ 0, 1, 0, 0],
>                   [-sin(30), 0,cos(30), 0],
>                   [0, 0, 0, 1]
>                 ];
> Rotate_Around_Z=[ [cos(30), -sin(30), 0, 0],
>                   [sin(30), cos(30), 0, 0],
>                   [0, 0, 1, 0],
>                   [0, 0, 0, 1]
>                 ];
> //SkewMatrix=     // source:
>
> https://en.wikipedia.org/wiki/Rotation_matrix#Skew_parameters_via_Cayley.27s_formula
>                   //  https://en.wikipedia.org/wiki/Cayley_transform
>                   //  https://en.wikipedia.org/wiki/Skew-symmetric_matrix
>
> //T_Simple();
> //T_mult();
> //S_Simple();
> //S_mult();
> //R_X_Simple();
> //R_X_mult();
> //R_Y_mult();
> R_Z_mult();
>
>
> module T_Simple()    //this is one way of doing a translation
>   translate([10,20,30])
>   cube([10,20,30]);
> module T_mult()    //this is another way of doing the same translation
>   multmatrix(m = TranslatMatrix)
>   cube([10,20,1/3]);
> module S_Simple()    //this is one way of doing scaling
>   scale([1,1/2,1/3])
>   cube([10,20,30]);
> module S_mult()    //this is another way of doing the same scaling
>   multmatrix(m = ScaleMatrix)
>   cube([10,20,30]);
> module R_X_Simple()    //this is one way of doing a rotation around the x
> axis
>   rotate(30,[1,0,0])
>   cube([10,20,30]);
> module R_X_mult()    //this is another way of doing the same rotation
> around
> the x axis
>   multmatrix(m = Rotate_Around_X)
>   cube([10,20,30]);
> module R_Y_mult()    //this is a rotation around the y axis
>   multmatrix(m = Rotate_Around_Y)
>   cube([10,20,30]);
> module R_Z_mult()    //this is a rotation around the z axis
>   multmatrix(m = Rotate_Around_Z)
>   cube([10,20,30]);
>
> As far as I know, skew or shear transformations currently require the use
> of
> multmatrix(), but then who uses them?
> Because Marius Kintel asked for them, I outline here another
> transformation:
> offset.
>
> $fn=50;
> Diameter=2;      // diameter of sphere from which ellipsoid is created
> Offset=0.1*Diameter;
> MaxDim=[3*Diameter,1*Diameter,.5*Diameter];     // long axes of ellipsoid
>
> MakeOffset();
> MakeCutout();
> TestPosition();
>
> module MakeOffset()
>   scale([1-2*Offset/MaxDim[0],1-2*Offset/MaxDim[1],1-2*Offset/MaxDim[2]])
> // for a true offset, MaxDim[...] needs to be replaced with the norm of
> each
> vertex for the ellipsoid
>   Ellipsoid();
> module TestPosition()
>   translate([MaxDim[0]/2-Offset/2,0,0])     sphere(d=Offset);
>   translate([0,-(MaxDim[1]/2-Offset/2),0])  sphere(d=Offset);
>   translate([0,0,MaxDim[2]/2-Offset/2])     sphere(d=Offset);
> module MakeCutout()
>   difference()
>   { Ellipsoid();
>     translate([0,-15,15])  cube([70,30,30], center=true);
>   }
> module Ellipsoid()
>   scale([MaxDim[0]/Diameter,MaxDim[1]/Diameter,MaxDim[2]/Diameter])
>   sphere(d=Diameter);
>
> It doesn't quite work in userspace, but comes pretty close. One line, as
> commented, needs access to the vertex vectors, which OpenSCAD does not
> readily provide. Work for someone with knowledge of the internals.
> <http://forum.openscad.org/file/n16588/Offset.jpg>
> The yellow color in the cutout indicates a problem OpenSCAD has with the
> faces created by module MakeCutout(). Probably inside-out faces. They were
> made with version 2015.03-1.
>
> wolf
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Non-Linear-Transformations-tp14539p16588.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160319/7f92fab7/attachment.html>

From bioinformatics at gringene.org  Sun Mar 20 04:52:01 2016
From: bioinformatics at gringene.org (David Eccles (gringer))
Date: Sun, 20 Mar 2016 01:52:01 -0700 (MST)
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in
 lower resolution
In-Reply-To: <1458424270152-16584.post@n5.nabble.com>
References: <1458424270152-16584.post@n5.nabble.com>
Message-ID: <1458463921396-16590.post@n5.nabble.com>

GooperMC wrote
> I have a project where I am trying to model a involute curve.  I have a
> function which returns a list of points where one of the parameters is how
> many points it should return.

An involute curve with a specified number of points... that sounds familiar:

http://www.thingiverse.com/thing:195160

See the file 'gear_maker.scad'. I'm not convinced that I've got the involute
formula correct yet, but perhaps it might help you in working out how to do
this:

// note: pressure angle is not quite right. Max width is at a little bit
over 45 degrees

function involute(involute_angle) =
    [(involute_angle*cos(involute_angle)),
     (involute_angle*sin(involute_angle))];

function involute0(d_y, add_frac, p_ang, involute_angle) =
   
[d_y*(involute_angle*cos(involute_angle))/((45+p_ang)*cos(45+p_ang)*2*sqrt(2)),
          d_y*(((involute_angle*sin(involute_angle)<=(90*add_frac))?
           
involute_angle*sin(involute_angle):(90*add_frac))-((45+p_ang)*sin((45+p_ang))))/((45+p_ang)*cos(45+p_ang)*2*sqrt(2))];

function make_tooth(d_y, add_frac=0.90, p_ang=0.2, n_pts=30, res=[]) =
    (len(res) > n_pts) ? res :
        make_tooth(d_y=d_y,
            add_frac=add_frac, p_ang=p_ang, n_pts=n_pts,
            res=concat(res,[involute0(d_y=d_y,
                            add_frac=add_frac, p_ang=p_ang,
                            involute_angle=len(res)*180/n_pts-90)]));

...

myPath=make_tooth(20, add_frac=1, p_ang=0, n_pts=30);
polygon(points=myPath);




--
View this message in context: http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584p16590.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Sun Mar 20 05:31:13 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sun, 20 Mar 2016 02:31:13 -0700 (MST)
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in
 lower resolution
In-Reply-To: <1458463921396-16590.post@n5.nabble.com>
References: <1458424270152-16584.post@n5.nabble.com>
	<1458463921396-16590.post@n5.nabble.com>
Message-ID: <1458466273049-16591.post@n5.nabble.com>

Involute curves and gears:
I put quite some effort into a version for inkscape. Master repo is here:
   - https://github.com/jnweiger/inkscape-gears-dev
Maybe some of the math wil be useful to you.
Good reference links too.

One day I'll do a gearbox plugin that uses it.



--
View this message in context: http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584p16591.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sun Mar 20 09:04:36 2016
From: doug at moens.org (doug moen)
Date: Sun, 20 Mar 2016 09:04:36 -0400
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in
 lower resolution
In-Reply-To: <1458463921396-16590.post@n5.nabble.com>
References: <1458424270152-16584.post@n5.nabble.com>
	<1458463921396-16590.post@n5.nabble.com>
Message-ID: <CAGV6i+NudkUSJ3HDc+8joihjNVmK_6BtNsOqrF-Z9L2AWbZidw@mail.gmail.com>

There is an involute gear library included in the OpenSCAD distribution.

include <MCAD/involute_gears.scad>

Read the source code on your local hard drive for details.

On 20 March 2016 at 04:52, David Eccles (gringer) <
bioinformatics at gringene.org> wrote:

> GooperMC wrote
> > I have a project where I am trying to model a involute curve.  I have a
> > function which returns a list of points where one of the parameters is
> how
> > many points it should return.
>
> An involute curve with a specified number of points... that sounds
> familiar:
>
> http://www.thingiverse.com/thing:195160
>
> See the file 'gear_maker.scad'. I'm not convinced that I've got the
> involute
> formula correct yet, but perhaps it might help you in working out how to do
> this:
>
> // note: pressure angle is not quite right. Max width is at a little bit
> over 45 degrees
>
> function involute(involute_angle) =
>     [(involute_angle*cos(involute_angle)),
>      (involute_angle*sin(involute_angle))];
>
> function involute0(d_y, add_frac, p_ang, involute_angle) =
>
>
> [d_y*(involute_angle*cos(involute_angle))/((45+p_ang)*cos(45+p_ang)*2*sqrt(2)),
>           d_y*(((involute_angle*sin(involute_angle)<=(90*add_frac))?
>
>
> involute_angle*sin(involute_angle):(90*add_frac))-((45+p_ang)*sin((45+p_ang))))/((45+p_ang)*cos(45+p_ang)*2*sqrt(2))];
>
> function make_tooth(d_y, add_frac=0.90, p_ang=0.2, n_pts=30, res=[]) =
>     (len(res) > n_pts) ? res :
>         make_tooth(d_y=d_y,
>             add_frac=add_frac, p_ang=p_ang, n_pts=n_pts,
>             res=concat(res,[involute0(d_y=d_y,
>                             add_frac=add_frac, p_ang=p_ang,
>                             involute_angle=len(res)*180/n_pts-90)]));
>
> ...
>
> myPath=make_tooth(20, add_frac=1, p_ang=0, n_pts=30);
> polygon(points=myPath);
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584p16590.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/6d9ccf09/attachment.html>

From lboyd at frontiernet.net  Sun Mar 20 09:39:12 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Sun, 20 Mar 2016 06:39:12 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
Message-ID: <1458481152634-16593.post@n5.nabble.com>

How important is a print version of the OpenSCAD manual as opposed to the
online version?

WikiBooks expects all books to have a printable version. Personally, I find
this of no value for OpenSCAD, although I have occasionally printed short
sections.

The online version has grown without regard to being part of a print book.
The individual topics are randomly scattered over several files with no
thought to logical order, or grouping.  The WikiBooks print mechanism allows
one to direct the file order, but it prints each complete file. There does
not appear to be any mechanism to print selected portions. Attempting for a
logical arrangement can result in some files being printed multiple times.
The only real fix it to rearrange the physical file contents, once a logical
order for topics has be determined,

Using the manual online allows creation of a virtual order. The disorder of
the some files is only visible when scrolling from the selected topic to
those adjacent. The fact that some topics are physically grouped illogically
is less important than in a printed version.

The cheat sheet is a excellent example of a virtual ordering. To maintain
its usefulness, it only includes the most popular topics.

An attempt a virtual order for all the contents is at
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual


So my question: Is maintaining a print version of OpenSCAD worthwhile or
should we drop the pretense and simply state that a printable version is not
available?



-----
Larry
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jdawgaz at gmail.com  Sun Mar 20 10:06:47 2016
From: jdawgaz at gmail.com (Jerry Davis)
Date: Sun, 20 Mar 2016 07:06:47 -0700
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458481152634-16593.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
Message-ID: <CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>

There are some times, I have used OpenSCAD remotely. Read that sans
Internet. Like at club meetings, where there is no internet available.
I have lamented the fact that I can't use "offline" help. Especially the
cheat sheet.

I have tried the following:

wget -k -r -l20 ??execute robots=off
http://www.openscad.org/cheatsheet/index.html?version=2016.01.27, and that
command works for some stuff, but not for the cheatsheet.

Even with the wget command, the cheatsheet still looks like this:

<code><a href="
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#3D_to_2D_Projection
">projection</a>(cut)</code>

I would LOVE a cheatsheet that I could use locally "offline".

Jerry


--
Extra Ham Operator: K7AZJ
Registered Linux User: 275424
Raspberry Pi and Arduino developer


*The most exciting phrase to hear in science - the one that heralds new
discoveries - is not "Eureka!" but "That's funny...".*- Isaac. Asimov

*I*
*f you give someone a program, you will frustrate them for a day; if you
teach them how to program, you will frustrate them for a lifetime. *-
Anonymous


*If writing good code requires very little comments, then writing really
excellent code requires no comments at all!*- Ken Thompson

On Sun, Mar 20, 2016 at 6:39 AM, L Boyd <lboyd at frontiernet.net> wrote:

> How important is a print version of the OpenSCAD manual as opposed to the
> online version?
>
> WikiBooks expects all books to have a printable version. Personally, I find
> this of no value for OpenSCAD, although I have occasionally printed short
> sections.
>
> The online version has grown without regard to being part of a print book.
> The individual topics are randomly scattered over several files with no
> thought to logical order, or grouping.  The WikiBooks print mechanism
> allows
> one to direct the file order, but it prints each complete file. There does
> not appear to be any mechanism to print selected portions. Attempting for a
> logical arrangement can result in some files being printed multiple times.
> The only real fix it to rearrange the physical file contents, once a
> logical
> order for topics has be determined,
>
> Using the manual online allows creation of a virtual order. The disorder of
> the some files is only visible when scrolling from the selected topic to
> those adjacent. The fact that some topics are physically grouped
> illogically
> is less important than in a printed version.
>
> The cheat sheet is a excellent example of a virtual ordering. To maintain
> its usefulness, it only includes the most popular topics.
>
> An attempt a virtual order for all the contents is at
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual
>
>
> So my question: Is maintaining a print version of OpenSCAD worthwhile or
> should we drop the pretense and simply state that a printable version is
> not
> available?
>
>
>
> -----
> Larry
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/c9a89be5/attachment.html>

From jon at jonbondy.com  Sun Mar 20 10:10:53 2016
From: jon at jonbondy.com (jon)
Date: Sun, 20 Mar 2016 10:10:53 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>
Message-ID: <56EEAF6D.2040508@jonbondy.com>

Agreed.  Having a working local manual, no matter the technology, would 
be very useful.  HTML.  Help. PDF with working links. Whatever works.

Jon

On 3/20/2016 10:06 AM, Jerry Davis wrote:
> There are some times, I have used OpenSCAD remotely. Read that sans 
> Internet. Like at club meetings, where there is no internet available.
> I have lamented the fact that I can't use "offline" help. Especially 
> the cheat sheet.
>
> I have tried the following:
>
> wget -k -r -l20 ??execute robots=off 
> http://www.openscad.org/cheatsheet/index.html?version=2016.01.27, and 
> that command works for some stuff, but not for the cheatsheet.
>
> Even with the wget command, the cheatsheet still looks like this:
>
> <code><a 
> href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_the_2D_Subsystem#3D_to_2D_Projection">projection</a>(cut)</code>
>
> I would LOVE a cheatsheet that I could use locally "offline".
>
> Jerry
>
>



From doug at moens.org  Sun Mar 20 10:25:45 2016
From: doug at moens.org (doug moen)
Date: Sun, 20 Mar 2016 10:25:45 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458481152634-16593.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
Message-ID: <CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>

The OpenSCAD Language Reference located at:
   https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language

is a "printable version". What that really means is that it is organized as
a single long HTML file, and the table of contents at the top is accurate,
since it is automatically generated from the contents. You can search the
entire language reference manual using the "search within this page"
feature of your web browser. The benefits of this version, for me, have
nothing to do with printing.

There is another table of contents for the Language Reference Manual at
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual, but it isn't not
automatically generated from the print version. It's not maintained, and
it's inaccurate/out of date. It should be deleted, or we should find some
way to transclude the correct TOC from the print version.

I don't use the regular user manual, but if I did, I would prefer to use
the printable version, to take advantage of online searchability. Sounds
like it needs some maintenance. I recently fixed some bad problems with
duplicated content in the "printable" version of the language reference
manual, and from your description, it sounds like the user manual suffers
from the same problems.

Doug Moen.

On 20 March 2016 at 09:39, L Boyd <lboyd at frontiernet.net> wrote:

> How important is a print version of the OpenSCAD manual as opposed to the
> online version?
>
> WikiBooks expects all books to have a printable version. Personally, I find
> this of no value for OpenSCAD, although I have occasionally printed short
> sections.
>
> The online version has grown without regard to being part of a print book.
> The individual topics are randomly scattered over several files with no
> thought to logical order, or grouping.  The WikiBooks print mechanism
> allows
> one to direct the file order, but it prints each complete file. There does
> not appear to be any mechanism to print selected portions. Attempting for a
> logical arrangement can result in some files being printed multiple times.
> The only real fix it to rearrange the physical file contents, once a
> logical
> order for topics has be determined,
>
> Using the manual online allows creation of a virtual order. The disorder of
> the some files is only visible when scrolling from the selected topic to
> those adjacent. The fact that some topics are physically grouped
> illogically
> is less important than in a printed version.
>
> The cheat sheet is a excellent example of a virtual ordering. To maintain
> its usefulness, it only includes the most popular topics.
>
> An attempt a virtual order for all the contents is at
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual
>
>
> So my question: Is maintaining a print version of OpenSCAD worthwhile or
> should we drop the pretense and simply state that a printable version is
> not
> available?
>
>
>
> -----
> Larry
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/493c364c/attachment.html>

From Torsten.Paul at gmx.de  Sun Mar 20 10:38:02 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sun, 20 Mar 2016 15:38:02 +0100
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <56EEAF6D.2040508@jonbondy.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>
	<56EEAF6D.2040508@jonbondy.com>
Message-ID: <56EEB5CA.3050501@gmx.de>

On 03/20/2016 03:10 PM, jon wrote:
> Agreed.  Having a working local manual, no matter the technology, would
> be very useful.  HTML.  Help. PDF with working links. Whatever works.
>
The tool to create that is already there. Runsun created a nice
script to fetch and cleanup the HTML pages.

http://forum.openscad.org/Use-openscad-offliner-for-offline-documentation-td13096.html

It would be nice to integrate that into the build process and
deliver it as off-line manual, probably also as additional
package.

The main challenge is how to handle that as we don't want to
scrape Wikibooks every time a new build is done. So the process
needs to be a little bit more than just call in every build.

ciao,
  Torsten.




From Torsten.Paul at gmx.de  Sun Mar 20 10:39:38 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sun, 20 Mar 2016 15:39:38 +0100
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458481152634-16593.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
Message-ID: <56EEB62A.8070608@gmx.de>

On 03/20/2016 02:39 PM, L Boyd wrote:
> WikiBooks expects all books to have a printable version. Personally, I find
> this of no value for OpenSCAD, although I have occasionally printed short
> sections.
> 
Is that somewhere in the official docs? I did not find it when reading
quickly over the "What is Wikibooks" pages...

ciao,
  Torsten.



From jdawgaz at gmail.com  Sun Mar 20 11:45:44 2016
From: jdawgaz at gmail.com (Jerry Davis)
Date: Sun, 20 Mar 2016 08:45:44 -0700
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <56EEB62A.8070608@gmx.de>
References: <1458481152634-16593.post@n5.nabble.com> <56EEB62A.8070608@gmx.de>
Message-ID: <CAMyDR6LWVcpCMqYPrbNBcyRTr7c-0-dQ3JXAUa=4CZB7opoLOQ@mail.gmail.com>

I found the github link in that thread, and downloaded and ran the
openscad_offliner.py script.

got this:

dir_docs= openscad_docs

dir_imgs= openscad_docs/imgs

dir_styles= styles

dir_styles_full= openscad_docs/styles


[1] ====================================

[1] Page #  1

[1] Downloading: https://en.wikibooks.org/wiki/OpenSCAD_User_Manual

[1] # stylesheet link found

[1] # href =
/w/load.php?debug=false&lang=en&modules=ext.flaggedRevs.basic%7Cext.gadget.extlinks%7Cext.inputBox.styles%7Cext.tmh.thumbnail.styles%7Cext.uls.nojs%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediaBadges%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.raggett%2CsectionAnchor%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%2Ccheckbox%2Cinput%7Cskins.vector.styles%7Cwikibase.client.init&only=styles&skin=vector

[1] # :: download_style(
/w/load.php?debug=false&lang=en&modules=ext.flaggedRevs.basic%7Cext.gadget.extlinks%7Cext.inputBox.styles%7Cext.tmh.thumbnail.styles%7Cext.uls.nojs%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediaBadges%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.raggett%2CsectionAnchor%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%2Ccheckbox%2Cinput%7Cskins.vector.styles%7Cwikibase.client.init&only=styles&skin=vector
)

[1] # :: Assign style name: style_0.css

[1] # :: Downloading new style:
/w/load.php?debug=false&lang=en&modules=ext.flaggedRevs.basic%7Cext.gadget.extlinks%7Cext.inputBox.styles%7Cext.tmh.thumbnail.styles%7Cext.uls.nojs%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediaBadges%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.raggett%2CsectionAnchor%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%2Ccheckbox%2Cinput%7Cskins.vector.styles%7Cwikibase.client.init&only=styles&skin=vector

Traceback (most recent call last):

  File "./openscad_offliner.py", line 516, in <module>

    handle_page(folder=dir_docs)

  File "./openscad_offliner.py", line 485, in handle_page

    handle_styles( soup, ind )

  File "./openscad_offliner.py", line 130, in handle_styles

    download_style_from_link_tag( soup_link=link, ind=ind )

  File "./openscad_offliner.py", line 149, in download_style_from_link_tag

    (stylename,redirect_path) = download_style( url=href, ind=ind )

  File "./openscad_offliner.py", line 216, in download_style

    response = urllib2.urlopen(url)

  File
"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py",
line 154, in urlopen

    return opener.open(url, data, timeout)

  File
"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py",
line 423, in open

    protocol = req.get_type()

  File
"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py",
line 285, in get_type

    raise ValueError, "unknown url type: %s" % self.__original

ValueError: unknown url type:
/w/load.php?debug=false&lang=en&modules=ext.flaggedRevs.basic%7Cext.gadget.extlinks%7Cext.inputBox.styles%7Cext.tmh.thumbnail.styles%7Cext.uls.nojs%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediaBadges%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.raggett%2CsectionAnchor%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%2Ccheckbox%2Cinput%7Cskins.vector.styles%7Cwikibase.client.init&only=styles&skin=vector




--
Extra Ham Operator: K7AZJ
Registered Linux User: 275424
Raspberry Pi and Arduino developer


*The most exciting phrase to hear in science - the one that heralds new
discoveries - is not "Eureka!" but "That's funny...".*- Isaac. Asimov

*I*
*f you give someone a program, you will frustrate them for a day; if you
teach them how to program, you will frustrate them for a lifetime. *-
Anonymous


*If writing good code requires very little comments, then writing really
excellent code requires no comments at all!*- Ken Thompson

On Sun, Mar 20, 2016 at 7:39 AM, Torsten Paul <Torsten.Paul at gmx.de> wrote:

> On 03/20/2016 02:39 PM, L Boyd wrote:
> > WikiBooks expects all books to have a printable version. Personally, I
> find
> > this of no value for OpenSCAD, although I have occasionally printed short
> > sections.
> >
> Is that somewhere in the official docs? I did not find it when reading
> quickly over the "What is Wikibooks" pages...
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/77de442b/attachment.html>

From lboyd at frontiernet.net  Sun Mar 20 17:36:22 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Sun, 20 Mar 2016 14:36:22 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
Message-ID: <1458509782816-16601.post@n5.nabble.com>

I disagree with the statement that the contents at
https://en.wikibooks.org/wiki/OpenSCAD_User_Manual, is not maintained and is
inaccurate/out of date. When was the last time you looked at it?



-----
Larry
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16601.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From lboyd at frontiernet.net  Sun Mar 20 17:39:12 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Sun, 20 Mar 2016 14:39:12 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <56EEB62A.8070608@gmx.de>
References: <1458481152634-16593.post@n5.nabble.com> <56EEB62A.8070608@gmx.de>
Message-ID: <1458509952586-16602.post@n5.nabble.com>

I found it when learning to use WikiBooks. Don't remember exactly where.


tp3 wrote
> On 03/20/2016 02:39 PM, L Boyd wrote:
>> WikiBooks expects all books to have a printable version. Personally, I
>> find
>> this of no value for OpenSCAD, although I have occasionally printed short
>> sections.
>> 
> Is that somewhere in the official docs? I did not find it when reading
> quickly over the "What is Wikibooks" pages...
> 
> ciao,
>   Torsten.
> 
> 
> _______________________________________________
> OpenSCAD mailing list

> Discuss at .openscad

> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org





-----
Larry
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16602.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Sun Mar 20 17:40:00 2016
From: runsun at gmail.com (runsun)
Date: Sun, 20 Mar 2016 14:40:00 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAMyDR6LWVcpCMqYPrbNBcyRTr7c-0-dQ3JXAUa=4CZB7opoLOQ@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com> <56EEB62A.8070608@gmx.de>
	<CAMyDR6LWVcpCMqYPrbNBcyRTr7c-0-dQ3JXAUa=4CZB7opoLOQ@mail.gmail.com>
Message-ID: <1458510000033-16603.post@n5.nabble.com>

jdawgaz wrote
> I found the github link in that thread, and downloaded and ran the
> openscad_offliner.py script. got this:

I'll take a look.



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16603.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jdawgaz at gmail.com  Sun Mar 20 17:58:31 2016
From: jdawgaz at gmail.com (Jerry Davis)
Date: Sun, 20 Mar 2016 14:58:31 -0700
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458510000033-16603.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com> <56EEB62A.8070608@gmx.de>
	<CAMyDR6LWVcpCMqYPrbNBcyRTr7c-0-dQ3JXAUa=4CZB7opoLOQ@mail.gmail.com>
	<1458510000033-16603.post@n5.nabble.com>
Message-ID: <CAMyDR6JOYb+Ch9Die0=xQTnsf7YswMJwyd6rLWg+mrO70D=zvQ@mail.gmail.com>

thanks, runsun.


--
Extra Ham Operator: K7AZJ
Registered Linux User: 275424
Raspberry Pi and Arduino developer


*The most exciting phrase to hear in science - the one that heralds new
discoveries - is not "Eureka!" but "That's funny...".*- Isaac. Asimov

*I*
*f you give someone a program, you will frustrate them for a day; if you
teach them how to program, you will frustrate them for a lifetime. *-
Anonymous


*If writing good code requires very little comments, then writing really
excellent code requires no comments at all!*- Ken Thompson

On Sun, Mar 20, 2016 at 2:40 PM, runsun <runsun at gmail.com> wrote:

> jdawgaz wrote
> > I found the github link in that thread, and downloaded and ran the
> > openscad_offliner.py script. got this:
>
> I'll take a look.
>
>
>
> -----
>
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ),
> runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ),
> sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2
> ), xl-control , type , rounded polygon
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16603.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/c70aab6b/attachment.html>

From doug at moens.org  Sun Mar 20 18:08:39 2016
From: doug at moens.org (doug moen)
Date: Sun, 20 Mar 2016 18:08:39 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458509782816-16601.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
Message-ID: <CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>

@Larry:

The table of contents for the language reference manual at
/OpenSCAD_User_Manual is different from the table of contents in
/OpenSCAD_User_Manual/The_OpenSCAD_Language.

That's to be expected, because the former has to be edited by hand, while
the latter is automatically updated each time somebody modifies the
language reference manual.

There are lots of sections missing from the manually edited table of
contents, that are present in the automatically generated one. For example,
section 1.6 (Getting Input), section 6.1.2 (intersection_for), sections
6.2.5 to 6.2.8 (vector and matrix operations), section 8.7 (parent_module).

I also noticed that the automatically generated TOC was missing a section
header for Use and Include, so I just added the missing header.

I did some research and I find there is no way to transclude the
automatically generated table of contents from The_OpenSCAD_Language into
OpenSCAD_User_Manual. I don't like the idea of having two TOCs that are out
of sync, so my proposal is to delete the one that is manually maintained,
and keep the automatically generated one.

On 20 March 2016 at 17:36, L Boyd <lboyd at frontiernet.net> wrote:

> I disagree with the statement that the contents at
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual, is not maintained and
> is
> inaccurate/out of date. When was the last time you looked at it?
>
>
>
> -----
> Larry
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16601.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/cbd8935d/attachment.html>

From rudolf at parkinbot.com  Sun Mar 20 18:13:42 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sun, 20 Mar 2016 15:13:42 -0700 (MST)
Subject: [OpenSCAD] incrementing variables in order to slice an object
 and "modulate" it
In-Reply-To: <1458504188976-16600.post@n5.nabble.com>
References: <1458504188976-16600.post@n5.nabble.com>
Message-ID: <1458512022998-16606.post@n5.nabble.com>

You can use a "for" loop. Its iteration variable will change its value and
can be used as function argument.

This would be your code for 30 iterations. Btw there are better ways to
express this (e.g. hull())!


> module test() {
> cube([200,10,10]);
> }
> 
> for (i=[1:30])
>   translate([0,0,(i-1)/10]) 
>   {
>     difference() 
>     {
>       test();
>       translate([i,-100,-1]) cube([300,200,200]);
>       translate([-301-i,-100,-1]) cube([300,200,200]);
>     }
>   }





--
View this message in context: http://forum.openscad.org/incrementing-variables-in-order-to-slice-an-object-and-modulate-it-tp16600p16606.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From johangjonker at zonnet.nl  Sun Mar 20 18:58:59 2016
From: johangjonker at zonnet.nl (Johan Jonker)
Date: Sun, 20 Mar 2016 15:58:59 -0700 (MST)
Subject: [OpenSCAD] Spline interpolation - nSpline()
In-Reply-To: <1451668548506-15406.post@n5.nabble.com>
References: <1450443386867-15207.post@n5.nabble.com>
	<1451318555976-15354.post@n5.nabble.com>
	<1451321056216-15355.post@n5.nabble.com>
	<1451326686077-15356.post@n5.nabble.com>
	<1451343448520-15361.post@n5.nabble.com>
	<1451567975890-15392.post@n5.nabble.com>
	<1451568653092-15393.post@n5.nabble.com>
	<1451570238692-15394.post@n5.nabble.com>
	<1451668548506-15406.post@n5.nabble.com>
Message-ID: <1458514739250-16608.post@n5.nabble.com>

Hi Parkinbot,

Sorry for my very late reaction. I was very busy with a lot of things. But
today I again encountered the small bugs with your earlier version of sweep
and thought. Maybe Parkinbot has already made a new version. And YES, that
is the case! And is it working perfect now!
Many thanks for that!!

kind regards Johan 





--
View this message in context: http://forum.openscad.org/Spline-interpolation-nSpline-tp15207p16608.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From lboyd at frontiernet.net  Sun Mar 20 20:06:02 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Sun, 20 Mar 2016 17:06:02 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
Message-ID: <1458518762223-16609.post@n5.nabble.com>

The table of contents for the language reference manual at
/OpenSCAD_User_Manual was the same as the table of contents in
/OpenSCAD_User_Manual/The_OpenSCAD_Language until someone recently deleted
the copy from /OpenSCAD_User_Manual/The_OpenSCAD_Language.

Yes, the automatically generated one needs less work to maintain. The
problem is it reflects the lack of logical order to the contents.  When
coupled with the length of the generated TOC, it becomes very difficult to
use it for navigation.

In the long run, it would be desirable to reorganize the content of the
various files to reflect a more logical order, thus allowing the generated
TOC to be easier to navigate.





-----
Larry
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16609.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Sun Mar 20 20:22:23 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sun, 20 Mar 2016 17:22:23 -0700 (MST)
Subject: [OpenSCAD] incrementing variables in order to slice an object
 and "modulate" it
In-Reply-To: <1458514549538-16607.post@n5.nabble.com>
References: <1458504188976-16600.post@n5.nabble.com>
	<1458512022998-16606.post@n5.nabble.com>
	<1458514549538-16607.post@n5.nabble.com>
Message-ID: <1458519743449-16610.post@n5.nabble.com>

rav0r wrote
> Thanks! At the last translation, there was a plus instead of the minus.
>  
> I do not have a clue how I could use hull inbetween the segments.. I tried
> using hull and it makes no difference in this example.

I don't see the "plus" in your code you mean the sequence {300, 299, 298,
...} ?


Not your example, but I think that is what you are more or less heading at: 

> elliptic_ring();
> 
> module elliptic_ring(r1 = 10, r2 = 5, r = 2, slices = 100, h = 0, w = 360)
> {
>   $fn=30;
> 	dz = h/slices; 
>    dwx = atan(h/(r1+r2)/PI); 
> 	for (i = [0:slices-1])
> 	hull()
> 	{
> 		translate([r1*cos((i+1)*w/slices), r2*sin((i+1)*w/slices), (i+1)*dz])
> 	   rotate([90+dwx, 0, (i+1)*w/slices])
> 		cylinder(r = r, h = .01); 
> 	
> 		translate([r1*cos((i)*w/slices), r2*sin((i)*w/slices), i*dz])
> 	   rotate([90+dwx, 0, i*w/slices])
> 		cylinder(r = r, h = .01); 
> 	}
> }





--
View this message in context: http://forum.openscad.org/incrementing-variables-in-order-to-slice-an-object-and-modulate-it-tp16600p16610.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sun Mar 20 20:50:32 2016
From: doug at moens.org (doug moen)
Date: Sun, 20 Mar 2016 20:50:32 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458518762223-16609.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458518762223-16609.post@n5.nabble.com>
Message-ID: <CAGV6i+OR-aq+uNdfsAojp6+UNszc2TBoSdpLoDLz-khKsgGZxw@mail.gmail.com>

@Larry: I agree, I'd like to reorganize the material in the Language manual
into a more logical order, and make the automatically generated TOC easier
to navigate.

I've made a start at that with my recent changes, but that's just been
minor cleanup work, fixing obvious bugs. And currently, the automatically
generated TOC has basically the same structure as the manually edited one:
neither is ideal.

My bigger plan is to reorganize the contents based on data types and the
operations on those types, because I think this will give a more logical
and useful structure. It'll be something like this:

   1. General
   2. Constructing 3D Objects
   3. Constructing 2D Objects
   4. Geometric Operations
   5. Booleans
   6. Numbers
   7. Strings
   8. Lists
   9. Linear Algebra (Vectors and Matrices)
   10. Functions and Modules
   11. Scripts
   12. Other

One way to shorten the automatically generated TOC is to limit the depth to
2 or 3, which causes MediaWiki to ignore section headers deeper than this
(currently we have up to 4 levels of section headers).

On 20 March 2016 at 20:06, L Boyd <lboyd at frontiernet.net> wrote:

> The table of contents for the language reference manual at
> /OpenSCAD_User_Manual was the same as the table of contents in
> /OpenSCAD_User_Manual/The_OpenSCAD_Language until someone recently deleted
> the copy from /OpenSCAD_User_Manual/The_OpenSCAD_Language.
>
> Yes, the automatically generated one needs less work to maintain. The
> problem is it reflects the lack of logical order to the contents.  When
> coupled with the length of the generated TOC, it becomes very difficult to
> use it for navigation.
>
> In the long run, it would be desirable to reorganize the content of the
> various files to reflect a more logical order, thus allowing the generated
> TOC to be easier to navigate.
>
>
>
>
>
> -----
> Larry
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16609.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/138eb960/attachment.html>

From runsun at gmail.com  Sun Mar 20 21:09:52 2016
From: runsun at gmail.com (runsun)
Date: Sun, 20 Mar 2016 18:09:52 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
Message-ID: <1458522592210-16612.post@n5.nabble.com>

doug.moen wrote
> The table of contents for the language reference manual at
> /OpenSCAD_User_Manual is different from the table of contents in
> /OpenSCAD_User_Manual/The_OpenSCAD_Language.
> 
> That's to be expected, because the former has to be edited by hand, while
> the latter is automatically updated each time somebody modifies the
> language reference manual.

I've added some markups on both pages to transclude the table_of_content on
/OpenSCAD_User_Manual/The_OpenSCAD_Language to /OpenSCAD_User_Manual so we
don't need to edit it by hand any more. Not sure if it works 'cos it is
awaiting approval from Michael. 

Ref:
https://en.wikipedia.org/wiki/Wikipedia:Transclusion#Selective_transclusion
https://en.wikipedia.org/wiki/Help:Labeled_section_transclusion



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16612.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 20 21:16:59 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 20 Mar 2016 18:16:59 -0700 (MST)
Subject: [OpenSCAD] incrementing variables in order to slice an object
 and "modulate" it
In-Reply-To: <1458514549538-16607.post@n5.nabble.com>
References: <1458504188976-16600.post@n5.nabble.com>
	<1458512022998-16606.post@n5.nabble.com>
	<1458514549538-16607.post@n5.nabble.com>
Message-ID: <1458523019969-16613.post@n5.nabble.com>

 Hi rav0r,

Welcome to the forum. Your post is still flagged as "This post has NOT been
accepted by the mailing list yet", so nobody gets it unless they look. 
You need to subscribe to the  mailing list
<http://forum.openscad.org/mailing_list/MailingListOptions.jtp?forum=1>  ,
and respond to the registration email.




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/incrementing-variables-in-order-to-slice-an-object-and-modulate-it-tp16600p16613.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sun Mar 20 21:31:58 2016
From: doug at moens.org (doug moen)
Date: Sun, 20 Mar 2016 21:31:58 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458522592210-16612.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
Message-ID: <CAGV6i+OcwFP6u9oB8xdRd0-0eMLccSf_+DP-ZvtqS9vEXJTghA@mail.gmail.com>

@runsun: I read the same documentation as you did, and tested something
similar. The problem was that when I transcluded the __TOC__ tag into
OpenSCAD_User_Manual, the __TOC__ was expanded into the user manual TOC,
not the language manual TOC. That said, if you can make it work, that will
be great. (I ran my test by publishing a change to The_OpenSCAD_Language,
and previewing a change to OpenSCAD_User_Manual. The transcluded __TOC__
was expanded incorrectly in the preview, and that's when I gave up.)

On 20 March 2016 at 21:09, runsun <runsun at gmail.com> wrote:

> doug.moen wrote
> > The table of contents for the language reference manual at
> > /OpenSCAD_User_Manual is different from the table of contents in
> > /OpenSCAD_User_Manual/The_OpenSCAD_Language.
> >
> > That's to be expected, because the former has to be edited by hand, while
> > the latter is automatically updated each time somebody modifies the
> > language reference manual.
>
> I've added some markups on both pages to transclude the table_of_content on
> /OpenSCAD_User_Manual/The_OpenSCAD_Language to /OpenSCAD_User_Manual so we
> don't need to edit it by hand any more. Not sure if it works 'cos it is
> awaiting approval from Michael.
>
> Ref:
> https://en.wikipedia.org/wiki/Wikipedia:Transclusion#Selective_transclusion
> https://en.wikipedia.org/wiki/Help:Labeled_section_transclusion
>
>
>
> -----
>
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ),
> runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ),
> sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2
> ), xl-control , type , rounded polygon
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16612.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160320/3b9203d4/attachment.html>

From oz.at.michael at gmail.com  Sun Mar 20 21:42:48 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 20 Mar 2016 18:42:48 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
Message-ID: <1458524568077-16615.post@n5.nabble.com>

doug.moen wrote
> There is another table of contents for the Language Reference Manual at
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual, but it isn't not
> automatically generated from the print version. It's not maintained, and
> it's inaccurate/out of date. It should be deleted, or we should find some
> way to transclude the correct TOC from the print version.

I have done much of the customisation of that TOC, in an endeavour to have
direct links to the individual keywords rather than just to the section as
per the automatically generated one. Also to keep it compact so you don't
need to scroll the TOC.

I do periodically update it, but haven't got to it for a while.

I have just taken a copy so if people want to do something else, I'll just
stick it as sandbox page and use it myself.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16615.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Sun Mar 20 21:44:42 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Sun, 20 Mar 2016 18:44:42 -0700 (MST)
Subject: [OpenSCAD] Trying to incorporate equation based shapes.
In-Reply-To: <CAG0AW=Ys-Bw69qGz85DP6qDFguqAdVeHxrLRG_fcJ9x7E52PMA@mail.gmail.com>
References: <CAG0AW=ar41sY5vVPBh40P5pQJLts80P8vaO7GqHUmtZ5DuRdgQ@mail.gmail.com>
	<CAOcn1As4eEcwN1f_LRzM9vY5YxSDe-pMtZ7nFUQ0F5Mq2hds-w@mail.gmail.com>
	<CAG0AW=Ya8VBJ2p6+fHMHV=+vC-1LJctTmcct0nQuhHDZrVVYQQ@mail.gmail.com>
	<CAOGVwe=MehUY3-yTXQMm1LoE1SVmrP9eFih-nyR_FLcTCvPvcw@mail.gmail.com>
	<CAG0AW=YwNJA8TbL_o+rGjRdV_8qzEAo7c_YjhbZXsrqfVoFcpQ@mail.gmail.com>
	<CAG0AW=Ys-Bw69qGz85DP6qDFguqAdVeHxrLRG_fcJ9x7E52PMA@mail.gmail.com>
Message-ID: <1458524682307-16616.post@n5.nabble.com>

As your airfoil is convex the hull() certainly works. Try this:

// Draw a NACA airfoil

function yt (x,c,t) =
t/0.2*c*(0.2969*sqrt(x/c)-0.126*(x/c)-0.3516*pow(x/c,2)+0.2843*pow(x/c,3)-0.1015*pow(x/c,4));

module airfoil (c,t,m){
    p  = concat([ for(i=[m-1:-1:0]) 
                   [ c*i*i/(m-1)/(m-1),  yt(c*i*i/(m-1)/(m-1), c, t) ] ],
                [ for(i=[0:m-1]) 
                   [ c*i*i/(m-1)/(m-1), -yt(c*i*i/(m-1)/(m-1), c, t) ] ]);

  rotate([90,0,0]) linear_extrude(0.01) 
    polygon( p );
}

module blend_airfoils(c1,t1,c2,t2,y,n){
  hull (){
    airfoil(c1,t1,n);
    translate([0,y,0]) airfoil(c2,t2,n);  
  }
}

blend_airfoils(70,0.1,50,0.2,200,20);



--
View this message in context: http://forum.openscad.org/Trying-to-incorporate-equation-based-shapes-tp3116p16616.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 20 22:24:10 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 20 Mar 2016 19:24:10 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458522592210-16612.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
Message-ID: <1458527050761-16617.post@n5.nabble.com>

runsun wrote
> 
> doug.moen wrote
>> The table of contents for the language reference manual at
>> /OpenSCAD_User_Manual is different from the table of contents in
>> /OpenSCAD_User_Manual/The_OpenSCAD_Language.
>> 
>> That's to be expected, because the former has to be edited by hand, while
>> the latter is automatically updated each time somebody modifies the
>> language reference manual.
> I've added some markups on both pages to transclude the table_of_content
> on /OpenSCAD_User_Manual/The_OpenSCAD_Language to /OpenSCAD_User_Manual so
> we don't need to edit it by hand any more. Not sure if it works 'cos it is
> awaiting approval from Michael. 
> 
> Ref:
> https://en.wikipedia.org/wiki/Wikipedia:Transclusion#Selective_transclusion
> https://en.wikipedia.org/wiki/Help:Labeled_section_transclusion

Are you talking about:
{{#section:OpenSCAD User Manual/The OpenSCAD language|TableOfContent}}


It doesn't look any different in preview. I just rolled it back as it was
conflicting with my updates.
I'll retry it after I save my updates (the list Doug had above).



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16617.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 20 22:41:42 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 20 Mar 2016 19:41:42 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458527050761-16617.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
Message-ID: <1458528102205-16618.post@n5.nabble.com>

runsun wrote
> I've added some markups on both pages to transclude the table_of_content
> on /OpenSCAD_User_Manual/The_OpenSCAD_Language to /OpenSCAD_User_Manual so
> we don't need to edit it by hand any more. Not sure if it works 'cos it is
> awaiting approval from Michael. 
> 
> Ref:
> https://en.wikipedia.org/wiki/Wikipedia:Transclusion#Selective_transclusion
> https://en.wikipedia.org/wiki/Help:Labeled_section_transclusion

They did nothing.




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16618.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sun Mar 20 22:53:42 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sun, 20 Mar 2016 19:53:42 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458528102205-16618.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458528102205-16618.post@n5.nabble.com>
Message-ID: <1458528822929-16619.post@n5.nabble.com>

Personally, I think the print versions are less useful, but as per Doug doing
searches on it that is obviously a usage style difference.

Before I re-jigged the non-print TOC it was generated and looked like:
<http://forum.openscad.org/file/n16619/wikibook_original_toc.jpg> 

I do think the current version is a more usable TOC, even tho it needs
manual handling.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16619.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Mon Mar 21 00:14:31 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Sun, 20 Mar 2016 21:14:31 -0700 (MST)
Subject: [OpenSCAD] Trying to incorporate equation based shapes.
In-Reply-To: <1458524682307-16616.post@n5.nabble.com>
References: <CAG0AW=ar41sY5vVPBh40P5pQJLts80P8vaO7GqHUmtZ5DuRdgQ@mail.gmail.com>
	<CAOcn1As4eEcwN1f_LRzM9vY5YxSDe-pMtZ7nFUQ0F5Mq2hds-w@mail.gmail.com>
	<CAG0AW=Ya8VBJ2p6+fHMHV=+vC-1LJctTmcct0nQuhHDZrVVYQQ@mail.gmail.com>
	<CAOGVwe=MehUY3-yTXQMm1LoE1SVmrP9eFih-nyR_FLcTCvPvcw@mail.gmail.com>
	<CAG0AW=YwNJA8TbL_o+rGjRdV_8qzEAo7c_YjhbZXsrqfVoFcpQ@mail.gmail.com>
	<CAG0AW=Ys-Bw69qGz85DP6qDFguqAdVeHxrLRG_fcJ9x7E52PMA@mail.gmail.com>
	<1458524682307-16616.post@n5.nabble.com>
Message-ID: <1458533671204-16620.post@n5.nabble.com>

Or even better:

module blend_airfoils(y){
  hull (){
    children(0);
    translate([0,y,0]) children(1);  
  }
}

blend_airfoils(200) {
    airfoil(70,0.20,30); 
    airfoil(45,0.1,30);
} 



--
View this message in context: http://forum.openscad.org/Trying-to-incorporate-equation-based-shapes-tp3116p16620.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From ginjaian at hotmail.com  Mon Mar 21 05:01:27 2016
From: ginjaian at hotmail.com (droftarts)
Date: Mon, 21 Mar 2016 02:01:27 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
References: <CAEEmnrPKOf7O1t56PSet9T1NmWYdQGRkpATd7k2aN6qMoc2sqw@mail.gmail.com>
	<1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
Message-ID: <1458550887080-16623.post@n5.nabble.com>

Hi nophead

Thanks for this, I never knew how to loop an array before! I wrote a little
example for myself, which helped me understand:

points = [0,1,2,3,4];
length = len (points);
for (i=[0:length*2-1])
    echo (points[(i) % length],points[(i+1) % length]);

This runs around the array twice (the '*2' part in the 'for' loop), and
produces:

ECHO: 0, 1
ECHO: 1, 2
ECHO: 2, 3
ECHO: 3, 4
ECHO: 4, 0
ECHO: 0, 1
ECHO: 1, 2
ECHO: 2, 3
ECHO: 3, 4
ECHO: 4, 0

I'm sure using MOD is a fairly standard programming technique, but then I'm
not much of a programmer!

Ian S


nophead wrote
> It calculates the remainder after dividing by the length. That causes the
> wrap round to zero to close the loop when i+1 equals the length.





--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16623.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From lboyd at frontiernet.net  Mon Mar 21 07:29:01 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Mon, 21 Mar 2016 04:29:01 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+OR-aq+uNdfsAojp6+UNszc2TBoSdpLoDLz-khKsgGZxw@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458518762223-16609.post@n5.nabble.com>
	<CAGV6i+OR-aq+uNdfsAojp6+UNszc2TBoSdpLoDLz-khKsgGZxw@mail.gmail.com>
Message-ID: <1458559741174-16624.post@n5.nabble.com>

@Doug: I basically agree with you suggested order for the language portion of
the manual.
Why don't you post it in a new thread so we can discuss it separate from the
debate about how the TOC should look.


doug.moen wrote
> @Larry: I agree, I'd like to reorganize the material in the Language
> manual
> into a more logical order, and make the automatically generated TOC easier
> to navigate.
> 
> My bigger plan is to reorganize the contents based on data types and the
> operations on those types, because I think this will give a more logical
> and useful structure. It'll be something like this:
> 
>    1. General
>    2. Constructing 3D Objects
>    3. Constructing 2D Objects
>    4. Geometric Operations
>    5. Booleans
>    6. Numbers
>    7. Strings
>    8. Lists
>    9. Linear Algebra (Vectors and Matrices)
>    10. Functions and Modules
>    11. Scripts
>    12. Other





-----
Larry
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16624.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Mon Mar 21 07:41:02 2016
From: mschafer at wireframe.biz (Neon22)
Date: Mon, 21 Mar 2016 04:41:02 -0700 (MST)
Subject: [OpenSCAD] Trying to incorporate equation based shapes.
In-Reply-To: <1458533671204-16620.post@n5.nabble.com>
References: <CAG0AW=ar41sY5vVPBh40P5pQJLts80P8vaO7GqHUmtZ5DuRdgQ@mail.gmail.com>
	<CAOcn1As4eEcwN1f_LRzM9vY5YxSDe-pMtZ7nFUQ0F5Mq2hds-w@mail.gmail.com>
	<CAG0AW=Ya8VBJ2p6+fHMHV=+vC-1LJctTmcct0nQuhHDZrVVYQQ@mail.gmail.com>
	<CAOGVwe=MehUY3-yTXQMm1LoE1SVmrP9eFih-nyR_FLcTCvPvcw@mail.gmail.com>
	<CAG0AW=YwNJA8TbL_o+rGjRdV_8qzEAo7c_YjhbZXsrqfVoFcpQ@mail.gmail.com>
	<CAG0AW=Ys-Bw69qGz85DP6qDFguqAdVeHxrLRG_fcJ9x7E52PMA@mail.gmail.com>
	<1458524682307-16616.post@n5.nabble.com>
	<1458533671204-16620.post@n5.nabble.com>
Message-ID: <1458560462115-16625.post@n5.nabble.com>

Using @Parkinbot's approach. Something like this:

use <naca4.scad>
use <Naca_sweep.scad>
num_points = 100;
airfoil1 = vec3D(airfoil_data(0015, 110, num_points), 0); // NACA, length,
numsamples
airfoil2 = vec3D(airfoil_data(1733, 110, num_points), 20);
airfoil3 = vec3D(airfoil_data(2418, 110, num_points), 40);
// airfoil4 = T_(0,0,80, vec3D(airfoil_data(0015, 130, num_points)));
data = [airfoil1, airfoil2, airfoil3];
sweep(data);
<http://forum.openscad.org/file/n16625/2vv5rg5.jpg> 
The advantage being that airfoil_data() takes a 4-digit NACA number directly
and includes all the non-symmetrical ones.

@Parkinbot does use a different approach which allows you to rotate,scale,
and translate the curves prior to assembly. See airfoil4 for putting the
translation outside the vec_3D().
So making twisted blades like boat propellers is possible in a somewhat
complex description. See his thingiverse for excellent examples.

So to be slightly clearer:

1. airfoil_data() takes the special 4 digit NACA rep which you can read
about here:
- https://en.wikipedia.org/wiki/NACA_airfoil
- http://www.pdas.com/naca456pdas.html  - would be great to do ALL of these.
and extracts the fields for chord ratios etc  and then creates the curve as
pairs of [X,Y] coordinates.

2. The Vec3D() function turns the pairs into triplets (I used optional Z arg
in first 3 airfoils)

3. Further transforms can be applied (I used Translate which is T_() in
@parkinbot's approach, in airfoil4)

4. The resulting list is a transformed sequence of coords suitable for
sweeping or skinning together.
@parkinbot's Naca_sweep.scad includes a function sweep() to do this but the
skin() from elsewhere also works.

The missing part is a splined curve through the airfoils.
To do this you need to play with @Parkinbot's spline functions - referenced
above in his post...

I believe you could call this code approach idiosyncratic but it's effective
at describing a complex series of swept curves in a concise way.

IMHO incorporating these ideas into a module that was consistent across
openSCAD (such as the MCAD module which seem slike it has many unmerged pull
requests) and using the same approach everywhere means we could all benefit
from a NACA lib. (and spline interp, and lofting, etc... All old threads it
would be great to actually resolve in the current design as well as
openSCAD2...)
YMMV, as usual



--
View this message in context: http://forum.openscad.org/Trying-to-incorporate-equation-based-shapes-tp3116p16625.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From lboyd at frontiernet.net  Mon Mar 21 07:54:07 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Mon, 21 Mar 2016 04:54:07 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458528822929-16619.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458528102205-16618.post@n5.nabble.com>
	<1458528822929-16619.post@n5.nabble.com>
Message-ID: <1458561247662-16626.post@n5.nabble.com>

@michael: Glad someone besides me finds the non-automatic TOC  more useful
even if it does require manual maintenance.



-----
Larry
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16626.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From lboyd at frontiernet.net  Mon Mar 21 07:57:56 2016
From: lboyd at frontiernet.net (L Boyd)
Date: Mon, 21 Mar 2016 04:57:56 -0700 (MST)
Subject: [OpenSCAD] incrementing variables in order to slice an object
 and "modulate" it
In-Reply-To: <1458549102955-16622.post@n5.nabble.com>
References: <1458504188976-16600.post@n5.nabble.com>
	<1458512022998-16606.post@n5.nabble.com>
	<1458514549538-16607.post@n5.nabble.com>
	<1458523019969-16613.post@n5.nabble.com>
	<1458549102955-16622.post@n5.nabble.com>
Message-ID: <1458561476671-16627.post@n5.nabble.com>

A minor point: $fn has no affect on cube().



-----
Larry
--
View this message in context: http://forum.openscad.org/incrementing-variables-in-order-to-slice-an-object-and-modulate-it-tp16600p16627.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From ginjaian at hotmail.com  Mon Mar 21 08:15:32 2016
From: ginjaian at hotmail.com (droftarts)
Date: Mon, 21 Mar 2016 05:15:32 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458353080865-16576.post@n5.nabble.com>
References: <CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<56EC41CA.20609@arnholm.org>
	<CAEEmnrNFnMyYjb0_Xm49vHSXVkCq-OHvrT45x-uqB3dRweBtzg@mail.gmail.com>
	<1458351784432-16575.post@n5.nabble.com>
	<1458353080865-16576.post@n5.nabble.com>
Message-ID: <1458562532580-16628.post@n5.nabble.com>

Neon22 wrote
> STEP format import/export is available via:
> - PythonOCC (github)
>    - http://www.pythonocc.org/features_overview/data-exchange/
> - Step people themselves: (github)
>    - http://stepcode.org/
> 
> Its a database kind of format.
> In case anyone's interested....

Looks interesting, and it would be great to have output from OpenSCAD that
is more friendly with other CAD packages, that kept the primitive geometry
and parts grouped together. Then it would be easy to export and add
finishing touches eg fillets. But I have no idea if this could be
incorporated into OpenSCAD, and give useful output. Maybe raise it as an
issue on github for the developers to take a look at?

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16628.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Mon Mar 21 09:33:50 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Mon, 21 Mar 2016 19:03:50 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <56ED6FC3.7090604@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>
Message-ID: <CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>

On 19 March 2016 at 20:56, Torsten Paul <Torsten.Paul at gmx.de> wrote:
> Yes, this has some groundwork in the parser and a partial UI.
> It's not really in a state where we can merge it and give it
> to users. I do have to refresh my mind about the exact state
> of that code, but I think the remaining topics are well
> enough to fill the timeline of a GSoC project. And if we
> find there's some time left, there's lots of room to expand
> to another use case, some of those I started collecting in
> https://github.com/openscad/openscad/wiki/Meta-Data-Use-Cases

I have figure out some features by talking to some of my group and
civil students regarding UI that I am sharing for feedback-:

1. Make UI modular so as make it easy to work and adjust panels
according to users need (like that of gimp)
2. grouping of parameters
3. collapsing and expanding of individual parameter widget.
4. option to hide certain parameters from display.
5. saving .scad file without annotation code after setting value of
parameters it will make scad file backward compatible.
6. option to make slider vertical (as for parameter like height it
would make more appealing with vertical slider).
7. possibly radio buttons.

and their is last one for which I don't the difficulty level of this.

8. A Pearson get list of all parameter associated with the object by
clicking on it in view plane.( like a Pearson click on cube in a
drawing he may get all parameter associated with that square in
parameter widget).

Please share the if some issues associated with parser are their and
share your feedback for above suggestions



-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From runsun at gmail.com  Mon Mar 21 10:21:42 2016
From: runsun at gmail.com (runsun)
Date: Mon, 21 Mar 2016 07:21:42 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458527050761-16617.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
Message-ID: <1458570102289-16630.post@n5.nabble.com>

MichaelAtOz wrote
> Are you talking about:
>> {{#section:OpenSCAD User Manual/The OpenSCAD language|TableOfContent}}
>> <--{{OpenSCAD User Manual/The OpenSCAD
>> Language|transcludesection=TableOfContent}}-->
> It doesn't look any different in preview. I just rolled it back as it was
> conflicting with my updates.
> I'll retry it after I save my updates (the list Doug had above).

Yes, but also the markup in the source doc (OpenSCAD language), in which I
tried two different approaches:

> <section begin=TableOfContent />
> <onlyinclude>
> {{#ifeq:{{{transcludesection|TableOfContent}}}|TableOfContent|
> __TOC__
> <p style="page-break-after:always;">
> </p>
> }}
> </onlyinclude>
> <section end=TableOfContent />

I imagine that they have to be accepted for the transclusion-accepting doc
to work.

But I guess you guys know that, so I'll leave it here. 




-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16630.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Mon Mar 21 11:18:20 2016
From: runsun at gmail.com (runsun)
Date: Mon, 21 Mar 2016 08:18:20 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAMyDR6JOYb+Ch9Die0=xQTnsf7YswMJwyd6rLWg+mrO70D=zvQ@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com> <56EEB62A.8070608@gmx.de>
	<CAMyDR6LWVcpCMqYPrbNBcyRTr7c-0-dQ3JXAUa=4CZB7opoLOQ@mail.gmail.com>
	<1458510000033-16603.post@n5.nabble.com>
	<CAMyDR6JOYb+Ch9Die0=xQTnsf7YswMJwyd6rLWg+mrO70D=zvQ@mail.gmail.com>
Message-ID: <1458573500749-16631.post@n5.nabble.com>

@jdawgaz:

The bug in the openscad_offliner appears to be a cross-platform issue. The
original version was developed in Linux. I've got it to work in Windows now. 

In fact, I took a step further to include a openscad_doc.zip. You should be
able to just extract that file and no need to run the script by yourself,
unless a most recent version is needed.



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16631.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Mon Mar 21 11:39:15 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Mon, 21 Mar 2016 08:39:15 -0700 (MST)
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>
	<CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
Message-ID: <1458574755274-16632.post@n5.nabble.com>


Useful from my point of view would be an input console line acting on the
view-port to pan, rot, zooming, and defining rotation point in an easy
typing way like:

r(x,y,z) t(x,y,z), z(v), rp(x,y,z), or even better: rx, ry, rz, etc

Optionally a reset viewpoint command "rv" without automatic zoom would be
useful, although this option already exist in a UI button for viewing all
the scene. 
The standard views are not enough and using $vpr and $vpt in the script is
not user friendly, and for complex multi-part objects is an head ache. The
use of mouse drives me crazy mostly because the extreme lag and the lack to
define a rotation point. 

jpmendes









--
View this message in context: http://forum.openscad.org/Introduction-tp16322p16632.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 21 12:34:53 2016
From: doug at moens.org (doug moen)
Date: Mon, 21 Mar 2016 12:34:53 -0400
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458562532580-16628.post@n5.nabble.com>
References: <CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<1458315047084-16555.post@n5.nabble.com>
	<56EC2691.40808@arnholm.org>
	<CAGV6i+PbfShiHi6Mg3sHfWF29_GPg8hc_Xq+BKcOLAw2tpCudA@mail.gmail.com>
	<56EC41CA.20609@arnholm.org>
	<CAEEmnrNFnMyYjb0_Xm49vHSXVkCq-OHvrT45x-uqB3dRweBtzg@mail.gmail.com>
	<1458351784432-16575.post@n5.nabble.com>
	<1458353080865-16576.post@n5.nabble.com>
	<1458562532580-16628.post@n5.nabble.com>
Message-ID: <CAGV6i+ODOrQ+qS4FS0jahwJkOQXNSfD=eKH7g=9MabkKPQ5Xpg@mail.gmail.com>

Producing *decent quality* STEP output, for the general case, looks like a
complex and challenging project that might require some significant
language extensions. We could also try for simple STEP export, which would
take the CSG tree as input, and fail if any primitives are found that can't
be translated to STEP.

I did a bit of web surfing for this. STEP is a huge standard for encoding
all kinds of manufacturing related data. It's not a file format, it's a
large family of file formats. The particular STEP file format we'd target
is AP203. There's also AP214, which is a superset, but the added features
seem to be things we don't support anyway.

The AP203 definition document is an ISO standard costing 198 swiss franks
(about $200 US). I'd guess you'd need to buy additional standards to
provide the background information for understanding this standard. It
sounds expensive. Another developer cost is purchasing the expensive CAD
programs that read STEP files, like SolidWorks.

I found a database schema for AP203. It appears that AP203 is a large,
complex language for describing geometric solids. It supports splines,
conic curves, meshes, etc. I'm calling it a language because it has
functions like vector cross product.

Anyway, AP203 appears to be a much bigger language than OpenSCAD, but it
also seems to be missing primitives that we support like convex hull and
minkowski sum.

Given how a lot of high level AP203 geometric primitives are coded directly
in OpenSCAD, such as splines and swept volumes, the CSG tree wouldn't be
enough for a good conversion. We'd need the ability to put AP203 metadata
into module definitions to guide the conversion process.

Given the complexity and cost of a good solution, and the limitations and
crappiness of a simple solution, I don't see this as a good fit for the
OpenSCAD project. If someone wants to work on this, I would suggest writing
an external tool for converting CSG files to STEP. Then we'll see.

On 21 March 2016 at 08:15, droftarts <ginjaian at hotmail.com> wrote:

> Neon22 wrote
> > STEP format import/export is available via:
> > - PythonOCC (github)
> >    - http://www.pythonocc.org/features_overview/data-exchange/
> > - Step people themselves: (github)
> >    - http://stepcode.org/
> >
> > Its a database kind of format.
> > In case anyone's interested....
>
> Looks interesting, and it would be great to have output from OpenSCAD that
> is more friendly with other CAD packages, that kept the primitive geometry
> and parts grouped together. Then it would be easy to export and add
> finishing touches eg fillets. But I have no idea if this could be
> incorporated into OpenSCAD, and give useful output. Maybe raise it as an
> issue on github for the developers to take a look at?
>
> Ian S
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16628.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/b8338ef8/attachment.html>

From doug at moens.org  Mon Mar 21 13:01:44 2016
From: doug at moens.org (doug moen)
Date: Mon, 21 Mar 2016 13:01:44 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458570102289-16630.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458570102289-16630.post@n5.nabble.com>
Message-ID: <CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>

@runsun: The changes don't have to be accepted before you can test your
code. After all, the person doing the accepting has to be able to see what
he's accepting, right? I was able to test a similar approach (using
#section-h instead of #section), and got results, just not the results I
wanted. I reverted my changes already, so they never reached the acceptance
stage.

On 21 March 2016 at 10:21, runsun <runsun at gmail.com> wrote:

> MichaelAtOz wrote
> > Are you talking about:
> >> {{#section:OpenSCAD User Manual/The OpenSCAD language|TableOfContent}}
> >> <--{{OpenSCAD User Manual/The OpenSCAD
> >> Language|transcludesection=TableOfContent}}-->
> > It doesn't look any different in preview. I just rolled it back as it was
> > conflicting with my updates.
> > I'll retry it after I save my updates (the list Doug had above).
>
> Yes, but also the markup in the source doc (OpenSCAD language), in which I
> tried two different approaches:
>
> > <section begin=TableOfContent />
> > <onlyinclude>
> > {{#ifeq:{{{transcludesection|TableOfContent}}}|TableOfContent|
> > __TOC__
> > <p style="page-break-after:always;">
> > </p>
> > }}
> > </onlyinclude>
> > <section end=TableOfContent />
>
> I imagine that they have to be accepted for the transclusion-accepting doc
> to work.
>
> But I guess you guys know that, so I'll leave it here.
>
>
>
>
> -----
>
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ),
> runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ),
> sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2
> ), xl-control , type , rounded polygon
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16630.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/48de4174/attachment.html>

From ginjaian at hotmail.com  Mon Mar 21 13:27:32 2016
From: ginjaian at hotmail.com (droftarts)
Date: Mon, 21 Mar 2016 10:27:32 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>
References: <1458303987457-16545.post@n5.nabble.com>
	<CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
	<CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>
Message-ID: <1458581252592-16635.post@n5.nabble.com>

Many thanks nophead, this works perfectly. It also has a nice feature, that
if you set the radius to '0', it does still work, and produces a 'point'
corner. I guess because the maths in the tangent function ends up = 0 for
the point where the radius = 0. It doesn't even put two points in on the
corner; polygon seems to be smart enough that if you have two point in the
same place, it ignores one of them!

The only improvement might be to error trap any cases where one circle
completely encircles (or is completely inside) the next, or if a
negative-radius circle overlaps a positive one; in both cases the polygon
fails to draw, as there are no tangents that can be calculated, with a
"WARNING: Range check failed for polygon. skipping" message. But maybe this
is actually preferable to ignoring an overlapping circle, and continuing to
draw the shape incorrectly.

Regarding exporting in STEP format, and subsequently opening in CAD software
for rendering: the point is to try and get an assembly of many parts out of
OpenSCAD in one export, where each individual part is separately selectable,
unlike STL ouput. This means that it's easier to apply appearances to
individual parts for rendering, and also it's a better/easier format for
editing in most CAD packages. By using CSG output, there is the additional
advantage of keeping curves and circles as arcs, rather than segmenting
them, which again makes them easier to manipulate in a solid modeller, which
most CAD programs are.

Though CSG exports all the underlying geometry (circles, squares, polygons
etc), once in FreeCAD, only the solid bodies (ie the extrusion based on all
the circles, squares and polygons) are required, not the underlying
geometry, for the STEP file. You can export the simple geometry (most CAD
software suggests building your parts as 2D drawings and extruding to 3D,
which is what the simple geometry is), but I intended the export to be in
one direction, so I don't mind that I remove this geometry. I haven't played
around with Blender much, but I understand it's a 'mesh' modeller, so STL is
a good format for it, and why it doesn't understand what a 'circle' is, let
alone the other OpenSCAD transformations!

A small problem with FreeCAD is that its OpenSCAD import filter needs
updating, as changes in OpenSCAD appear to have caused it to fail if you use
the latest version of OpenSCAD (see
http://forum.freecadweb.org/viewtopic.php?t=12744 ); at least, this is what
it does for me using the current compiled versions of FreeCAD (0.15) and
OpenSCAD (2015.03-2). I don't think this affects importing of CSG files,
just .scad files, and the way FreeCAD imports files is to open the .scad
file in OpenSCAD, and import the .csg file anyway! So I don't think there is
any advantage import the .scad file into FreeCAD (even if you could - it
didn't work when I used OpenSCAD 2014.03 either) over the .csg file.

I based my initial script on circles, rather than squares, as squares are
generally easier to redraw to remove the hull or minkowski command. My
design has rounded corners, so most squares were minkowski'd squares anyway,
which this script can replicate without using minkowski. I know this is
really only a solution for 2D uses of hull and minkowski, and perhaps rather
particular to my intent. I'm not really sure how you could do the same thing
for a 3D object, and get a sensible CSG ouput that you can import into
FreeCAD, to convert to a solid. 

Thanks for all the help, hope this is useful to others, too!

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16635.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Mon Mar 21 13:44:05 2016
From: runsun at gmail.com (runsun)
Date: Mon, 21 Mar 2016 10:44:05 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458570102289-16630.post@n5.nabble.com>
	<CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>
Message-ID: <1458582245532-16636.post@n5.nabble.com>

doug.moen wrote
> @runsun: The changes don't have to be accepted before you can test your
> code. After all, the person doing the accepting has to be able to see what
> he's accepting, right? 

That's true --- if the change doesn't depend on other pages. But what I
tried was a markup on page-A depends on a markup on page-B. Only if the
markup on B is accepted, and thus an anchor is existing to be located, will
the markup on A be able to locate it and show effect. So to see if the
markup on A works, the markup on B has to be accepted.

Of course, if the wikibook is designed in such a way that a transclusion on
A is to link to a modification on B that is not yet accepted, then it'd be
another story. 




-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16636.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Mon Mar 21 14:00:04 2016
From: runsun at gmail.com (runsun)
Date: Mon, 21 Mar 2016 11:00:04 -0700 (MST)
Subject: [OpenSCAD] Use openscad_offliner to download online doc
In-Reply-To: <1436894526287-13147.post@n5.nabble.com>
References: <1436317812473-13096.post@n5.nabble.com>
	<CAGV6i+P9SRNEK8ih4Oq1wuYrWc6nOJNCvTxGDThMxwsi_2m_jQ@mail.gmail.com>
	<1436330809166-13098.post@n5.nabble.com>
	<CAMyDR6J-CWiOboCq71negqA-EbK3DXo64p-Yuvw02q+0ms6nBg@mail.gmail.com>
	<55A1A8A7.3000608@gmx.de> <1436660506247-13118.post@n5.nabble.com>
	<55A1C8DF.9060001@gmx.de> <1436762380259-13129.post@n5.nabble.com>
	<1436765627092-13131.post@n5.nabble.com>
	<1436894526287-13147.post@n5.nabble.com>
Message-ID: <1458583204322-16637.post@n5.nabble.com>

Updated on 2016, March 20th:

* Major fix for bug believed to be a cross-platform issue. The original
version, which was developed in Linux, is saved as
openscad_offliner_2015.py. It is made to work in Windows in the current
version.
* Include openscad_docs.zip. Users don't need to run the python script,
unless a most recent copy is needed.



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Use-openscad-offliner-for-offline-documentation-tp13096p16637.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 21 14:53:02 2016
From: doug at moens.org (doug moen)
Date: Mon, 21 Mar 2016 14:53:02 -0400
Subject: [OpenSCAD] New organization for OpenSCAD Language manual
Message-ID: <CAGV6i+M0bVzbn-w3TknWFq1mgwss3gsQu+_VUmaJ1jodMTvFZA@mail.gmail.com>

Larry Boyd said: @Doug: I basically agree with your suggested order for the
language portion of the manual. Why don't you post it in a new thread?

Okay. Here's a reorganized table of contents for the language manual.

1. General
    functional/declarative programming
    scripts, statements, expressions
    statements: assign, if for ; {}
    expressions: let() ?: operator precedence
    function/module calls, positional and named arguments
    data types: undef, bool, number, string, list, range
    3 namespaces: variables, functions, modules,
    scoping rules, lexical scoping, special variables
2. Constructing 3D Objects
    cube(), sphere(), cylinder(), polyhedron(),
    linear_extrude(), rotate_extrude()
    import stl and off, surface()
3. Constructing 2D Objects
    square(), circle(), polygon(), projection(), text(),
    import dxf
4. Geometric Operations
    4.1 Affine Transformations: scale, rotate, translate, mirror, multmatrix
    4.2 Set Operations: union, intersection, difference, intersection_for
    4.3 Other: resize, offset, minkowski, hull
5. Booleans
    true, false, &&, ||, !
    if, ?:
6. Numbers
    numeric literals, NaN, Inf
    +, -, *, /, %,
    trig: PI,cos,sin,tan,acos,asin,atan,atan2,
    transcendental: exp,ln,log,pow,sqrt,
    abs,ceil,floor,max,min,rands,round,sign
7. Strings
    string literals
    x[i], len(),str(),chr()
8. Lists and Ranges
    syntax: list literals, list comprehensions, ranges
    x[i], concat(),len(),search(),
    for()
9. Linear Algebra (Vectors and Matrices)
    cross(),norm(), + - * / on vectors and matrices
10. Function and Module Definitions
      function, module, children()
11. External Library Scripts
      use<>, include<>, variable override behaviour
12. Other
      Preview: color(), render(), convexity arguments
      Animation: $t, $vpr, $vpt, $vpd
      Modifiers: % # ! *
      echo(), version(), version_num(),
      parent_module(), $parent_modules

This isn't a strict reference manual, with an alphabetical list of
primitives, each defined in exactly one place. It's organized by topic, and
sometimes the same primitive needs to be discussed under several topics.
Eg, + is specified in General/operator precedence, Numbers, and Linear
Algebra, while len() is specified in String and List. There will be See
Also links to other sections where appropriate.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/0f02192f/attachment.html>

From doug at moens.org  Mon Mar 21 14:56:51 2016
From: doug at moens.org (doug moen)
Date: Mon, 21 Mar 2016 14:56:51 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458582245532-16636.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458570102289-16630.post@n5.nabble.com>
	<CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>
	<1458582245532-16636.post@n5.nabble.com>
Message-ID: <CAGV6i+MYKNYifq1XSKdVPx+W88mF_eE5Kp7DQH4zLNG8bLZmOw@mail.gmail.com>

@runsun: Only if the
markup on B is accepted, and thus an anchor is existing to be located, will
the markup on A be able to locate it and show effect. So to see if the
markup on A works, the markup on B has to be accepted.

Yes, but for the third time, I already tested a version of your changes
without waiting for my changes to B to be accepted. All I needed to do was
publish my changes to B. One thing to note: I was logged in to Wikipedia
when I did this, and that might change the behaviour. Otherwise, I don't
know why the same procedure wouldn't work for you.

On 21 March 2016 at 13:44, runsun <runsun at gmail.com> wrote:

> doug.moen wrote
> > @runsun: The changes don't have to be accepted before you can test your
> > code. After all, the person doing the accepting has to be able to see
> what
> > he's accepting, right?
>
> That's true --- if the change doesn't depend on other pages. But what I
> tried was a markup on page-A depends on a markup on page-B. Only if the
> markup on B is accepted, and thus an anchor is existing to be located, will
> the markup on A be able to locate it and show effect. So to see if the
> markup on A works, the markup on B has to be accepted.
>
> Of course, if the wikibook is designed in such a way that a transclusion on
> A is to link to a modification on B that is not yet accepted, then it'd be
> another story.
>
>
>
>
> -----
>
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ),
> runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ),
> sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2
> ), xl-control , type , rounded polygon
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16636.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/ab808b56/attachment.html>

From chrisspen at gmail.com  Mon Mar 21 16:40:43 2016
From: chrisspen at gmail.com (Cerin)
Date: Mon, 21 Mar 2016 13:40:43 -0700 (MST)
Subject: [OpenSCAD] Render converting all colors to yellow
Message-ID: <1458592843230-16640.post@n5.nabble.com>

I'd like to render a few different versions of my model with certain parts
highlighted in specific colors for illustration purposes.

The preview render shows colors correctly, but when I do an F6 full render,
it converts all colors to yellow. Is this a known bug/limitation or is there
anything I can do to fix this?

Even a trivial file like:

    color("green") cube([10,10,10]);

renders as yellow.

A similar question
<http://forum.openscad.org/Color-in-quot-Compile-and-Render-quot-mode-td4637.html>  
was asked nearly three years ago, but I don't think this was ever resolved.

I'm using version 2015.03-1 installed from the PPA in Ubuntu 14.

I can't post my library details since the "Help" menu seems to have been
removed in version 2015.03-1 and/or doesn't show up in Gnome-Shell.



--
View this message in context: http://forum.openscad.org/Render-converting-all-colors-to-yellow-tp16640.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 21 17:00:55 2016
From: doug at moens.org (doug moen)
Date: Mon, 21 Mar 2016 17:00:55 -0400
Subject: [OpenSCAD] Render converting all colors to yellow
In-Reply-To: <1458592843230-16640.post@n5.nabble.com>
References: <1458592843230-16640.post@n5.nabble.com>
Message-ID: <CAGV6i+MhEtY9xHL9mcKemdJ=6GpJCL71ewuft8ypSehRWv4=Xg@mail.gmail.com>

That's how OpenSCAD works. Color is only supported by the preview, it's not
supported by rendering or for export. The ability to export colored models
is a future wish list item.

On 21 March 2016 at 16:40, Cerin <chrisspen at gmail.com> wrote:

> I'd like to render a few different versions of my model with certain parts
> highlighted in specific colors for illustration purposes.
>
> The preview render shows colors correctly, but when I do an F6 full render,
> it converts all colors to yellow. Is this a known bug/limitation or is
> there
> anything I can do to fix this?
>
> Even a trivial file like:
>
>     color("green") cube([10,10,10]);
>
> renders as yellow.
>
> A similar question
> <
> http://forum.openscad.org/Color-in-quot-Compile-and-Render-quot-mode-td4637.html
> >
> was asked nearly three years ago, but I don't think this was ever resolved.
>
> I'm using version 2015.03-1 installed from the PPA in Ubuntu 14.
>
> I can't post my library details since the "Help" menu seems to have been
> removed in version 2015.03-1 and/or doesn't show up in Gnome-Shell.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Render-converting-all-colors-to-yellow-tp16640.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/62f82d14/attachment.html>

From nop.head at gmail.com  Mon Mar 21 17:04:28 2016
From: nop.head at gmail.com (nop head)
Date: Mon, 21 Mar 2016 21:04:28 +0000
Subject: [OpenSCAD] Render converting all colors to yellow
In-Reply-To: <1458592843230-16640.post@n5.nabble.com>
References: <1458592843230-16640.post@n5.nabble.com>
Message-ID: <CAEEmnrMHgKvewTMPQv26jumzVMk-4-2M4A7BJzdND_+Uqfvu+Q@mail.gmail.com>

It's a known limitation but if you do color("green") render()
cube([10,10,10]); and hit F5 you will get a coloured full render.

On 21 March 2016 at 20:40, Cerin <chrisspen at gmail.com> wrote:

> I'd like to render a few different versions of my model with certain parts
> highlighted in specific colors for illustration purposes.
>
> The preview render shows colors correctly, but when I do an F6 full render,
> it converts all colors to yellow. Is this a known bug/limitation or is
> there
> anything I can do to fix this?
>
> Even a trivial file like:
>
>     color("green") cube([10,10,10]);
>
> renders as yellow.
>
> A similar question
> <
> http://forum.openscad.org/Color-in-quot-Compile-and-Render-quot-mode-td4637.html
> >
> was asked nearly three years ago, but I don't think this was ever resolved.
>
> I'm using version 2015.03-1 installed from the PPA in Ubuntu 14.
>
> I can't post my library details since the "Help" menu seems to have been
> removed in version 2015.03-1 and/or doesn't show up in Gnome-Shell.
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Render-converting-all-colors-to-yellow-tp16640.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/fb113ada/attachment.html>

From oz.at.michael at gmail.com  Mon Mar 21 19:47:23 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Mon, 21 Mar 2016 16:47:23 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAGV6i+MYKNYifq1XSKdVPx+W88mF_eE5Kp7DQH4zLNG8bLZmOw@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458570102289-16630.post@n5.nabble.com>
	<CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>
	<1458582245532-16636.post@n5.nabble.com>
	<CAGV6i+MYKNYifq1XSKdVPx+W88mF_eE5Kp7DQH4zLNG8bLZmOw@mail.gmail.com>
Message-ID: <1458604043813-16643.post@n5.nabble.com>

I tried it with both, didn't do anything. But I'm no expert.

People are aware that the printed versions are basically transcluded from
the main manual?



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16643.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jdawgaz at gmail.com  Mon Mar 21 19:53:32 2016
From: jdawgaz at gmail.com (Jerry Davis)
Date: Mon, 21 Mar 2016 16:53:32 -0700
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <1458604043813-16643.post@n5.nabble.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAGV6i+OLgsshik+2FnFEx00e-fK2nDOvJCH+juFSb1_xMQvUqg@mail.gmail.com>
	<1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458570102289-16630.post@n5.nabble.com>
	<CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>
	<1458582245532-16636.post@n5.nabble.com>
	<CAGV6i+MYKNYifq1XSKdVPx+W88mF_eE5Kp7DQH4zLNG8bLZmOw@mail.gmail.com>
	<1458604043813-16643.post@n5.nabble.com>
Message-ID: <CAMyDR6KBazF1TZTb-Yu2RjdoQOwAX7BKih1+TS1zKpqsagor_w@mail.gmail.com>

I looked up transclude in my dictionary and was not found, so what does
that mean?
On Mar 21, 2016 4:48 PM, "MichaelAtOz" <oz.at.michael at gmail.com> wrote:

> I tried it with both, didn't do anything. But I'm no expert.
>
> People are aware that the printed versions are basically transcluded from
> the main manual?
>
>
>
> -----
> Admin - PM me if you need anything, or if I've done something stupid...
>
> Unless specifically shown otherwise above, my contribution is in the
> Public Domain; to the extent possible under law, I have waived all
> copyright and related or neighbouring rights to this work. Obviously
> inclusion of works of previous authors is not included in the above.
>
> The TPP is no simple ?trade agreement.?   Fight it!
> http://www.ourfairdeal.org/   time is running out!
> --
> View this message in context:
> http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16643.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/ef3fa654/attachment.html>

From oz.at.michael at gmail.com  Mon Mar 21 20:14:43 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Mon, 21 Mar 2016 17:14:43 -0700 (MST)
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAMyDR6KBazF1TZTb-Yu2RjdoQOwAX7BKih1+TS1zKpqsagor_w@mail.gmail.com>
References: <1458509782816-16601.post@n5.nabble.com>
	<CAGV6i+NCBTHtoYMj2g=hDKO7=d5hdjtydaVsMnyV=gnsTMiYzQ@mail.gmail.com>
	<1458522592210-16612.post@n5.nabble.com>
	<1458527050761-16617.post@n5.nabble.com>
	<1458570102289-16630.post@n5.nabble.com>
	<CAGV6i+NL441Kz0B8vzEX0ZEk167oVyWRB_ExaBE9=4iFJWTvSw@mail.gmail.com>
	<1458582245532-16636.post@n5.nabble.com>
	<CAGV6i+MYKNYifq1XSKdVPx+W88mF_eE5Kp7DQH4zLNG8bLZmOw@mail.gmail.com>
	<1458604043813-16643.post@n5.nabble.com>
	<CAMyDR6KBazF1TZTb-Yu2RjdoQOwAX7BKih1+TS1zKpqsagor_w@mail.gmail.com>
Message-ID: <1458605683890-16645.post@n5.nabble.com>

transclude <https://www.mediawiki.org/wiki/Transclusion>  , copies sections
into another book.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Print-version-of-OpenSCAD-manual-tp16593p16645.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Mon Mar 21 21:40:17 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Mon, 21 Mar 2016 18:40:17 -0700 (MST)
Subject: [OpenSCAD] Strange render behaviour
Message-ID: <1458610817483-16646.post@n5.nabble.com>

I am building a Bezier curve and surface library in OpenSCAD. As a demo, I am
modelling the classic Newell's tea set. The following image is the rendering
of the tea cup with an extra spout for clarity:

<http://forum.openscad.org/file/n16646/Teacup_fail.png> 

The cup spout is made of Bezier patches to model its cilindrical form whose
extremities are closed by two (in fact 4) planar faces. As you can see, CGAL
did not closed the spout top end. However, if I render just the spout (just
one), the closing faces are rendered. In any case, they are previewed.

<http://forum.openscad.org/file/n16646/Teacup_fail2.png> 

I already checked that the closing faces are planar. In fact, all vertices
are in a vertical plane, x=cte. The face triangulations you see in the
preview were done by the code, not by the previewer, as an attempt to
overcome the issue. The images were generated with very low surface samples
to help debugging. But I didn't found any reason for the missing faces.
Sometimes, CGAL displays a warning that the model may not be a manifold.

Any suggestion?



--
View this message in context: http://forum.openscad.org/Strange-render-behaviour-tp16646.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 21 23:01:15 2016
From: doug at moens.org (doug moen)
Date: Mon, 21 Mar 2016 23:01:15 -0400
Subject: [OpenSCAD] Strange render behaviour
In-Reply-To: <1458610817483-16646.post@n5.nabble.com>
References: <1458610817483-16646.post@n5.nabble.com>
Message-ID: <CAGV6i+NMq1EYK0iVHDwi=cZEpoqyRusY8OyJzN4Ykc46G3SoTw@mail.gmail.com>

It sounds like you are creating a polyhedron() with a non-manifold mesh.
One suggestion is to export the suspect polyhedron to STL, then load it
into a mesh repair program that can diagnose where the problem is. That
might help debug any problem you might have with the arguments you are
passing to polyhedron().

On 21 March 2016 at 21:40, Ronaldo <rcmpersiano at gmail.com> wrote:

> I am building a Bezier curve and surface library in OpenSCAD. As a demo, I
> am
> modelling the classic Newell's tea set. The following image is the
> rendering
> of the tea cup with an extra spout for clarity:
>
> <http://forum.openscad.org/file/n16646/Teacup_fail.png>
>
> The cup spout is made of Bezier patches to model its cilindrical form whose
> extremities are closed by two (in fact 4) planar faces. As you can see,
> CGAL
> did not closed the spout top end. However, if I render just the spout (just
> one), the closing faces are rendered. In any case, they are previewed.
>
> <http://forum.openscad.org/file/n16646/Teacup_fail2.png>
>
> I already checked that the closing faces are planar. In fact, all vertices
> are in a vertical plane, x=cte. The face triangulations you see in the
> preview were done by the code, not by the previewer, as an attempt to
> overcome the issue. The images were generated with very low surface samples
> to help debugging. But I didn't found any reason for the missing faces.
> Sometimes, CGAL displays a warning that the model may not be a manifold.
>
> Any suggestion?
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Strange-render-behaviour-tp16646.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/a22a6273/attachment.html>

From saul.jaspan at gmail.com  Mon Mar 21 23:21:05 2016
From: saul.jaspan at gmail.com (GooperMC)
Date: Mon, 21 Mar 2016 20:21:05 -0700 (MST)
Subject: [OpenSCAD] Passing lots of points to polygon(...) results in
 lower resolution
In-Reply-To: <1458424270152-16584.post@n5.nabble.com>
References: <1458424270152-16584.post@n5.nabble.com>
Message-ID: <1458616865842-16648.post@n5.nabble.com>

Scaling up then down worked!  Thanks for the help.



--
View this message in context: http://forum.openscad.org/Passing-lots-of-points-to-polygon-results-in-lower-resolution-tp16584p16648.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Tue Mar 22 01:11:50 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Tue, 22 Mar 2016 10:41:50 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <1458574755274-16632.post@n5.nabble.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>
	<CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
	<1458574755274-16632.post@n5.nabble.com>
Message-ID: <CABskhPPWQj1uTtnEYGdeM22Ed90qahzHnT-g9TPNu5FVxuBt0w@mail.gmail.com>

On 21 March 2016 at 21:09, jpmendes <jpmendes54 at gmail.com> wrote:
>
> Useful from my point of view would be an input console line acting on the
> view-port to pan, rot, zooming, and defining rotation point in an easy
> typing way like:
>
> r(x,y,z) t(x,y,z), z(v), rp(x,y,z), or even better: rx, ry, rz, etc
>

You mean to say a separate command line mode like control below view
port to control the view point.

> Optionally a reset viewpoint command "rv" without automatic zoom would be
> useful, although this option already exist in a UI button for viewing all
> the scene.

A shortcut key can be added for reset view.

> The standard views are not enough and using $vpr and $vpt in the script is
> not user friendly, and for complex multi-part objects is an head ache. The
> use of mouse drives me crazy mostly because the extreme lag and the lack to
> define a rotation point.
>





-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From marius at kintel.net  Tue Mar 22 01:17:14 2016
From: marius at kintel.net (Marius Kintel)
Date: Tue, 22 Mar 2016 01:17:14 -0400
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
Message-ID: <45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>

> On Mar 19, 2016, at 11:46 AM, doug moen <doug at moens.org> wrote:
> 
> Does anybody on the list have a better understanding of this? What are all the things that would go wrong if we tried to extend multmatrix to support projective transformations?
> 
From the top of my head, I don?t think much can go wrong. It?s still just a linear transformation.
Mapping to infinity is only possible through a division by zero when normalizing the resulting homogeneous coordinate, right?
..so that?s roughly similar to having inf values in an affine transformation matrix.

Practically, we?re limited to affine transformation since that?s all CGAL supports for Nef polyhedrons.

 -Marius



From marius at kintel.net  Tue Mar 22 01:33:53 2016
From: marius at kintel.net (Marius Kintel)
Date: Tue, 22 Mar 2016 01:33:53 -0400
Subject: [OpenSCAD] Render converting all colors to yellow
In-Reply-To: <1458592843230-16640.post@n5.nabble.com>
References: <1458592843230-16640.post@n5.nabble.com>
Message-ID: <023C09DA-9975-4D39-AB9B-C46FFBF879AC@kintel.net>

On Mar 21, 2016, at 16:40 PM, Cerin <chrisspen at gmail.com> wrote:

> I can't post my library details since the "Help" menu seems to have been
> removed in version 2015.03-1 and/or doesn't show up in Gnome-Shell.
> 
The menu issue is probably an old Ubuntu bug:

https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/FAQ#I.27m_not_getting_any_menubar_when_running_OpenSCAD_in_Ubuntu.2C_how_can_I_get_it_back.3F

 -Marius



From marius at kintel.net  Tue Mar 22 01:37:20 2016
From: marius at kintel.net (Marius Kintel)
Date: Tue, 22 Mar 2016 01:37:20 -0400
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>
Message-ID: <CA287011-0E41-4963-B34E-46B4AE0F0F22@kintel.net>

> On Mar 20, 2016, at 10:06 AM, Jerry Davis <jdawgaz at gmail.com> wrote:
> 
> I would LOVE a cheatsheet that I could use locally "offline?.

The cheatsheet is plain html and should work by simply downloading it from github:
https://github.com/openscad/openscad.github.com/tree/master/cheatsheet

 -Marius



From togo at of.net  Tue Mar 22 02:05:31 2016
From: togo at of.net (Tony Godshall)
Date: Mon, 21 Mar 2016 23:05:31 -0700
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPPWQj1uTtnEYGdeM22Ed90qahzHnT-g9TPNu5FVxuBt0w@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>
	<CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
	<1458574755274-16632.post@n5.nabble.com>
	<CABskhPPWQj1uTtnEYGdeM22Ed90qahzHnT-g9TPNu5FVxuBt0w@mail.gmail.com>
Message-ID: <CAAOvATi4tUGknVu7qCet6d=BhVnpRdYbLe=+M7QqephW_E5Ahg@mail.gmail.com>

Like this idea. Maybe if I could hit r for render or b for build, f5 can go
back to being find next as my muscle memory keeps demanding

--
sent from nexus c

On Mar 21, 2016 10:13 PM, "Amarjeet Kapoor" <amarjeet.kapoor1 at gmail.com>
wrote:

> On 21 March 2016 at 21:09, jpmendes <jpmendes54 at gmail.com> wrote:
> >
> > Useful from my point of view would be an input console line acting on the
> > view-port to pan, rot, zooming, and defining rotation point in an easy
> > typing way like:
> >
> > r(x,y,z) t(x,y,z), z(v), rp(x,y,z), or even better: rx, ry, rz, etc
> >
>
> You mean to say a separate command line mode like control below view
> port to control the view point.
>
> > Optionally a reset viewpoint command "rv" without automatic zoom would be
> > useful, although this option already exist in a UI button for viewing all
> > the scene.
>
> A shortcut key can be added for reset view.
>
> > The standard views are not enough and using $vpr and $vpt in the script
> is
> > not user friendly, and for complex multi-part objects is an head ache.
> The
> > use of mouse drives me crazy mostly because the extreme lag and the lack
> to
> > define a rotation point.
> >
>
>
>
>
>
> --
> Amarjeet Singh
> https://amarjeetkapoor1.wordpress.com
> https://github.com/amarjeetkapoor1
> https://bitbucket.org/amarjeetkapoor
>
> "knowledge about knowledge is power"
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160321/bc757b31/attachment.html>

From Torsten.Paul at gmx.de  Tue Mar 22 06:12:09 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 22 Mar 2016 11:12:09 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <CAAOvATi4tUGknVu7qCet6d=BhVnpRdYbLe=+M7QqephW_E5Ahg@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>
	<CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
	<1458574755274-16632.post@n5.nabble.com>
	<CABskhPPWQj1uTtnEYGdeM22Ed90qahzHnT-g9TPNu5FVxuBt0w@mail.gmail.com>,
	<CAAOvATi4tUGknVu7qCet6d=BhVnpRdYbLe=+M7QqephW_E5Ahg@mail.gmail.com>
Message-ID: <trinity-665e4a46-23b3-4dc0-8635-0f8395c6ca26-1458641529421@3capp-gmx-bs61>

On 21 March 2016 at 21:09, jpmendes wrote:
>
> Useful from my point of view would be an input console line acting on the
> view-port to pan, rot, zooming, and defining rotation point in an easy
> typing way like:
>
> r(x,y,z) t(x,y,z), z(v), rp(x,y,z), or even better: rx, ry, rz, etc
>
Interesting idea. Blender has a similar type of control which is
very useful, and I've seen that in other places too.

Von: "Tony Godshall"
> Like this idea. Maybe if I could hit r for render or b for build,
> f5 can go back to being find next as my muscle memory keeps
> demanding
>
Right, I guess that could be extended to most of the GUI actions
available, not just to viewport manipulation.

Actually the core infrastructure for the feature itself is already
part of the branch that is working on adding more input devices
(mainly for 3d-mouse devices, but at least for Linux this could
easily add an udev-based remote control command interface).

That topic is a bit different from the meta-data/customizer discussion,
so I guess it would be better to continue in a separate thread and
not mix both...

ciao,
  Torsten.



From jdawgaz at gmail.com  Tue Mar 22 07:24:37 2016
From: jdawgaz at gmail.com (Jerry Davis)
Date: Tue, 22 Mar 2016 04:24:37 -0700
Subject: [OpenSCAD] Print version of OpenSCAD manual
In-Reply-To: <CA287011-0E41-4963-B34E-46B4AE0F0F22@kintel.net>
References: <1458481152634-16593.post@n5.nabble.com>
	<CAMyDR6+WJZ1GYQ3rAWGvR3-J0xCq18wqeK9VQyQ_uQ8NkAmzow@mail.gmail.com>
	<CA287011-0E41-4963-B34E-46B4AE0F0F22@kintel.net>
Message-ID: <CAMyDR6LCrWbL=OQeMaeHK6seOKYmFj8OCqyU0pYyxW1NODPrDw@mail.gmail.com>

ah, marius, I really meant NOT the cheatsheet itself, but the links they
point to.


> On Mar 20, 2016, at 10:06 AM, Jerry Davis <jdawgaz at gmail.com> wrote:
>
> I would LOVE a cheatsheet that I could use locally "offline?.

The cheatsheet is plain html and should work by simply downloading it from
github:
https://github.com/openscad/openscad.github.com/tree/master/cheatsheet



--
Extra Ham Operator: K7AZJ
Registered Linux User: 275424
Raspberry Pi and Arduino developer


*The most exciting phrase to hear in science - the one that heralds new
discoveries - is not "Eureka!" but "That's funny...".*- Isaac. Asimov

*I*
*f you give someone a program, you will frustrate them for a day; if you
teach them how to program, you will frustrate them for a lifetime. *-
Anonymous


*If writing good code requires very little comments, then writing really
excellent code requires no comments at all!*- Ken Thompson

On Mon, Mar 21, 2016 at 10:37 PM, Marius Kintel <marius at kintel.net> wrote:

> > On Mar 20, 2016, at 10:06 AM, Jerry Davis <jdawgaz at gmail.com> wrote:
> >
> > I would LOVE a cheatsheet that I could use locally "offline?.
>
> The cheatsheet is plain html and should work by simply downloading it from
> github:
> https://github.com/openscad/openscad.github.com/tree/master/cheatsheet
>
>  -Marius
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/17d4edee/attachment.html>

From rudolf at parkinbot.com  Tue Mar 22 08:49:19 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 22 Mar 2016 05:49:19 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
Message-ID: <1458650959480-16656.post@n5.nabble.com>

A projection may be described by a multmatrix using a zero scale factor for
one dimension. So everything is fine. As Kintel says: CGAL is restricted to
affine transformations, so more general non-linear transformations can't be
offered as long as this restriction holds.   

Well, linear_extrude() is not a transformation, rather a constructor. As
such it touches just the tip of the iceberg of what would be possible in
OpenSCAD, without even touching multmatrix. As Wolf wrote "Twist is
implemented as a succession of skew transformations." This is the door. 

Earlier in this thread I've already opted for a nonlinear_extrude() or let's
say an "enhanced linear_extrude()" primitive that offers a *richer
prototype*. A first step would be to also allow for negative height values -
linear_extrude is not 'linear' in this point. That maybe already on the todo
list. A second (eady) one would be to allow to specify a vector along which
extrusion occurs. 

But of course much more is possible between linear_extrude() and sweep()
without leaving the land of affine operations. While sweep(), depending on
its implemetation, more or less expects an explicit description of each
frame, also more implicit path and operation descriptions would be possible.
E.g. extrusion could follow (well-defaulted) path vectors, scale vectors and
even orientation (rotation) vectors. 
>From the other side, also rotate_extrude() could be enriched to allow for a
height argument (definition of screws) or a given height path (scews with
nonlinear slopes). 

Once function arguments are possible xxx_extrude anyway should be prepared
to work with them. 

- Rudolf -



--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16656.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Tue Mar 22 09:51:35 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 22 Mar 2016 06:51:35 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458440562309-16588.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<20160319180048.GB17294@BitWizard.nl>
	<1458440562309-16588.post@n5.nabble.com>
Message-ID: <1458654695140-16657.post@n5.nabble.com>

concerning you STL questions. What I get is different to what you pasted into
your post:

solid OpenSCAD_Model
  facet normal -0 0 1  outer loop vertex 0 1 1 vertex 1 0 1 vertex 1 1 1
endloop
  ...

and I also get the expected 12 facets, two for each square face. 

- Rudolf - 





--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16657.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Tue Mar 22 12:15:03 2016
From: doug at moens.org (doug moen)
Date: Tue, 22 Mar 2016 12:15:03 -0400
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458650959480-16656.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
Message-ID: <CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>

Parkinbot wrote:

> A projection may be described by a multmatrix using a zero scale factor for
> one dimension. So everything is fine. As Kintel says: CGAL is restricted to
> affine transformations, so more general non-linear transformations can't be
> offered as long as this restriction holds.
>

I want to clarify some terminology.

Yes, it's true that projection() is mathematically equivalent to
scale([1,1,0]). Thanks for pointing this out. Mathematically, a projection
is just a special case of a linear transformation! In OpenSCAD, these two
aren't actually equivalent, because projection() returns a 2D object, while
scale([1,1,0]) returns something that looks like the output of
projection(), and looks like a 2D object, but which is labelled internally
as 3D.

But a projection is not the same thing as a projective transformation.

There are 3 classes of matrix-based geometric transformations.

   - The smallest class is linear transformations. These can be represented
   by a 3x3 matrix (in 3D). Linear transformations include rotation,
   reflection, scaling and shearing, but you can't perform a translation. The
   point [0,0,0] is always mapped to [0,0,0].
   - The next largest class is affine transformations, which are a superset
   of linear transformations. This adds the ability to perform translations.
   You need a 4x4 matrix, but there are restrictions on the matrix. The bottom
   row consists of [0,0,0,1], and the right column is [tx,ty,tz,1], where
   [tx,ty,tz] is the translation component of the affine transformation. The
   top-left 3 rows and columns are the 3x3 matrix of the linear component of
   the affine transformation.
   - The largest class is projective transformations, which are a superset
   of affine transformations. This adds the ability to map rectangles onto
   trapezoids and perform perspective transformations. You can map points out
   to infinity, so you can transform a finite object into an infinite object.
   For example, you can map a finite circle to an infinite parabola. You can
   also do the reverse, and map points at infinity to a finite range.
   Projective transformations are represented by an arbitrary 4x4 matrix.


Be careful when you talk about non-linear transformations, because
translate() is a non-linear transformation. You might instead be referring
to a non-affine transformation.

The reason I brought up projective transformations is in response to a
comment by Wolf, who said: "Finally, the outcome of the multiplication of
one or several vector(s) with a matrix (that is what multmatrix() is) need
not be restricted to affine transformations."

I wanted to point out that there are some technical challenges in
generalizing multmatrix() to support arbitrary 4x4 matrices (projective
transformations).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/b7b47abe/attachment.html>

From arnholm at arnholm.org  Tue Mar 22 13:51:49 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Tue, 22 Mar 2016 18:51:49 +0100
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458650959480-16656.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
Message-ID: <56F18635.6040706@arnholm.org>

On 22. mars 2016 13:49, Parkinbot wrote:
>>From the other side, also rotate_extrude() could be enriched to allow for a
> height argument (definition of screws) or a given height path (scews with
> nonlinear slopes).

Perhaps, in rotate_extrude, a pitch parameter combined with an ability 
to specify many revolutions in the angle parameter would be enough to 
define threads.

Carsten Arnholm



From Torsten.Paul at gmx.de  Tue Mar 22 13:53:07 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 22 Mar 2016 18:53:07 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>,
	<CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
Message-ID: <trinity-b16c91e8-04f8-4d88-9e1d-a831fb242345-1458669187831@3capp-gmx-bs42>


On?21 March 2016 at 14:33 Amarjeet Kapoor wrote:
> 1. Make UI modular so as make it easy to work and adjust panels
> according to users need (like that of gimp)
>
We are a bit restricted by the features Qt provides, which
is not as nice as Gimp shows with the flexible docking&floating
windows. But it should be possible to find way that's working
well enough.

> 2. grouping of parameters
>
For bigger models, that's useful for sure.

> 3. collapsing and expanding of individual parameter widget.
>
That probably depends a bit on what a single widget
will show. It might be a bit tedious to open and
collapse lots of small widgets.
Assuming we want to show a long description for all
the parameters, maybe there could be a single on/off
for? all the detailed descriptions to make more room for
the actual parameters?

> 4. option to hide certain parameters from display.
>
If we annotate the parameters to show, we'll get that
automatically. I think it's good to not just show all
available variables.

> 5. saving .scad file without annotation code after
> setting value of parameters it will make scad file
> backward compatible.
>
This might be useful, but I'd rate it as relatively
low priority as it's main usefulness is for the time
of migration (which could be a couple of years though).

> 6. option to make slider vertical (as for parameter
> like height it would make more appealing with vertical
> slider).
>
Good point, in a more general way this is would give
the user a way to define options for the actual
presentation of the parameter. In the simple case
this could be automatically determined based on the
values the user specified, but having some addtional
control about the presentation might be useful.

> 7. possibly radio buttons.
>
This should be covered by a generalized point 6.

> 8. A Pearson get list of all parameter associated with
> the object by clicking on it in view plane.( like a
> Pearson click on cube in a drawing he may get all
> parameter associated with that square in parameter
> widget).
>
Object picking would be a very nice thing to have,
but I think that's a bigger topic in itself, so I'd
recommend to leave that as separate project.

ciao,
  Torsten.


From ginjaian at hotmail.com  Tue Mar 22 14:16:34 2016
From: ginjaian at hotmail.com (droftarts)
Date: Tue, 22 Mar 2016 11:16:34 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458581252592-16635.post@n5.nabble.com>
References: <CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
	<CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>
	<1458581252592-16635.post@n5.nabble.com>
Message-ID: <1458670594748-16661.post@n5.nabble.com>

I've replaced all the hull and minkowski transformations in my model with the
rounded_polygon script, and exported it from OpenSCAD as a CSG file, which
was then opened in FreeCAD. To export as a STEP file with the 'bodies'
(effectively components) separate (rather than all as one body, so only one
thing is selectable), you need to select each individual body you want in
FreeCAD before exporting as STEP. I don't have too many bodies in my model,
so this wasn't too onerous, only taking a couple of minutes. Then export as
STEP, and open in Fusion 360 (or your CAD program of choice). I didn't try
to do much to the model, just checked that it was editable (it is), then
applied 'appearances' to various bodies. You can also apply appearances to
specific faces. After rendering, I got this, which I'm very happy with:

<http://forum.openscad.org/file/n16661/Frame.png> 

Yes, it's another 3D printer... basically a fully parametric lasercut/CNC
routed/hand cut frame replacement for Mendel/Prusa machines, with minimal
vitamins and no printed parts (so far), and very quick to build. I've
already built a couple of these (admittedly with a standard Prusa i2
x-axis), and they're nice and stiff, and print well (J-head nozzle and
direct drive extruder).

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16661.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Tue Mar 22 14:24:57 2016
From: nop.head at gmail.com (nop head)
Date: Tue, 22 Mar 2016 18:24:57 +0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <1458670594748-16661.post@n5.nabble.com>
References: <CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>
	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>
	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
	<CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>
	<1458581252592-16635.post@n5.nabble.com>
	<1458670594748-16661.post@n5.nabble.com>
Message-ID: <CAEEmnrMqurAuYiqEnhheTyY_z2TVEMNm2gE7hEQwBFawnHpPhA@mail.gmail.com>

Hard to tell it isn't a photo of a real object. I wish OpenScad could do
that sort of rendering.

On 22 March 2016 at 18:16, droftarts <ginjaian at hotmail.com> wrote:

> I've replaced all the hull and minkowski transformations in my model with
> the
> rounded_polygon script, and exported it from OpenSCAD as a CSG file, which
> was then opened in FreeCAD. To export as a STEP file with the 'bodies'
> (effectively components) separate (rather than all as one body, so only one
> thing is selectable), you need to select each individual body you want in
> FreeCAD before exporting as STEP. I don't have too many bodies in my model,
> so this wasn't too onerous, only taking a couple of minutes. Then export as
> STEP, and open in Fusion 360 (or your CAD program of choice). I didn't try
> to do much to the model, just checked that it was editable (it is), then
> applied 'appearances' to various bodies. You can also apply appearances to
> specific faces. After rendering, I got this, which I'm very happy with:
>
> <http://forum.openscad.org/file/n16661/Frame.png>
>
> Yes, it's another 3D printer... basically a fully parametric lasercut/CNC
> routed/hand cut frame replacement for Mendel/Prusa machines, with minimal
> vitamins and no printed parts (so far), and very quick to build. I've
> already built a couple of these (admittedly with a standard Prusa i2
> x-axis), and they're nice and stiff, and print well (J-head nozzle and
> direct drive extruder).
>
> Ian S
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16661.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/0b02b75b/attachment.html>

From jpmendes54 at gmail.com  Tue Mar 22 14:54:55 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Tue, 22 Mar 2016 11:54:55 -0700 (MST)
Subject: [OpenSCAD] UI animation fields operation mode request
Message-ID: <1458672895171-16663.post@n5.nabble.com>

Hi.

It would be nice that:

1 - The animation should not start automatically when we start introducing
the frame rate. It should start after "Enter" key pressed or by pressing a
start button. 

2 - An option for looping/no looping should exist. Useful specially if "Dump
Pictures" is checked.

3- In order to facilitate several animation sequences easily, a field should
exist for the sequence number and the .png name would have some of the most
significant digits allocated to that sequence number.

Thanks
jpmendes



--
View this message in context: http://forum.openscad.org/UI-animation-fields-operation-mode-request-tp16663.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From ginjaian at hotmail.com  Tue Mar 22 15:00:33 2016
From: ginjaian at hotmail.com (droftarts)
Date: Tue, 22 Mar 2016 12:00:33 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <CAEEmnrMqurAuYiqEnhheTyY_z2TVEMNm2gE7hEQwBFawnHpPhA@mail.gmail.com>
References: <CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>
	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
	<CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>
	<1458581252592-16635.post@n5.nabble.com>
	<1458670594748-16661.post@n5.nabble.com>
	<CAEEmnrMqurAuYiqEnhheTyY_z2TVEMNm2gE7hEQwBFawnHpPhA@mail.gmail.com>
Message-ID: <1458673233459-16664.post@n5.nabble.com>

nophead wrote
> Hard to tell it isn't a photo of a real object. I wish OpenScad could do
> that sort of rendering.

Yes, I'm rather pleased with it! I really didn't have to do very much to the
OpenSCAD output to achieve this, apart from recoding to remove minkowski and
hull. And Fusion 360 is free for 'hobbyists', and is a pretty fully-featured
CAD package.

Many thanks for your help, Chris. I've spoken to you a number of times; I
was the tech support guy at RepRapPro, and also did this thing a while ago,
which I'm in the process of updating with what I've learnt from looking at
the Mendel90 scad files! http://www.thingiverse.com/thing:16627

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16664.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Tue Mar 22 15:03:20 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Tue, 22 Mar 2016 12:03:20 -0700 (MST)
Subject: [OpenSCAD] UI animation fields operation mode request
In-Reply-To: <1458672895171-16663.post@n5.nabble.com>
References: <1458672895171-16663.post@n5.nabble.com>
Message-ID: <1458673400893-16665.post@n5.nabble.com>

Ooops, one more:
In the preferences window it would be nice to have a field to define path
for the animation files dump.

Thanks
jpmendes 




--
View this message in context: http://forum.openscad.org/UI-animation-fields-operation-mode-request-tp16663p16665.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From andrew at plumb.org  Tue Mar 22 15:20:38 2016
From: andrew at plumb.org (Andrew Plumb)
Date: Tue, 22 Mar 2016 15:20:38 -0400
Subject: [OpenSCAD] UI animation fields operation mode request
In-Reply-To: <1458672895171-16663.post@n5.nabble.com>
References: <1458672895171-16663.post@n5.nabble.com>
Message-ID: <32FD700B-ABE7-40D4-9EE1-9D1DBD97401E@plumb.org>

Related to #3, I filed Issue 1573 a little while ago requesting $frame, $frames and $fps for animate use/reference inside the code:

https://github.com/openscad/openscad/issues/1573 <https://github.com/openscad/openscad/issues/1573>

Andrew.

> On Mar 22, 2016, at 2:54 PM, jpmendes <jpmendes54 at gmail.com> wrote:
> 
> Hi.
> 
> It would be nice that:
> 
> 1 - The animation should not start automatically when we start introducing
> the frame rate. It should start after "Enter" key pressed or by pressing a
> start button. 
> 
> 2 - An option for looping/no looping should exist. Useful specially if "Dump
> Pictures" is checked.
> 
> 3- In order to facilitate several animation sequences easily, a field should
> exist for the sequence number and the .png name would have some of the most
> significant digits allocated to that sequence number.
> 
> Thanks
> jpmendes
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/UI-animation-fields-operation-mode-request-tp16663.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

--

"The future is already here.  It's just not very evenly distributed" -- William Gibson

Me: http://clothbot.com/wiki/ <http://clothbot.com/wiki/>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/0067c7e0/attachment.html>

From rcmpersiano at gmail.com  Tue Mar 22 15:29:29 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Tue, 22 Mar 2016 12:29:29 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
Message-ID: <1458674969354-16667.post@n5.nabble.com>

I tried once to perform a projective transformation with multmatrix. It
doesn't work. Multmatrix performs only affine transforms. If the last line
of the 4x4 matrix in multmatrix is [a, b, c, d], OpenSCAD seems to change
a,b,c to zero to avoid projective transforms. However, the last element  d
is used and causes an (additional) overall uniform scale of 1/d, although
the OpenSCAD Manual says:

"the fourth row is used in 3D environments to define a view of the object.
it is not used in OpenSCAD and should be [0,0,0,1]"

. If d==0, nothing is done.



--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16667.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From alex at alexgibson.net  Tue Mar 22 16:17:08 2016
From: alex at alexgibson.net (Alex Gibson)
Date: Tue, 22 Mar 2016 20:17:08 -0000
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
	export/import into FreeCAD
In-Reply-To: <CAEEmnrMqurAuYiqEnhheTyY_z2TVEMNm2gE7hEQwBFawnHpPhA@mail.gmail.com>
References: <CAEEmnrPGo7BEM53AwdfyJRSqNSA=mohpGg=5EdfG-L=Sd9aZDA@mail.gmail.com>	<CAEEmnrOGnaTV9-aDYO2-t2BijTVgFqap5rnfJ=ToYj-OBOGfiA@mail.gmail.com>	<CAEEmnrPp8J2iokkNScRrPkKkspDt53ALPQyzHd6mu-=nhfZOaw@mail.gmail.com>	<CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>	<1458313807886-16553.post@n5.nabble.com>	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>	<CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>	<1458581252592-16635.post@n5.nabble.com>	<1458670594748-16661.post@n5.nabble.com>
	<CAEEmnrMqurAuYiqEnhheTyY_z2TVEMNm2gE7hEQwBFawnHpPhA@mail.gmail.com>
Message-ID: <034801d18477$d0de76b0$729b6410$@alexgibson.net>

That?s very nice Ian.  

 

Is it rounded_polygon  from Nophead?s  email of 18/03 15:33 you used?

 

I am keen to recreate your work, but I am a big fan of Minkowski and it?s in most of my printer parts!  However I use my own module to manage it better, so hopefully I can substitute the rounded polygon script or similar without breaking my designs? 

 

By the way, I shipped the first Edumaker prototype today J 

 

Cheers

Alex

 

From: Discuss [mailto:discuss-bounces at lists.openscad.org] On Behalf Of nop head
Sent: 22 March 2016 18:25
To: OpenSCAD general discussion
Subject: Re: [OpenSCAD] Script to replicate hull and minkoswki for CSG export/import into FreeCAD

 

Hard to tell it isn't a photo of a real object. I wish OpenScad could do that sort of rendering.

 

On 22 March 2016 at 18:16, droftarts <ginjaian at hotmail.com> wrote:

I've replaced all the hull and minkowski transformations in my model with the
rounded_polygon script, and exported it from OpenSCAD as a CSG file, which
was then opened in FreeCAD. To export as a STEP file with the 'bodies'
(effectively components) separate (rather than all as one body, so only one
thing is selectable), you need to select each individual body you want in
FreeCAD before exporting as STEP. I don't have too many bodies in my model,
so this wasn't too onerous, only taking a couple of minutes. Then export as
STEP, and open in Fusion 360 (or your CAD program of choice). I didn't try
to do much to the model, just checked that it was editable (it is), then
applied 'appearances' to various bodies. You can also apply appearances to
specific faces. After rendering, I got this, which I'm very happy with:

<http://forum.openscad.org/file/n16661/Frame.png>

Yes, it's another 3D printer... basically a fully parametric lasercut/CNC
routed/hand cut frame replacement for Mendel/Prusa machines, with minimal
vitamins and no printed parts (so far), and very quick to build. I've
already built a couple of these (admittedly with a standard Prusa i2
x-axis), and they're nice and stiff, and print well (J-head nozzle and
direct drive extruder).

Ian S



--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16661.html
Sent from the OpenSCAD mailing list archive at Nabble.com.

_______________________________________________
OpenSCAD mailing list
Discuss at lists.openscad.org
http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/be992ee1/attachment.html>

From ginjaian at hotmail.com  Tue Mar 22 17:01:55 2016
From: ginjaian at hotmail.com (droftarts)
Date: Tue, 22 Mar 2016 14:01:55 -0700 (MST)
Subject: [OpenSCAD] Script to replicate hull and minkoswki for CSG
 export/import into FreeCAD
In-Reply-To: <034801d18477$d0de76b0$729b6410$@alexgibson.net>
References: <CAEEmnrO4j+qra8cYuWQbXJgZ+PFQbTVzWzfNZKKzBVNPQF+Fjg@mail.gmail.com>
	<CAEEmnrOfT6DAbe7+PTtXaiTL-JdkX-LnB8-mfRU5aTKWAVeEXQ@mail.gmail.com>
	<CAEEmnrMVE2QabiaxpDzBTwskdpqRCS4MyrHOjkugsTH=KqyZBA@mail.gmail.com>
	<1458313807886-16553.post@n5.nabble.com>
	<CAEEmnrNkkOB78f8BXyKEjkgyBhRqSjsvu6hEyYV9K3BC3XKuQQ@mail.gmail.com>
	<CAEEmnrM4XXThp7QAyZiHMDRTk=fPAXdd5P5kC4NDkQQ1OZmPHQ@mail.gmail.com>
	<1458581252592-16635.post@n5.nabble.com>
	<1458670594748-16661.post@n5.nabble.com>
	<CAEEmnrMqurAuYiqEnhheTyY_z2TVEMNm2gE7hEQwBFawnHpPhA@mail.gmail.com>
	<034801d18477$d0de76b0$729b6410$@alexgibson.net>
Message-ID: <1458680515815-16669.post@n5.nabble.com>

alexgibson wrote
> That?s very nice Ian. Is it rounded_polygon  from Nophead?s  email of
> 18/03 15:33 you used?

Yes, I don't think I changed anything from that version. Remember, the
points have to go around in a clockwise direction, though.


alexgibson wrote
> By the way, I shipped the first Edumaker prototype today J 

Congratulations! I was hoping to catch up with you at rlab last night, as
I'd like to do a coreXY machine using the same construction method as this
machine, but probably with your XY layout (or something similar).

Ian S




--
View this message in context: http://forum.openscad.org/Script-to-replicate-hull-and-minkoswki-for-CSG-export-import-into-FreeCAD-tp16537p16669.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Tue Mar 22 17:31:59 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 22 Mar 2016 14:31:59 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
Message-ID: <1458682319775-16670.post@n5.nabble.com>

Doug, you are right in the sense of strict terminology. But also with respect
to the title of the thread I rather prefer the term non-linear
transformation instead of 'non-affine' transformation. The notion is
commonly used and understood to characterize functions that do not just
introduce a new cartesian coordinate system. 

Neverless when we talk about 'non xxx' operations in CAD we have objects in
mind that maybe approximated by one (or many) shapes and a sequence of
affine transformations. You also mention the implementational difference
between 2D and 3D-shapes - which in my eyes is a strong restriction OpenSCAD
really should get rid of. Why shouldn't a 2D shape be allowed to live in 3D?
Therefore linear_extrude() is again a good candidate to see where
expectation and implementation clash and OpenSCAD's sematics gets unexpected
for newcomers. 


> linear_extrude(height = 10)
> rotate([40, 0, 0])    // is applied but result is implicitly truncated to
> xy
> translate([10, 10, 20]) // z-shift is ignored
> circle(10); 
> 
> linear_extrude(height = 10)
> sphere(10); // not projected, emits warning, but only on first F5

It was also mentioned by others, that rotate_extrude() does unexpectedly an
implicit rotation (and even a 'strange' z-shift, when an y-offset is used). 


> rotate_extrude()
> translate([10, 20, 0]) // effects into a z-translate
> circle(9);    // implicit x-rotate 

At least an axis argument like "x", "y", "z" defaulting to "z" would here be
helpful. 

So, for what reason are linear_extrude() and rotate_extrude() restricted to
2D shapes being placed at z=0 at all? Why can't they also operate over 2D
objects living in 3D space or even 3D objects being placed anywhere? See
this example (which can't be fully implemented with current language means,
think of "twist"):

<http://forum.openscad.org/file/n16670/linear3D.png> 

> linear_extrude3D()
>   myobj(); 
> 
> module linear_extrude3D(h = 10)
> {
>   children([0]); 
>   linear_extrude(height = h)  projection() children([0]); 
>   translate([0, 0, h]) children([0]); 
> }
> 
> module myobj()
>   difference()
>   {
>     sphere(10); 
>     cylinder(r = 6, h = 21, center = true);
>   }

xxx_extrude() in my eyes are the mightiest features in OpenSCAD, but still
far away from what is possible - with current language means. 




--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16670.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Tue Mar 22 19:09:19 2016
From: doug at moens.org (doug moen)
Date: Tue, 22 Mar 2016 19:09:19 -0400
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458682319775-16670.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
	<1458682319775-16670.post@n5.nabble.com>
Message-ID: <CAGV6i+MRs4jVh3jHMFqYUriGcLkom1EiQgmA6W2HhKjfkjgzyw@mail.gmail.com>

@Parkinbot, I have been looking at this problem of generalized extrusion,
in a context slightly removed from OpenSCAD. I've been messing around with
functional representation (F-Rep). My idea is that OpenSCAD would be more
powerful if the geometry engine could be generalized to support F-Rep, in
addition to the current mesh representation.

F-Rep allows you to provide an exact representation for any shape that can
be described by a mathematical function. And it turns out to be quite easy
to define powerful new geometrical primitives with not very much code. So
much easier than mesh algorithms. There are a bunch of OpenSCAD-like tools
that implement this already, so it's trendy, and there are open source
implementations to look at.

Even with F-Rep, it's still cheaper and more convenient to implement
linear_extrude and rotate_extrude with the same interface as in OpenSCAD,
where the shape being extruded is required to be 2D. With this restriction,
the code is simple and fast. I've got another variant (not tested) called
perimeter_extrude, which sweeps one 2D shape along the perimeter of another
2D shape. The code looks simple and fast, but I dunno if it will work in
all cases yet.

I am investigating the more general problem of sweeping a 3D shape through
space along a parameterized curve. One paper I found describes a general
solution to this problem, allowing the shape being swept to continuously
vary according to the curve parameter. Self intersections are handled. It's
totally general, but the code is complex and slow. I haven't actually tried
coding it.

I've found another research paper that describes a different solution,
where you achieve the sweep by constructing a higher dimensional shape and
then project that down to 3D. I'm not finished reading the paper.

Anyway, my answer to your comment is that there are engineering tradeoffs
where the more general algorithms may be much slower than the specialized
ones, so there is room for both.

There are definitely some annoying bugs where the geometric operations fail
to report bad arguments, and produce unexpected results instead, like what
you mentioned. Those bugs should be fixed.

I am undecided about the status of 2D shapes in my F-Rep geometry system:
should they have a different type than 3D shapes? Should they be 3D objects
that are distinguished by having a bounding box of height 0 that confines
them to the x-y plane? We do need to have identifiable 2D objects, so that
you can create a 2D object, preview it, export it to DXF.

I refuse to call translate() a linear transformation. It's technically
wrong, and it creates too much confusion if, like me, you are trying to
learn enough computational geometry to make full use of OpenSCAD, including
the linear algebra parts. I don't care about pop-culture misunderstandings
of what "non-linear" means, it's more important for me to not be confused
about the math.

On 22 March 2016 at 17:31, Parkinbot <rudolf at parkinbot.com> wrote:

> Doug, you are right in the sense of strict terminology. But also with
> respect
> to the title of the thread I rather prefer the term non-linear
> transformation instead of 'non-affine' transformation. The notion is
> commonly used and understood to characterize functions that do not just
> introduce a new cartesian coordinate system.
>
> Neverless when we talk about 'non xxx' operations in CAD we have objects in
> mind that maybe approximated by one (or many) shapes and a sequence of
> affine transformations. You also mention the implementational difference
> between 2D and 3D-shapes - which in my eyes is a strong restriction
> OpenSCAD
> really should get rid of. Why shouldn't a 2D shape be allowed to live in
> 3D?
> Therefore linear_extrude() is again a good candidate to see where
> expectation and implementation clash and OpenSCAD's sematics gets
> unexpected
> for newcomers.
>
>
> > linear_extrude(height = 10)
> > rotate([40, 0, 0])    // is applied but result is implicitly truncated to
> > xy
> > translate([10, 10, 20]) // z-shift is ignored
> > circle(10);
> >
> > linear_extrude(height = 10)
> > sphere(10); // not projected, emits warning, but only on first F5
>
> It was also mentioned by others, that rotate_extrude() does unexpectedly an
> implicit rotation (and even a 'strange' z-shift, when an y-offset is used).
>
>
> > rotate_extrude()
> > translate([10, 20, 0]) // effects into a z-translate
> > circle(9);    // implicit x-rotate
>
> At least an axis argument like "x", "y", "z" defaulting to "z" would here
> be
> helpful.
>
> So, for what reason are linear_extrude() and rotate_extrude() restricted to
> 2D shapes being placed at z=0 at all? Why can't they also operate over 2D
> objects living in 3D space or even 3D objects being placed anywhere? See
> this example (which can't be fully implemented with current language means,
> think of "twist"):
>
> <http://forum.openscad.org/file/n16670/linear3D.png>
>
> > linear_extrude3D()
> >   myobj();
> >
> > module linear_extrude3D(h = 10)
> > {
> >   children([0]);
> >   linear_extrude(height = h)  projection() children([0]);
> >   translate([0, 0, h]) children([0]);
> > }
> >
> > module myobj()
> >   difference()
> >   {
> >     sphere(10);
> >     cylinder(r = 6, h = 21, center = true);
> >   }
>
> xxx_extrude() in my eyes are the mightiest features in OpenSCAD, but still
> far away from what is possible - with current language means.
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Non-Linear-Transformations-tp14539p16670.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/da87c7a4/attachment.html>

From jpmendes54 at gmail.com  Tue Mar 22 19:19:41 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Tue, 22 Mar 2016 16:19:41 -0700 (MST)
Subject: [OpenSCAD] UI animation fields operation mode request
In-Reply-To: <32FD700B-ABE7-40D4-9EE1-9D1DBD97401E@plumb.org>
References: <1458672895171-16663.post@n5.nabble.com>
	<32FD700B-ABE7-40D4-9EE1-9D1DBD97401E@plumb.org>
Message-ID: <1458688781349-16672.post@n5.nabble.com>

Let me add one more request I think useful too:

Why not implementing an echof() a echo() to a log file? So one can decide
which changing parameters to record for analysis or for future use. For
example: constructing tables, record the changing of values during  an
animation, etc. . I mean a file with only the contents that we decide to
record, not a replica of the console output.

jpmendes



--
View this message in context: http://forum.openscad.org/UI-animation-fields-operation-mode-request-tp16663p16672.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Tue Mar 22 20:36:04 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 22 Mar 2016 17:36:04 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <CAGV6i+MRs4jVh3jHMFqYUriGcLkom1EiQgmA6W2HhKjfkjgzyw@mail.gmail.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
	<1458682319775-16670.post@n5.nabble.com>
	<CAGV6i+MRs4jVh3jHMFqYUriGcLkom1EiQgmA6W2HhKjfkjgzyw@mail.gmail.com>
Message-ID: <1458693364747-16673.post@n5.nabble.com>

doug.moen wrote
> Even with F-Rep, it's still cheaper and more convenient to implement
> linear_extrude and rotate_extrude with the same interface as in OpenSCAD,
> where the shape being extruded is required to be 2D. With this
> restriction,
> the code is simple and fast. 

I've done some work on sweep() and spline interpolation on the basis of
OpenSCAD functions. Out of this background I don't see any significant
computational difference between extruding a 2D shape living in 2D or 3D.
Neither in allowing for directional vectors instead of [0,0,1]. 
Of course implementing linear_extrude() to operate over 3D shapes is more
sophisticated, but don't forget what is gained. It could replace hull() and
get rid of its convexity restriction. If it is done as proposed additional
costs will be limited. One could also live with twists and scales not being
applied to the objects halfs at the ends. 


> I've got another variant (not tested) called
> perimeter_extrude, which sweeps one 2D shape along the perimeter of
> another
> 2D shape. The code looks simple and fast, but I dunno if it will work in
> all cases yet.

I'am afraid you will have to deal with self intersections as soon as
linearity is lost. 


> I am investigating the more general problem of sweeping a 3D shape through
> space along a parameterized curve. One paper I found describes a general
> solution to this problem, allowing the shape being swept to continuously
> vary according to the curve parameter. Self intersections are handled.
> It's
> totally general, but the code is complex and slow. I haven't actually
> tried
> coding it.

My approach for sweeps with fixed (or locally only smoothly morphing) shapes
is to evaluate the slope and rotation axes and calculate possible
intersections for extreme values analytically for each slice. Whenever an
intersection is found, the operation will be split and resulting shapes
finally combined with union(). The less pathologic a sweep is formulated the
faster the code. 

- Rudolf - 



--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16673.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Tue Mar 22 21:50:18 2016
From: doug at moens.org (doug moen)
Date: Tue, 22 Mar 2016 21:50:18 -0400
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458693364747-16673.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
	<1458682319775-16670.post@n5.nabble.com>
	<CAGV6i+MRs4jVh3jHMFqYUriGcLkom1EiQgmA6W2HhKjfkjgzyw@mail.gmail.com>
	<1458693364747-16673.post@n5.nabble.com>
Message-ID: <CAGV6i+MyTgY3=rmBJH5n2yR-i4bukfAvL319wz2jFJRTr59W2g@mail.gmail.com>

Parkinbot wrote:

> Implementing linear_extrude() to operate over 3D shapes is more
> sophisticated, but don't forget what is gained. It could replace hull() and
> get rid of its convexity restriction. If it is done as proposed additional
> costs will be limited. One could also live with twists and scales not being
> applied to the objects halfs at the ends.
>

Okay, but linear_extrude() 3dshape is, except for the end caps, the same as
linear_extrude() projection() 3dshape. Little is gained except for some
convenience. But now I agree that it's not a burden to implement.

Consider this:

module linear_extrude3(h)
{
    children();
    linear_extrude(h) projection() children();
    translate([0,0,h]) children();
}

linear_extrude3(10)
{
    cube(8,center=true);
    for(i=[0:90:270]) {
         rotate([0,0,i]) translate([4,0,0]) sphere(2);
    }
}

My comment about twist is that most of the F-Rep solid modelling systems
have a separate twist() operator that applies to any shape. It's only a
couple lines of code, so it's easy to implement, and more general than a
twist that can only be applied to the result of linear_extrude. This would
be an example of one of those functional transforms that Trygon was
promoting in the original post.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160322/9f595140/attachment.html>

From amarjeet.kapoor1 at gmail.com  Wed Mar 23 03:48:10 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Wed, 23 Mar 2016 13:18:10 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <trinity-b16c91e8-04f8-4d88-9e1d-a831fb242345-1458669187831@3capp-gmx-bs42>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<56DDEC04.6090302@gmx.de>
	<CABskhPO4fEF+R_ERKPgRVC22Hi=fbRGqbXHsEoxUCj=-JrzaYQ@mail.gmail.com>
	<56DFD216.8000508@gmx.de>
	<CABskhPMW0o9tALwNB3_KpAXxG5aNjO=+tS__uz-JZRAa1gUpkQ@mail.gmail.com>
	<84403C69-FCFD-4CAB-891D-65F46EDCD7BD@kintel.net>
	<CABskhPO0jiteQeSxvHtC_C-=89zjRFsdSiYA+JGoOS2KAaXp6w@mail.gmail.com>
	<CABskhPM3VA+Ku9a6san=Vm41jFGd9qzi3cXQRLoXO3gixD_4=w@mail.gmail.com>
	<56ED6FC3.7090604@gmx.de>
	<CABskhPOtcdB=B6y7A7ri6Tc+th9rfqAW4W5hjm9Qd62DN1x0yg@mail.gmail.com>
	<trinity-b16c91e8-04f8-4d88-9e1d-a831fb242345-1458669187831@3capp-gmx-bs42>
Message-ID: <CABskhPMmu0L3NsvM_1bD4hrxy-t_Oof=+oF+=7MsZ_WwXuxcPg@mail.gmail.com>

On 22 March 2016 at 23:23, Torsten Paul <Torsten.Paul at gmx.de> wrote:
>
> On 21 March 2016 at 14:33 Amarjeet Kapoor wrote:

Thank you for your views but their are some features which I was not
able to convey
correctly.

>> 4. option to hide certain parameters from display.
> If we annotate the parameters to show, we'll get that
> automatically. I think it's good to not just show all
> available variables.
>

I was explaining the situation when person has annotated the variable
and he has been changing the value from form but he want to fix that
particular value for some time and want to remove that parameter from
parameter form so has to make room for other parameters in that
widget.


>> 5. saving .scad file without annotation code after
>> setting value of parameters it will make scad file
>> backward compatible.
>>
> This might be useful, but I'd rate it as relatively
> low priority as it's main usefulness is for the time
> of migration (which could be a couple of years though).

We can modify this feature that is we can assign new values to
variables from form i.e changes we made to model through form are
temporary, don't exist after we open that model file again but we can
make it permanent in program.




-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From db5765 at outlook.com  Wed Mar 23 06:35:14 2016
From: db5765 at outlook.com (Trygon)
Date: Wed, 23 Mar 2016 03:35:14 -0700 (MST)
Subject: [OpenSCAD] ShapeJS Feature Proposal: OpenSCAD Parametric Model
	Support
Message-ID: <1458729314481-16676.post@n5.nabble.com>

I have just posted a proposal on the Shapeways developer forum for them to
provide support for parametric OpenSCAD model import into ShapeJS.  This
would allow a shop on Shapeways to offer customisable objects ("cocreator"
per Shapeways), generated by feeding the UI parameters to an OpenSCAD
script.

If you like this idea please support it - the Shapeways development team are
very open to new ideas.

Shapeways forum link:

http://www.shapeways.com/forum/index.php?t=msg&th=39204&start=0&

-Trygon




--
View this message in context: http://forum.openscad.org/ShapeJS-Feature-Proposal-OpenSCAD-Parametric-Model-Support-tp16676.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Wed Mar 23 06:55:00 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Wed, 23 Mar 2016 16:25:00 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
Message-ID: <CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>

I have written project proposal according to features that I think could
be added you can suggest more.
Milestones are not fixed till now.

Need your review on it

https://docs.google.com/document/d/1hXXQI0PEPQnu6e-x0huNQsMt_3Ocn8aBtpwJ_0C-uiM/edit#heading=h.n3vseu6e2l4g

-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From rudolf at parkinbot.com  Wed Mar 23 07:46:50 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 23 Mar 2016 04:46:50 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <CAGV6i+MyTgY3=rmBJH5n2yR-i4bukfAvL319wz2jFJRTr59W2g@mail.gmail.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
	<1458682319775-16670.post@n5.nabble.com>
	<CAGV6i+MRs4jVh3jHMFqYUriGcLkom1EiQgmA6W2HhKjfkjgzyw@mail.gmail.com>
	<1458693364747-16673.post@n5.nabble.com>
	<CAGV6i+MyTgY3=rmBJH5n2yR-i4bukfAvL319wz2jFJRTr59W2g@mail.gmail.com>
Message-ID: <1458733610724-16678.post@n5.nabble.com>

Yes, a separate twist operator allowing for an axis argument defaulted to [0,
0, 1] would gain a lot. But I am afraid it is not so easy to implement,
because it requests a decomposition of the operands into slices. 


> Okay, but linear_extrude() 3dshape is, except for the end caps, the same
> as linear_extrude() projection() 3dshape. Little is gained except for some
> convenience. 

To have the endcaps is of course the salt in the soup. After all the shapes
need to be split, twisted and scaled. I tried to add a twist, which does not
twist the endcaps in lack of the twist operator. It has already CSG shadows
(F6 works fine). But no way to add a scale, because it is not expressible in
OpenSCAD. 
Btw the code shows just another linear_extrude() bug. The twist parameter
rotates with wrong sign.

<http://forum.openscad.org/file/n16678/lin3.png> 

> module linear_extrude3(h, twist = 0)
> {
>     rotate([0, 0, -twist])  cap(h, true) children(); 
>     linear_extrude(h, twist = twist) projection() children();
>     cap(h, scale, false) children();
> }
> module cap(h, upper = true)
> {
>   difference()
>   {
>     translate([0,0,upper?h:0])   children(); 
>     linear_extrude(h) projection() children();
>    }
> }
> 
> linear_extrude3(30, 60, [1,.5])
> {
>   translate([10, 10, 0])
>   {
>     cube(8,center=true);
>     for(i=[0:90:270]) {
>          rotate([0,0,i]) translate([4,0,0]) sphere(2);
>     }
>   }
> }





--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16678.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Wed Mar 23 08:59:58 2016
From: doug at moens.org (doug moen)
Date: Wed, 23 Mar 2016 08:59:58 -0400
Subject: [OpenSCAD]  Non-Linear Transformations
In-Reply-To: <1458733610724-16678.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<CAGV6i+Pstw9v6_Ov=6-_Y6JHLmVamBKsqwZzmiAbdp+TnDmouA@mail.gmail.com>
	<1458682319775-16670.post@n5.nabble.com>
	<CAGV6i+MRs4jVh3jHMFqYUriGcLkom1EiQgmA6W2HhKjfkjgzyw@mail.gmail.com>
	<1458693364747-16673.post@n5.nabble.com>
	<CAGV6i+MyTgY3=rmBJH5n2yR-i4bukfAvL319wz2jFJRTr59W2g@mail.gmail.com>
	<1458733610724-16678.post@n5.nabble.com>
Message-ID: <CAGV6i+OF85mnu78Q1Q=qhWXtRsr+crHqj3NPWM6f2hvXKNeHjw@mail.gmail.com>

Nice. I now see that the end caps need to be twisted in order for this to
work correctly with a twist parameter. A twist() operator would be needed.

In order to correctly scale the end caps, we need a projective
transformation, an extension discussed in this thread.

Interesting. The 'scale' parameter actually applies a projective
transformation to the output of linear extrude. If we supported these
transformations directly, the 'scale' parameter wouldn't be needed.

Doug.

On Wednesday, 23 March 2016, Parkinbot <rudolf at parkinbot.com
<javascript:_e(%7B%7D,'cvml','rudolf at parkinbot.com');>> wrote:

> Yes, a separate twist operator allowing for an axis argument defaulted to
> [0,
> 0, 1] would gain a lot. But I am afraid it is not so easy to implement,
> because it requests a decomposition of the operands into slices.
>
>
> > Okay, but linear_extrude() 3dshape is, except for the end caps, the same
> > as linear_extrude() projection() 3dshape. Little is gained except for
> some
> > convenience.
>
> To have the endcaps is of course the salt in the soup. After all the shapes
> need to be split, twisted and scaled. I tried to add a twist, which does
> not
> twist the endcaps in lack of the twist operator. It has already CSG shadows
> (F6 works fine). But no way to add a scale, because it is not expressible
> in
> OpenSCAD.
> Btw the code shows just another linear_extrude() bug. The twist parameter
> rotates with wrong sign.
>
> <http://forum.openscad.org/file/n16678/lin3.png>
>
> > module linear_extrude3(h, twist = 0)
> > {
> >     rotate([0, 0, -twist])  cap(h, true) children();
> >     linear_extrude(h, twist = twist) projection() children();
> >     cap(h, scale, false) children();
> > }
> > module cap(h, upper = true)
> > {
> >   difference()
> >   {
> >     translate([0,0,upper?h:0])   children();
> >     linear_extrude(h) projection() children();
> >    }
> > }
> >
> > linear_extrude3(30, 60, [1,.5])
> > {
> >   translate([10, 10, 0])
> >   {
> >     cube(8,center=true);
> >     for(i=[0:90:270]) {
> >          rotate([0,0,i]) translate([4,0,0]) sphere(2);
> >     }
> >   }
> > }
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Non-Linear-Transformations-tp14539p16678.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160323/f6cbe175/attachment.html>

From Torsten.Paul at gmx.de  Wed Mar 23 10:17:49 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Wed, 23 Mar 2016 15:17:49 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
Message-ID: <56F2A58D.4000304@gmx.de>

On 03/23/2016 11:55 AM, Amarjeet Kapoor wrote:
> I have written project proposal according to features that I think
> could be added you can suggest more.
>
Thanks. Just a quick first response...

The detailed description already has some good points and
lists examples for the topics we discussed. That looks
like a good base for approaching the project and defining
the specific things to do.

The Milestones part could use some more details. I know it's
not easy to give a very detailed plan for this type of project
with a number of unknowns that will only become clear in the
first phase. So one option to get the steps a bit clearer
could be to explain how you want to approach the different
parts of the project.
So what I mean is basically the first part of the proposal
list some things to do with "We can...", the milestone part
should outline the (small) steps that say how it will be
possible to decide what will be done, ideally on a weekly
basis.

(Note that weekly here mainly stands for "something that
might be done in a couple of days and does not need like
3 weeks"; The timeline given will be guideline, not a strict
work plan and can be adjusted)

ciao,
  Torsten.



From arnholm at arnholm.org  Wed Mar 23 10:46:29 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Wed, 23 Mar 2016 15:46:29 +0100
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <56F18635.6040706@arnholm.org>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com> <56F18635.6040706@arnholm.org>
Message-ID: <56F2AC45.1050708@arnholm.org>

On 22. mars 2016 18:51, Carsten Arnholm wrote:
> On 22. mars 2016 13:49, Parkinbot wrote:
>>> From the other side, also rotate_extrude() could be enriched to allow
>>> for a
>> height argument (definition of screws) or a given height path (scews with
>> nonlinear slopes).
>
> Perhaps, in rotate_extrude, a pitch parameter combined with an ability
> to specify many revolutions in the angle parameter would be enough to
> define threads.

As an experiment, I have tried this approach in my latest implementation 
of rotate_extrude in Angelscript CSG. It might provide some inspiration 
for OpenSCAD:

http://arnholm.org/software/as_csg/ISO_thread1.png
http://arnholm.org/software/as_csg/ISO_thread2.png

The complete source code generating the above is
http://arnholm.org/software/as_csg/ISO_thread.as
(Note this is based on an experimental version)

All 3d booleans are performed using carve (0.25 sec). Tesselation for 
STL also done with carve.

To view the result in 3d using OpenSCAD:
http://arnholm.org/software/as_csg/ISO_thread.csg

In general the approach taken is to iteratively transform the 2d profile 
into its proper 3d location and use the transformed profile to build the 
3d mesh geometry and topology.

Carsten Arnholm


From jpmendes54 at gmail.com  Wed Mar 23 10:52:08 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 23 Mar 2016 07:52:08 -0700 (MST)
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
Message-ID: <1458744728852-16684.post@n5.nabble.com>

Hello,

Maybe I'm wrong but I'm not enthusiastic about the use of sliders on the UI.
I would prefer a direct entry of values or both options. Since we do not
have real variables, each time you move a slider the script is recompiled to
reflect the actual state, when the project gets complicated the lag will be
not negligible if not insupportable. And not everybody have top speed
machines. 
With direct entree boxes you could define ranges for the parameters and
observe the respective evolution result. 
Another thing I feel is important, although outside the scope of the UI,
would be the existence of an echof() echo to file functionality. That would
allow the recording of parameters, or even better, interacting with the
outside world. For instance the use of sound, or performing real actions. 
I'm seeing for instance a python script interacting with the logs from the
OpenSCAD app.

jpmendes





--
View this message in context: http://forum.openscad.org/Introduction-tp16322p16684.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Wed Mar 23 11:27:36 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Wed, 23 Mar 2016 12:27:36 -0300
Subject: [OpenSCAD] Strange render behaviour
In-Reply-To: <CAGV6i+NMq1EYK0iVHDwi=cZEpoqyRusY8OyJzN4Ykc46G3SoTw@mail.gmail.com>
References: <1458610817483-16646.post@n5.nabble.com>
	<CAGV6i+NMq1EYK0iVHDwi=cZEpoqyRusY8OyJzN4Ykc46G3SoTw@mail.gmail.com>
Message-ID: <CA+i9EaBpsvqS-8G2eJipakupySS93zLT8Qbr6=QZSjUNmJBvuw@mail.gmail.com>

Thank you, dough, for your clue. I am still learning how to debug OpenSCAD
codes. However, the STL in Meshlab and TriMM just confirmed that the faces
where missing. After lot of tests (I almost complete a manifold test code
in OpenSCAD for polyhedron data) I found that the faces where not
considered planar by CGAL. I had no warning of that. A suitable
triangulation solved the issue.

I am using an unconventional strategy in building the polyhedra that
simplifies the modelling scheme. Eventually the vertices of adjacent faces
are doubled in the polyhedron definition. That is, I define each patch
vertices (to send to the polyhedron) independently for each patch. And the
faces of that patch refer (index) those vertices. So, the same vertex
appear many times in the list 'points' of the polyhedron.

That gives me freedom to define each patch data without referring to the
vertices already defined by other patches. The only care is needed is to
use the same coordinates in the repetitions to have a proper join.

Look this simple example:

// a simple tetrahedron
vert = [ [0,0,0], [100,0,0], [0,100,0], [0,0,100], [100,0,0], [0,100,0],
[0,0,100] ];

tris = [ [0,1,2], [0,2,3], [3,1,0], [5,4,6] ];

difference(){
  polyhedron( points = vert, faces  = tris );
  cube(40);
}

The last face is the only one to refer to the last 3 vertices which double
previous occurrences. CGAL deals with that and seems to consolidate all
vertices. That polyhedron is accepted as a manifold by CGAL.



2016-03-22 0:01 GMT-03:00 doug moen <doug at moens.org>:

> It sounds like you are creating a polyhedron() with a non-manifold mesh.
> One suggestion is to export the suspect polyhedron to STL, then load it
> into a mesh repair program that can diagnose where the problem is. That
> might help debug any problem you might have with the arguments you are
> passing to polyhedron().
>
> On 21 March 2016 at 21:40, Ronaldo <rcmpersiano at gmail.com> wrote:
>
>> I am building a Bezier curve and surface library in OpenSCAD. As a demo,
>> I am
>> modelling the classic Newell's tea set. The following image is the
>> rendering
>> of the tea cup with an extra spout for clarity:
>>
>> <http://forum.openscad.org/file/n16646/Teacup_fail.png>
>>
>> The cup spout is made of Bezier patches to model its cilindrical form
>> whose
>> extremities are closed by two (in fact 4) planar faces. As you can see,
>> CGAL
>> did not closed the spout top end. However, if I render just the spout
>> (just
>> one), the closing faces are rendered. In any case, they are previewed.
>>
>> <http://forum.openscad.org/file/n16646/Teacup_fail2.png>
>>
>> I already checked that the closing faces are planar. In fact, all vertices
>> are in a vertical plane, x=cte. The face triangulations you see in the
>> preview were done by the code, not by the previewer, as an attempt to
>> overcome the issue. The images were generated with very low surface
>> samples
>> to help debugging. But I didn't found any reason for the missing faces.
>> Sometimes, CGAL displays a warning that the model may not be a manifold.
>>
>> Any suggestion?
>>
>>
>>
>> --
>> View this message in context:
>> http://forum.openscad.org/Strange-render-behaviour-tp16646.html
>> Sent from the OpenSCAD mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160323/d0bf8519/attachment.html>

From runsun at gmail.com  Wed Mar 23 12:34:35 2016
From: runsun at gmail.com (runsun)
Date: Wed, 23 Mar 2016 09:34:35 -0700 (MST)
Subject: [OpenSCAD] Strange render behaviour
In-Reply-To: <CA+i9EaBpsvqS-8G2eJipakupySS93zLT8Qbr6=QZSjUNmJBvuw@mail.gmail.com>
References: <1458610817483-16646.post@n5.nabble.com>
	<CAGV6i+NMq1EYK0iVHDwi=cZEpoqyRusY8OyJzN4Ykc46G3SoTw@mail.gmail.com>
	<CA+i9EaBpsvqS-8G2eJipakupySS93zLT8Qbr6=QZSjUNmJBvuw@mail.gmail.com>
Message-ID: <1458750875596-16686.post@n5.nabble.com>

Ronaldo wrote
> That gives me freedom to define each patch data without referring to the
> vertices already defined by other patches. The only care is needed is to
> use the same coordinates in the repetitions to have a proper join.

Interesting approach. I am curious: when you say "the only care needed is to
use the same coordinates...", you DID "refer to the vertices already
defined", right ? 

What that seems to me is to avoid "index referring to the existing data" by
introducing a "new data referring to the existing data" approach, and you
still need to use indexing at the same time, now you have two tasks instead
of one. So the advantage doesn't seem to be there. 

Besides, if complexity increases, matching the data points could be a huge
headache. 



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Strange-render-behaviour-tp16646p16686.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Wed Mar 23 12:58:56 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Wed, 23 Mar 2016 17:58:56 +0100
Subject: [OpenSCAD] Introduction
In-Reply-To: <1458744728852-16684.post@n5.nabble.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<1458744728852-16684.post@n5.nabble.com>
Message-ID: <56F2CB50.1070101@gmx.de>

On 03/23/2016 03:52 PM, jpmendes wrote:
> Maybe I'm wrong but I'm not enthusiastic about the use of sliders on the UI.
> I would prefer a direct entry of values or both options. Since we do not
> have real variables, each time you move a slider the script is recompiled to
> reflect the actual state, when the project gets complicated the lag will be
> not negligible if not insupportable. And not everybody have top speed
> machines. 
>
Right, the ability to enter the value directly can be useful for
different reasons. I hate it if sliders prevent it to enter a nice
value and always end up producing 19.9 or 20.1.

Thinking about that it might not even be a good idea to always
force the representation the script suggests, giving the user
some kind of toggle to change the display style could solve
this (at the expense of more complex UI elements, but that's
probably not too big a problem).

The update is a separate topic though, there is no need to always
directly update for every change. This can be easily covered by a
small delay that causes recalculation only after the user stops
changing the values.
In addition, I think there should be also a simple checkbox (or
some other means) that will control if the automatic update
happens at all.

> With direct entree boxes you could define ranges for the parameters
> and observe the respective evolution result.
>
Can you illustrate that a bit more? I'm not sure how those ranges
would work. I'm somehow reminded at the animation behavior, but
that seems too complicated with multiple parameters.

ciao,
  Torsten.



From rcmpersiano at gmail.com  Wed Mar 23 13:27:57 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 23 Mar 2016 10:27:57 -0700 (MST)
Subject: [OpenSCAD] Strange render behaviour
In-Reply-To: <1458750875596-16686.post@n5.nabble.com>
References: <1458610817483-16646.post@n5.nabble.com>
	<CAGV6i+NMq1EYK0iVHDwi=cZEpoqyRusY8OyJzN4Ykc46G3SoTw@mail.gmail.com>
	<CA+i9EaBpsvqS-8G2eJipakupySS93zLT8Qbr6=QZSjUNmJBvuw@mail.gmail.com>
	<1458750875596-16686.post@n5.nabble.com>
Message-ID: <1458754077605-16688.post@n5.nabble.com>

Ok, let me try to make myself clearer. I have a lot of functions that
generate Bezier patches in the form of matrices of points (meshes). And I
have a standard module that receives a list of patch meshes and a list of
planar faces and combine everything in one polyhedron call. This module
deals with each patch or face independently, that is, it creates a list of
vertices for each and a list of faces referring to those vertices. Than the
module concat all vertices of all patches and planar faces, concat all face
lists of those elements and send them to the polyhedron primitive.

To model a part, I create the control points of the patches assuring that
the adjacent patches have the same control points at their meeting border
and that both are discretized the same way. I don't have to identify the
vertices of each side (although they will have the same coordinates). The
faces are created similarly eventually extracting (by a function) from the
adjacent patches the list of vertices adjacent to it. If all faces and
patches form the boundary of a solid (manyfold) the polyhedron created by
the module with them will pass the manyfold test of CGAL.

The Newell teaset dataset was created in the 80's as a test set for
realistic graphic display. It is made of a list of degree 3 Bezier patches.
However it is not a solid: there missing parts (like the bottom and interior
of the teapot) and some minor control points misplacement. I completed the
model in order to have manyfold parts using the approach I outlined above.
And everything works now. Here is a render of part of the set:

Cup-saucer-spoon.PNG
<http://forum.openscad.org/file/n16688/Cup-saucer-spoon.PNG>  

Just for reference, the cup (without the spout) is made of 16 Bezier paches
and 2 planar faces and it is a single polyhedron. The spout is another
polyhedron added by union().




--
View this message in context: http://forum.openscad.org/Strange-render-behaviour-tp16646p16688.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Wed Mar 23 13:38:46 2016
From: runsun at gmail.com (runsun)
Date: Wed, 23 Mar 2016 10:38:46 -0700 (MST)
Subject: [OpenSCAD] Strange render behaviour
In-Reply-To: <1458754077605-16688.post@n5.nabble.com>
References: <1458610817483-16646.post@n5.nabble.com>
	<CAGV6i+NMq1EYK0iVHDwi=cZEpoqyRusY8OyJzN4Ykc46G3SoTw@mail.gmail.com>
	<CA+i9EaBpsvqS-8G2eJipakupySS93zLT8Qbr6=QZSjUNmJBvuw@mail.gmail.com>
	<1458750875596-16686.post@n5.nabble.com>
	<1458754077605-16688.post@n5.nabble.com>
Message-ID: <1458754726103-16689.post@n5.nabble.com>

I c. From the standpoint of modularization, it does look like a good approach
to stick things together.
 



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/Strange-render-behaviour-tp16646p16689.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Wed Mar 23 14:15:00 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Wed, 23 Mar 2016 23:45:00 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <56F2A58D.4000304@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<56F2A58D.4000304@gmx.de>
Message-ID: <CABskhPP14Ve9K972WGzj=N32BKPc0r-npuQR7+7qZbeA0N-bkw@mail.gmail.com>

On Mar 23, 2016 7:49 PM, "Torsten Paul" <Torsten.Paul at gmx.de> wrote:

> The Milestones part could use some more details. I know it's
> not easy to give a very detailed plan for this type of project
> with a number of unknowns that will only become clear in the
> first phase. So one option to get the steps a bit clearer
> could be to explain how you want to approach the different
> parts of the project.
> So what I mean is basically the first part of the proposal
> list some things to do with "We can...", the milestone part
> should outline the (small) steps that say how it will be
> possible to decide what will be done, ideally on a weekly
> basis.
>

I will try to make milestone section better.

-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160323/e139e8f0/attachment.html>

From jpmendes54 at gmail.com  Wed Mar 23 17:42:00 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 23 Mar 2016 14:42:00 -0700 (MST)
Subject: [OpenSCAD] Introduction
In-Reply-To: <56F2CB50.1070101@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<1458744728852-16684.post@n5.nabble.com> <56F2CB50.1070101@gmx.de>
Message-ID: <1458769320063-16693.post@n5.nabble.com>

After reading the Amarjeet Singh's proposal I have to recognize that it is
has more features than I thought. The manual entry of parameters is planned
and ranges are too.

Well, relative on how the ranges could work within the UI, I'm seeing a kind
of animation without the use of $t. Each time we start a new compilation the
UI exported variables increment / decrement by it's own associated step.  Of
course I have no idea on how this could be done internally, but Amarjeet
surely knows how to solve the problem.

Thanks Amarjeet for your enthusiasm  and contribution.

jpmendes

 



--
View this message in context: http://forum.openscad.org/Introduction-tp16322p16693.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Wed Mar 23 17:54:24 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Wed, 23 Mar 2016 14:54:24 -0700 (MST)
Subject: [OpenSCAD] incrementing variables in order to slice an object
 and "modulate" it
In-Reply-To: <1458755807902-16691.post@n5.nabble.com>
References: <1458504188976-16600.post@n5.nabble.com>
	<1458512022998-16606.post@n5.nabble.com>
	<1458514549538-16607.post@n5.nabble.com>
	<1458523019969-16613.post@n5.nabble.com>
	<1458742315797-16680.post@n5.nabble.com>
	<1458742370952-16681.post@n5.nabble.com>
	<1458754837870-16690.post@n5.nabble.com>
	<1458755807902-16691.post@n5.nabble.com>
Message-ID: <1458770064241-16694.post@n5.nabble.com>

As you can see your posts are not being sne to the mailing-list, which is
different to this forum, you need to  subscribe
<http://forum.openscad.org/mailing_list/MailingListOptions.jtp?forum=1>   to
both for most people so see your posts.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/incrementing-variables-in-order-to-slice-an-object-and-modulate-it-tp16600p16694.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Wed Mar 23 18:21:43 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 23 Mar 2016 15:21:43 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <56F2AC45.1050708@arnholm.org>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<56F18635.6040706@arnholm.org> <56F2AC45.1050708@arnholm.org>
Message-ID: <1458771703104-16695.post@n5.nabble.com>

nice! If you have access to the points everything is possible.

I imagine a syntax similiar to linear_extrude()


> rotate_extrude(angle, height, scale)

The problem is of course how to manage self intersection. So with respect to
implementation it might be easyier to restrict the angle to the range of
-360:360 degrees, while height is your pitch offset. If you want more
windings you can define this with your 2D-shape. Have a look at my quickly
done pure OpenSCAD implementation (lib stuff should be clear from previous
posts). 

<http://forum.openscad.org/file/n16695/rot.png> 

> use 
> <shortcuts.scad>
>   // translate -> Tx, ...
> use 
> <skin.scad>
>        // skin()
> use 
> <naca_sweep.scad>
>  // define affine ops Tx_ ...
> 
> Tx(30) rotate_extrude() Toothbar();  
> T(10, -30) Toothbar(); 
> linear_extrude3(angle = 600, height = PI);   // full screw
> 
> Tx(-20)linear_extrude3(angle = -180, height = PI); // half screw
> 
> 
> module linear_extrude3(angle = 360, height = 0)
>   skin(gen_dat(height, angle));  // we cheat here
> 
> module Toothbar(z= 10)
>   Tx(5) Rz(90) Tx(-(PI/2)+tan(20)) polygon(points = TB(z)); 
> 
> function TB(n=2) = 
>    concat([[0, 2]], [for (i=[0:n-1], j=[0:3]) 
>    let(t = [ [0, 1], [2*tan(20), -1], [PI/2, -1], [2*tan(20)+PI/2, 1]])
>       [t[j][0]+i*PI, t[j][1]]], [[2*tan(20)+PI/2+(n-1)*PI, 2]]); 
> 
> function gen_dat(height = 0, angle = 360, steps = 100) = 
>     let(ang = angle%360)    
>     let(bar = R_(180, -90, 0, Ty_(-5, vec3D(TB(10)))))
>     [for (i=[0:steps]) Tz_(i*height/steps, Rz_(i*ang/steps, bar))]; 

        




--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16695.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jasleen.7956 at gmail.com  Wed Mar 23 19:38:01 2016
From: jasleen.7956 at gmail.com (Jasleen Kaur)
Date: Wed, 23 Mar 2016 16:38:01 -0700 (MST)
Subject: [OpenSCAD] INTRODUCTION
Message-ID: <1458776281197-16697.post@n5.nabble.com>

Hello
I am Jasleen Kaur from India. I am currently pursuing master degree in
Computer Science Engineering from Sri Guru Granth Sahib World University,
India.
My Interest areas are Computer Graphics, CAD, Image Processing. I am
familiar with C++, Qt, Shell Scripting, CGI, Web Technologies, MySQL,
Python, Django, Weka, UML, Make, git, Doxygen, Latex, MatLAB, OpenCV( numpy,
matplotlib), Linux System Administration.

I started my interest in CAD during bachelor's degree by displaying Graphic
Primitives on Console. Then I started tweaking LibreCAD code for my own
knowledge by creating new features, http://bit.ly/1RA4XND, code at:
https://github.com/GreatDevelopers/LibreCAD
I worked on Web Development. Then I started pursuing master degree where I
used Weka tool(for Data Mining), UML, Matlab(for Image processing). My
Research Work is in Image processing, where I am using OpenCV. Recently, I
started working on Django framework. You can see my GitHub account at:
https://github.com/jasleenkaur
My blog: https://jasleen7956.wordpress.com/

Though I am late. But I am ready with OpenScad installation and have read
User Manual from wiki.
I have knowledge about DXF Spec and I have some ideas in mind to discuss. I
have gone through list of project ideas too. I am looking for further
discussion.




--
View this message in context: http://forum.openscad.org/INTRODUCTION-tp16697.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Wed Mar 23 19:50:43 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Thu, 24 Mar 2016 00:50:43 +0100
Subject: [OpenSCAD] INTRODUCTION
In-Reply-To: <1458776281197-16697.post@n5.nabble.com>
References: <1458776281197-16697.post@n5.nabble.com>
Message-ID: <56F32BD3.9020905@gmx.de>

On 03/24/2016 12:38 AM, Jasleen Kaur wrote:
> Though I am late. But I am ready with OpenScad installation
> and have read User Manual from wiki.
>
I guess you mean late for GSoC, well, yes, but there are
almost 2 days left till proposal submission deadline...

> I have knowledge about DXF Spec and I have some ideas
> in mind to discuss. I have gone through list of project
> ideas too. I am looking for further discussion.
> 
Nice, so post the ideas/questions/discussion here on the
mailing list or find me on IRC (or both ;-).

ciao,
  Torsten.



From experimentalist at aaawesome.co.uk  Wed Mar 23 19:51:26 2016
From: experimentalist at aaawesome.co.uk (Experimentalist)
Date: Wed, 23 Mar 2016 16:51:26 -0700 (MST)
Subject: [OpenSCAD] Rendering Issue
Message-ID: <1458777086776-16698.post@n5.nabble.com>

Hi

I often want to remix work by others. This usually relates to moved fixings
and openings. I usually heal the original opening and then create a new one
to suit my needs. To do this I usually import the original stl and then
create a plug, union() the two together and then finally make the new hole
using difference().

I am trying to do this with an object from Thingiverse:
http://www.thingiverse.com/thing:588121
<http://www.thingiverse.com/thing:588121>  

Here is my code that will not render correctly:

*$fn=60;

importOnly();

module importOnly(){
    union(){
        #cylinder(h=30.2, d=6);
        translate([-100.55,-146.85,0])
            import("Launchpad_Core_Rounded.stl", convexity=10);
    }
}
*

What I get is just the cylinder that could be created with just this:

*cylinder(h=30.2, d=6);
*

I have tried using utilities that convert the STL to an OpenSCAD polygon,
such as:

http://jsfiddle.net/Riham/yzvGD/embedded/result/
<http://jsfiddle.net/Riham/yzvGD/embedded/result/>  

I have the same issue either way, any ideas why this will not work?




--
View this message in context: http://forum.openscad.org/Rendering-Issue-tp16698.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Wed Mar 23 20:13:00 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Thu, 24 Mar 2016 01:13:00 +0100
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458771703104-16695.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com> <56F18635.6040706@arnholm.org>
	<56F2AC45.1050708@arnholm.org> <1458771703104-16695.post@n5.nabble.com>
Message-ID: <56F3310C.5040600@arnholm.org>

On 23. mars 2016 23:21, Parkinbot wrote:
> The problem is of course how to manage self intersection.

I found it can work to make the single thread 2d profile a tiny bit 
narrower than the pitch. The effect is that there is no self 
intersection, but instead a continuous near miss. The gap is later 
filled by the internal cylinder that is unioned with the spiraling 
thread body, to make a threaded rod.

> So with respect to
> implementation it might be easyier to restrict the angle to the range of
> -360:360 degrees, while height is your pitch offset. If you want more
> windings you can define this with your 2D-shape.

Perhaps easier to implement, but maybe also somewhat harder to use? I 
tried a few cases and managed 69 windings before things started to 
become unstable. That's 69*360 degrees... admittedly it also depends on 
mesh resolution how far you can go.

Carsten Arnholm


From rudolf at parkinbot.com  Wed Mar 23 20:40:08 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 23 Mar 2016 17:40:08 -0700 (MST)
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <56F3310C.5040600@arnholm.org>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com>
	<56F18635.6040706@arnholm.org> <56F2AC45.1050708@arnholm.org>
	<1458771703104-16695.post@n5.nabble.com>
	<56F3310C.5040600@arnholm.org>
Message-ID: <1458780008131-16701.post@n5.nabble.com>

cacb wrote
> I found it can work to make the single thread 2d profile a tiny bit 
> narrower than the pitch. The effect is that there is no self 
> intersection, but instead a continuous near miss. The gap is later 
> filled by the internal cylinder that is unioned with the spiraling 
> thread body, to make a threaded rod.

To be honest, to me this looks more like a hack, and not like a general
solution. Why should things get unstable with increasing windings? Memory?
When I tried a 1000 'windings' CSG rendering was done in 58s. 

I hope to see this or a similar solution in OpenSCAD soon, as it is really
easy to update. Maybe I should write a feature request ... 



--
View this message in context: http://forum.openscad.org/Non-Linear-Transformations-tp14539p16701.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Wed Mar 23 21:15:43 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 23 Mar 2016 18:15:43 -0700 (MST)
Subject: [OpenSCAD] Rendering Issue
In-Reply-To: <1458777086776-16698.post@n5.nabble.com>
References: <1458777086776-16698.post@n5.nabble.com>
Message-ID: <1458782143746-16702.post@n5.nabble.com>

With my system the import has no problem. Try to update OpenSCAD (I am using
2016.01)



--
View this message in context: http://forum.openscad.org/Rendering-Issue-tp16698p16702.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From macdarren at mac.com  Wed Mar 23 21:30:01 2016
From: macdarren at mac.com (macdarren)
Date: Wed, 23 Mar 2016 18:30:01 -0700 (MST)
Subject: [OpenSCAD] Rendering Issue
In-Reply-To: <1458777086776-16698.post@n5.nabble.com>
References: <1458777086776-16698.post@n5.nabble.com>
Message-ID: <1458783001074-16703.post@n5.nabble.com>

On my system it will Preview but the STL won't render using your code.
I get this error:

ERROR: CGAL error in CGAL_Nef_polyhedron3(): CGAL ERROR: assertion
violation! Expr: pe_prev->is_border() ||
!internal::Plane_constructor::get_plane(pe_prev->facet(),pe_prev->facet()->plane()).is_degenerate()
File:
/Users/kintel/code/OpenSCAD/openscad/../libraries/install/include/CGAL/Nef_3/polyhedron_3_to_nef_3.h
Line: 251 

Strangely if I simply import the object by opening it with scad it creates a
new file with one line:

import("/Users/macdarren/Downloads/Launchpad_Core_Rounded.stl");

 This is will both preview and render fine...




--
View this message in context: http://forum.openscad.org/Rendering-Issue-tp16698p16703.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Wed Mar 23 21:38:27 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Thu, 24 Mar 2016 02:38:27 +0100
Subject: [OpenSCAD] Rendering Issue
In-Reply-To: <1458783001074-16703.post@n5.nabble.com>
References: <1458777086776-16698.post@n5.nabble.com>
	<1458783001074-16703.post@n5.nabble.com>
Message-ID: <56F34513.4090706@gmx.de>

On 03/24/2016 02:30 AM, macdarren wrote:
> Strangely if I simply import the object by opening it with
> scad it creates a new file with one line:
> 
> import("/Users/macdarren/Downloads/Launchpad_Core_Rounded.stl");
> 
> This is will both preview and render fine...
> 
This is normal as no CSG operation is done for just the import().

The STL has 17 Zero Faces (polygons without area) which OpenSCAD,
or more specifically libCGAL which is used to do the boolean
operations, does not like.

Using the repair filter in MeshLab as mentioned in the FAQ
fixes the issue for me:

https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/FAQ#Why_is_my_imported_STL_file_only_showing_up_with_F5_but_not_F6.3F

ciao,
  Torsten.



From macdarren at mac.com  Wed Mar 23 21:40:24 2016
From: macdarren at mac.com (macdarren)
Date: Wed, 23 Mar 2016 18:40:24 -0700 (MST)
Subject: [OpenSCAD] Rendering Issue
In-Reply-To: <1458777086776-16698.post@n5.nabble.com>
References: <1458777086776-16698.post@n5.nabble.com>
Message-ID: <1458783624936-16705.post@n5.nabble.com>

For grins I ran the original STL through Netfabb,
now your code seems to both preview and render fine using the 'fixed' model.

Your fill plug shows as very slightly taller than the original surface of
the model.  It did this on the earlier prefixed model in the preview to so
probably not the result of anything in the repair process.

My guess something odd about the STL file when openscad tried to merge the
plug into the shape.

https://modelrepair.azurewebsites.net



--
View this message in context: http://forum.openscad.org/Rendering-Issue-tp16698p16705.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Thu Mar 24 02:17:31 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Thu, 24 Mar 2016 11:47:31 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <56F2A58D.4000304@gmx.de>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<56F2A58D.4000304@gmx.de>
Message-ID: <CABskhPNhwWyuVcK1J0=MsQFiqS66dMMS8G7iYOQ+q1zC01ZPJA@mail.gmail.com>

On 23 March 2016 at 19:47, Torsten Paul <Torsten.Paul at gmx.de> wrote:
> Thanks. Just a quick first response...
>
> The detailed description already has some good points and
> lists examples for the topics we discussed. That looks
> like a good base for approaching the project and defining
> the specific things to do.
>
> The Milestones part could use some more details. I know it's
> not easy to give a very detailed plan for this type of project
> with a number of unknowns that will only become clear in the
> first phase. So one option to get the steps a bit clearer
> could be to explain how you want to approach the different
> parts of the project.
> So what I mean is basically the first part of the proposal
> list some things to do with "We can...", the milestone part
> should outline the (small) steps that say how it will be
> possible to decide what will be done, ideally on a weekly
> basis.

I have edited milestones and I found a issue in working of parameter
feature and added it in project details.

@all

Please, review it.

https://docs.google.com/document/d/1hXXQI0PEPQnu6e-x0huNQsMt_3Ocn8aBtpwJ_0C-uiM/edit#




-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From amarjeet.kapoor1 at gmail.com  Thu Mar 24 02:25:17 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Thu, 24 Mar 2016 11:55:17 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <1458769320063-16693.post@n5.nabble.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<1458744728852-16684.post@n5.nabble.com> <56F2CB50.1070101@gmx.de>
	<1458769320063-16693.post@n5.nabble.com>
Message-ID: <CABskhPPBL+AqDdzEL1FRYHhmr7tzKjggbYQ=ePaNC3iS5Sj2hA@mail.gmail.com>

On 24 March 2016 at 03:12, jpmendes <jpmendes54 at gmail.com> wrote:
> After reading the Amarjeet Singh's proposal I have to recognize that it is
> has more features than I thought. The manual entry of parameters is planned
> and ranges are too.
>
> Well, relative on how the ranges could work within the UI, I'm seeing a kind
> of animation without the use of $t. Each time we start a new compilation the
> UI exported variables increment / decrement by it's own associated step.  Of
> course I have no idea on how this could be done internally, but Amarjeet
> surely knows how to solve the problem.
>
> Thanks Amarjeet for your enthusiasm  and contribution.

Thanks @jpmendes for your valuable views and these have seriously
increased my morale.

But what I proposed regarding the step was not what you are suggesting
I was justing step attribute like step attribute in HTML input tag
which give the minimum possible change in the value that can take
place by default it is 1.

And what you are suggesting can also be done. Just want to get views
of my mentor on this feature @Torsten Paul and @Marius Kintel




-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From experimentalist at aaawesome.co.uk  Thu Mar 24 04:39:21 2016
From: experimentalist at aaawesome.co.uk (Experimentalist)
Date: Thu, 24 Mar 2016 01:39:21 -0700 (MST)
Subject: [OpenSCAD] Rendering Issue
In-Reply-To: <1458777086776-16698.post@n5.nabble.com>
References: <1458777086776-16698.post@n5.nabble.com>
Message-ID: <1458808761931-16708.post@n5.nabble.com>

Thanks for all the replies, I will repair the original as advised and move
on. I think I am running one of the nightly builds at present so I will also
update.



--
View this message in context: http://forum.openscad.org/Rendering-Issue-tp16698p16708.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Thu Mar 24 05:08:30 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Thu, 24 Mar 2016 10:08:30 +0100
Subject: [OpenSCAD] Non-Linear Transformations
In-Reply-To: <1458780008131-16701.post@n5.nabble.com>
References: <1447686693347-14539.post@n5.nabble.com>
	<1458374039947-16578.post@n5.nabble.com>
	<CAGV6i+NMskQ=cBTTckz3DxiNz4SoVB=zppfPKUDifNXCeOYvzA@mail.gmail.com>
	<45AD5677-5DFF-436F-AC77-83E14516B077@kintel.net>
	<1458650959480-16656.post@n5.nabble.com> <56F18635.6040706@arnholm.org>
	<56F2AC45.1050708@arnholm.org> <1458771703104-16695.post@n5.nabble.com>
	<56F3310C.5040600@arnholm.org> <1458780008131-16701.post@n5.nabble.com>
Message-ID: <56F3AE8E.1060008@arnholm.org>

On 24. mars 2016 01:40, Parkinbot wrote:
> cacb wrote
>> I found it can work to make the single thread 2d profile a tiny bit
>> narrower than the pitch. The effect is that there is no self
>> intersection, but instead a continuous near miss. The gap is later
>> filled by the internal cylinder that is unioned with the spiraling
>> thread body, to make a threaded rod.
>
> To be honest, to me this looks more like a hack, and not like a general
> solution.

I am not too worried about labels when things actually work in practice, 
like in this case.

> Why should things get unstable with increasing windings? Memory?
> When I tried a 1000 'windings' CSG rendering was done in 58s.

If you take fixed precision integer coordinates and multiply with ever 
larger factors (that is what happens when you increase the number of 
windings to large numbers), you will eventually have numerical issues 
since the relative tolerances are not that big. My approach was a little 
simplistic since it was an experiment, but it actually worked  better 
than I had thought. On the timing, it was done in about .2 seconds in my 
case, much less than it took to write the output files.

> I hope to see this or a similar solution in OpenSCAD soon, as it is really
> easy to update. Maybe I should write a feature request ...

Threads are much used, so probably, yes.

Carsten Arnholm


From rudolf at parkinbot.com  Thu Mar 24 09:25:14 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 24 Mar 2016 06:25:14 -0700 (MST)
Subject: [OpenSCAD] incrementing variables in order to slice an object
 and "modulate" it
In-Reply-To: <1458548984887-16621.post@n5.nabble.com>
References: <1458504188976-16600.post@n5.nabble.com>
	<1458512022998-16606.post@n5.nabble.com>
	<1458514549538-16607.post@n5.nabble.com>
	<1458519743449-16610.post@n5.nabble.com>
	<1458548984887-16621.post@n5.nabble.com>
Message-ID: <1458825914362-16710.post@n5.nabble.com>

ah, you are right about the sign. This code solves your problem using hull(). 


>   skewoffset = 3; 
>   length= 30; 
>   hull()
>   {
>       cube([.1, 10, 10]);
>       translate([length, 0, skewoffset])
>       cube([.1, 10, 10]);
>   }





--
View this message in context: http://forum.openscad.org/incrementing-variables-in-order-to-slice-an-object-and-modulate-it-tp16600p16710.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Thu Mar 24 12:17:28 2016
From: marius at kintel.net (Marius Kintel)
Date: Thu, 24 Mar 2016 12:17:28 -0400
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPNhwWyuVcK1J0=MsQFiqS66dMMS8G7iYOQ+q1zC01ZPJA@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<56F2A58D.4000304@gmx.de>
	<CABskhPNhwWyuVcK1J0=MsQFiqS66dMMS8G7iYOQ+q1zC01ZPJA@mail.gmail.com>
Message-ID: <FC6C50F0-8A00-4E8B-BAC9-E37E7FD10D84@kintel.net>

On Mar 24, 2016, at 02:17 AM, Amarjeet Kapoor <amarjeet.kapoor1 at gmail.com> wrote:
> 
> Please, review it.
> 
> https://docs.google.com/document/d/1hXXQI0PEPQnu6e-x0huNQsMt_3Ocn8aBtpwJ_0C-uiM/edit#
> 
The proposal looks decent.
Two things to keep in mind (from my perspective):

1) A lot of time spent on this project would be how to design the language front-end for allowing specifying parameter, not just the GUI. I would allocate significant time towards those efforts, especially since that involves community involvement. It?s not 100% clear from the proposal how this will be handled. Torsten did write an original patch as an example for how to do this, but since then there has been significant community discussion. I assume you know the overview page at https://github.com/openscad/openscad/wiki/Meta-Data-Use-Cases. We should probably link the forum discussions there too.

2) A key factor for a successful application is to demonstrate skills and ability to deliver working code. I would strongly suggest working with the source code in order to demonstrate this by either fixing bugs, refactoring code, adding features or improving documentation.

Kind Regards,

 -Marius



From jpmendes54 at gmail.com  Thu Mar 24 15:16:42 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 24 Mar 2016 12:16:42 -0700 (MST)
Subject: [OpenSCAD] Introduction
In-Reply-To: <CABskhPPBL+AqDdzEL1FRYHhmr7tzKjggbYQ=ePaNC3iS5Sj2hA@mail.gmail.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<1458744728852-16684.post@n5.nabble.com> <56F2CB50.1070101@gmx.de>
	<1458769320063-16693.post@n5.nabble.com>
	<CABskhPPBL+AqDdzEL1FRYHhmr7tzKjggbYQ=ePaNC3iS5Sj2hA@mail.gmail.com>
Message-ID: <1458847002410-16712.post@n5.nabble.com>

Some thoughts about the future UI or future functionality developments ...

Torsten asked me to better explain my understanding of ranges concerning the
UI.

As the thread name is "Introduction", let me introduce myself since I'm
posting on the forum for sometime and never did that.
I'm a humble regular OpenSCAD user, not part of development team. I'm in
Portugal and many many years ago when Bill Gates was starting programming I
made my incursion on the software world, programming a couple of things,
first directly in machine code of the 8085, 6800 and 6502. Soon after,
started programming in Assembly of those 3 processors and also the 6809. In
that time I was crazy about the new 6809 possibilities.  A couple of years
after I experienced programming in Forth. I implemented the core of Forth
for the 6809, based on a 8085 version made available by the Forth Group, and
and a very minimal OS around the Forth language. 20 years after I had a 2
year experience with VHDL and hardware synthesis using  the Altera and
Xilinx  IDE's. From then on another 20 years have passed and I never
programmed again. Now I'm retired and I'm starting once more. Memory and
speed thinking are not as good as used to be, but I will manage that as well
as I can. 

I'm falling with love with OpenSCAD despite some language limitations namely
in what concerns to the memory of things. Although real variables do not
exist in the language we could have "memory" if we could write to and and
read from a file. However there are a strong opposition to this inside the
OpenSCAD development team. Loging onto a file would be a good thing. Good
animation, for instance, is related with state machines and state machines
need "memory".

Now about the UI... Maybe, as the UI is a piece of software independent from
the language one could compensate the lack of "memory" of the language
introducing some "memory" in the UI. If some variables can be "exported" to
the UI for better user interaction with the script, maybe we can "export" an
event as well. Example: two objects moving touch each other. If this event
is passed to the UI and the UI (maybe a plugin) retains it's memory, it may
trigger a different evolution in the objects behavior until a new event
occurs.

>From my VHDL times I remember that an entity was assign a structural
architecture and a behavioral architecture. Maybe we could have something
similar to "behavioral architecture" without stop being backward compatible,
by "exporting" some variables to different destinations.
The destinations would be the UI or future plugins. The UI or the plugins
would recognize them and would return results as UI.var or plugin.var
variables.

Lets see...
Exporting...
	@UI.var_1(range_1) ... @UI.var_n(range_n)
the UI would return:
	UI.var_1 ... UI.var_n  (values in the respective ranges)
and for backward compatibility we would assign:
	var_1=UI.var_1 ... var_n=UI.var_n

Same procedure for the plugins.

About events, something like:

when(event_expression){
	@plugin1.event_a
	@plugin2.event_a }

Plugins had received previously the exported variables with the ranges on
which they should act in case of "event_a", or when "event_a" occurs,
plugins will call their own resources accordingly, sound for instance.

Then the UI will be more a kind of IDE with a built in simulator.  And maybe
this is not the direction to follow, I don't know. I'm only delivering an
idea.

Obviously there are two ways of seeing things: statically and dynamically.
On the static way the user introduces the values using the UI widgets and
then compile. On the dynamic way we will have an internal clock, we already
have the $t, to put things moving. One can say this is of no great use since
each recompilation takes too much time and we loose the sensation of
continuity. Well.. with this process better animations and some interaction
with external world can be accomplished. Imagine I've made the parts of a a
humanoid robot and I want to animate it and made it to act accordingly to my
voice commands... 
Of course if one wants to see how a geometrically complex object deforms,
maybe the frame rate will be too low for direct observation. 
Also one could make a script where the objects are created, and another
where they are assembled from previously exported .STL files. In the
assembly script one could define the interactions between objects and assign
some physical qualities color, mass, speed, sound, that would be passed to
the plugins for proper treatment. There are obvious limitations: if a rubber
ball collides with a iron one maybe we cannot observe the deformation of the
rubber ball from previous loaded STL's. Always some trends have to exist.
And that's my humble contribution for now. Don't laugh too much of the old
man.
Initially I thought to start a new thread with this thoughts, however I
started thinking to myself whether posting this would have some utility
other than making you loose your precious time. So guys please tell me if
you prefer not to hear from me in such domains. No bad feelings at all.

jpmendes




--
View this message in context: http://forum.openscad.org/Introduction-tp16322p16712.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Thu Mar 24 18:51:07 2016
From: doug at moens.org (doug moen)
Date: Thu, 24 Mar 2016 18:51:07 -0400
Subject: [OpenSCAD] Introduction
In-Reply-To: <1458847002410-16712.post@n5.nabble.com>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<1458744728852-16684.post@n5.nabble.com> <56F2CB50.1070101@gmx.de>
	<1458769320063-16693.post@n5.nabble.com>
	<CABskhPPBL+AqDdzEL1FRYHhmr7tzKjggbYQ=ePaNC3iS5Sj2hA@mail.gmail.com>
	<1458847002410-16712.post@n5.nabble.com>
Message-ID: <CAGV6i+OwhdaG6i1dEFSa=qSbL2ppcd43Zx71GVZP+i_wP989eA@mail.gmail.com>

@jpmendes: You've posted several times and raised a number of issues. I'm
just going to respond about one thing, which is the performance of
animation.

"Maybe I'm wrong but I'm not enthusiastic about the use of sliders on the
UI.
I would prefer a direct entry of values or both options. Since we do not
have real variables, each time you move a slider the script is recompiled to
reflect the actual state, when the project gets complicated the lag will be
not negligible if not insupportable. And not everybody have top speed
machines."

I think the big issue here is the slowness of animation, which is partly a
problem with our current implementation, and partly an inescapable
consequence of specifying geometric figures using a programming language.
There is some talk about "real variables" and "compilation" which is maybe
based on a misunderstanding about how OpenSCAD is implemented. What I can
say is that:

* Adding a new language feature, "real variables", will not speed up
animation under our current implementation. The language design itself is
not at fault, it's the implementation.

* The current implementation doesn't have anything that I would call a
compiler. The language manual states "Variables are set at compile time,
not run-time". That is completely false and misleading, and it screwed me
up for about a year before I started to figure out how OpenSCAD actually
works. The truth is that scripts are processed in three phases. First,
there is a parser, which converts text into a parse tree. Then there is an
evaluator, which evaluates the parse tree and constructs a CSG tree. Then
there is a rendering phase (F5 or F6), which converts the CSG tree into a
3D graphical display. Variables are set at evaluation time. If there is a
compile phase at all, then it's the parser, and variables are not set
during parsing.

I do have ideas on how to significantly speed up animation (which includes
speeding up Customizer GUI animation), but it's not a simple, incremental
change. It involves replacing the current evaluator and F5 preview code. In
other words, it's a big change that shouldn't be allowed to block progress
on the Customizer GUI.

We could tweak the current implementation so that we don't rerun the parser
for each animation frame. Instead, we just re-evaluate the parse tree with
different values of $t (normal animation) or different values of the
variable being tweaked by the customizer GUI. I'm not sure how much this
will help, since the parser probably does a trivial amount of work in most
cases, but we could perform some measurements to see.

Also, it is the nature of OpenSCAD that there will always be scripts that
preview and animate very slowly. There's no way to restrict the language or
fix the implementation to guarantee fast preview and fast animation in all
cases. Even if we make animation 100x faster (which I think is possible),
then a script that currently takes 1 hour to preview, will now preview in
36 seconds, which still means an animation rate of 1 frame per 36 seconds.
Therefore, we have to design the Customizer GUI around the assumption that
some scripts will animate very slowly.

On 24 March 2016 at 15:16, jpmendes <jpmendes54 at gmail.com> wrote:

> Some thoughts about the future UI or future functionality developments ...
>
> Torsten asked me to better explain my understanding of ranges concerning
> the
> UI.
>
> As the thread name is "Introduction", let me introduce myself since I'm
> posting on the forum for sometime and never did that.
> I'm a humble regular OpenSCAD user, not part of development team. I'm in
> Portugal and many many years ago when Bill Gates was starting programming I
> made my incursion on the software world, programming a couple of things,
> first directly in machine code of the 8085, 6800 and 6502. Soon after,
> started programming in Assembly of those 3 processors and also the 6809. In
> that time I was crazy about the new 6809 possibilities.  A couple of years
> after I experienced programming in Forth. I implemented the core of Forth
> for the 6809, based on a 8085 version made available by the Forth Group,
> and
> and a very minimal OS around the Forth language. 20 years after I had a 2
> year experience with VHDL and hardware synthesis using  the Altera and
> Xilinx  IDE's. From then on another 20 years have passed and I never
> programmed again. Now I'm retired and I'm starting once more. Memory and
> speed thinking are not as good as used to be, but I will manage that as
> well
> as I can.
>
> I'm falling with love with OpenSCAD despite some language limitations
> namely
> in what concerns to the memory of things. Although real variables do not
> exist in the language we could have "memory" if we could write to and and
> read from a file. However there are a strong opposition to this inside the
> OpenSCAD development team. Loging onto a file would be a good thing. Good
> animation, for instance, is related with state machines and state machines
> need "memory".
>
> Now about the UI... Maybe, as the UI is a piece of software independent
> from
> the language one could compensate the lack of "memory" of the language
> introducing some "memory" in the UI. If some variables can be "exported" to
> the UI for better user interaction with the script, maybe we can "export"
> an
> event as well. Example: two objects moving touch each other. If this event
> is passed to the UI and the UI (maybe a plugin) retains it's memory, it may
> trigger a different evolution in the objects behavior until a new event
> occurs.
>
> From my VHDL times I remember that an entity was assign a structural
> architecture and a behavioral architecture. Maybe we could have something
> similar to "behavioral architecture" without stop being backward
> compatible,
> by "exporting" some variables to different destinations.
> The destinations would be the UI or future plugins. The UI or the plugins
> would recognize them and would return results as UI.var or plugin.var
> variables.
>
> Lets see...
> Exporting...
>         @UI.var_1(range_1) ... @UI.var_n(range_n)
> the UI would return:
>         UI.var_1 ... UI.var_n  (values in the respective ranges)
> and for backward compatibility we would assign:
>         var_1=UI.var_1 ... var_n=UI.var_n
>
> Same procedure for the plugins.
>
> About events, something like:
>
> when(event_expression){
>         @plugin1.event_a
>         @plugin2.event_a }
>
> Plugins had received previously the exported variables with the ranges on
> which they should act in case of "event_a", or when "event_a" occurs,
> plugins will call their own resources accordingly, sound for instance.
>
> Then the UI will be more a kind of IDE with a built in simulator.  And
> maybe
> this is not the direction to follow, I don't know. I'm only delivering an
> idea.
>
> Obviously there are two ways of seeing things: statically and dynamically.
> On the static way the user introduces the values using the UI widgets and
> then compile. On the dynamic way we will have an internal clock, we already
> have the $t, to put things moving. One can say this is of no great use
> since
> each recompilation takes too much time and we loose the sensation of
> continuity. Well.. with this process better animations and some interaction
> with external world can be accomplished. Imagine I've made the parts of a a
> humanoid robot and I want to animate it and made it to act accordingly to
> my
> voice commands...
> Of course if one wants to see how a geometrically complex object deforms,
> maybe the frame rate will be too low for direct observation.
> Also one could make a script where the objects are created, and another
> where they are assembled from previously exported .STL files. In the
> assembly script one could define the interactions between objects and
> assign
> some physical qualities color, mass, speed, sound, that would be passed to
> the plugins for proper treatment. There are obvious limitations: if a
> rubber
> ball collides with a iron one maybe we cannot observe the deformation of
> the
> rubber ball from previous loaded STL's. Always some trends have to exist.
> And that's my humble contribution for now. Don't laugh too much of the old
> man.
> Initially I thought to start a new thread with this thoughts, however I
> started thinking to myself whether posting this would have some utility
> other than making you loose your precious time. So guys please tell me if
> you prefer not to hear from me in such domains. No bad feelings at all.
>
> jpmendes
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Introduction-tp16322p16712.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160324/21b73fe1/attachment.html>

From fred_dot_u at yahoo.com  Thu Mar 24 19:37:07 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Thu, 24 Mar 2016 16:37:07 -0700 (MST)
Subject: [OpenSCAD] double height from minkowski function?
Message-ID: <1458862627907-16714.post@n5.nabble.com>

I've defined the height to be 6 in the following assignments. When I parse
out each individual segment, the numbers are correct, yet when the model is
created, it is 12 high.

Is this an undocumented feature, or have I created a typo I am unable to
recognize?

thanks
fred





--
View this message in context: http://forum.openscad.org/double-height-from-minkowski-function-tp16714.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Thu Mar 24 19:48:46 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 24 Mar 2016 16:48:46 -0700 (MST)
Subject: [OpenSCAD] double height from minkowski function?
In-Reply-To: <1458862627907-16714.post@n5.nabble.com>
References: <1458862627907-16714.post@n5.nabble.com>
Message-ID: <1458863326131-16715.post@n5.nabble.com>

Minkowski adds up all dimensions, also the height. So you have to use 
spindle_base_height = 3; 

Why? Otherwise this code wouldn't work: 


> w = spindle_base_diameter / sqrt(2) - (2 * mink_radius); 
> minkowski()
> {
>  cube([w,w,h]); 
>  sphere(spindle_base_height);
> }





--
View this message in context: http://forum.openscad.org/double-height-from-minkowski-function-tp16714p16715.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From fred_dot_u at yahoo.com  Thu Mar 24 20:46:01 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Thu, 24 Mar 2016 17:46:01 -0700 (MST)
Subject: [OpenSCAD] double height from minkowski function?
In-Reply-To: <1458863326131-16715.post@n5.nabble.com>
References: <1458862627907-16714.post@n5.nabble.com>
	<1458863326131-16715.post@n5.nabble.com>
Message-ID: <1458866761003-16716.post@n5.nabble.com>

That's good to know. An easy fix, thank you very much



--
View this message in context: http://forum.openscad.org/double-height-from-minkowski-function-tp16714p16716.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Thu Mar 24 21:41:46 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Thu, 24 Mar 2016 18:41:46 -0700 (MST)
Subject: [OpenSCAD] restrict hull function to one or two dimensions
In-Reply-To: <1458772628432-16696.post@n5.nabble.com>
References: <1458772628432-16696.post@n5.nabble.com>
Message-ID: <1458870106340-16717.post@n5.nabble.com>

rav0r wrote
> I am trying to modulate an object by not changing it's suface so I
> designed a code for it to be sliced and the slices be rearranged after a
> custom equation. The problem I have is that if the object is not flat and
> has holes that need to be preserved, hull does not help much. As a test,
> we place two objects and use the code, the two join. Of course, in a
> simplified case, I can cut the object and create a module out of every
> cut, but is there a way to automize this for, let's say, 100 modules?  
> 
> 
> 
> module test() {
> cube([200,10,2]);
> translate([0,12,0])
> cube([200,10,2]);
> }
> 
> 
> 
> //variables for cut points
> ca1=-8.89;
> ca2=-8.9;
> cb1=-9.89;
> cb2=-9.9;
> 
> //variables for equation
> a=110;
> b=125;
> c=-250;
> 
> 
> //variables for y cut points
> yca1=-8.89;
> yca2=-8.9;
> ycb1=-9.89;
> ycb2=-9.9;
> 
> //variables for y equation
> ya=110;
> yb=125;
> yc=-250;
> 
> module x2() {
> 
> for (z = [1:50]) 
> hull() {
> translate([0,0,log(z+a)*b+c]) 
> 
> {
> 
> difference() {
> test(); 
> translate([z+ca1,-10,-1]) cube([300,200,200]);
>  
> translate([ca2-300+z,-100,-1]) cube([300,200,200]);
> }
> }
> 
> 
> translate([0,0,log(z+a-1)*b+c]) 
> 
> {
> difference() {
> test(); 
> translate([z+cb1,-10,-1]) cube([300,200,200]);
>  
> translate([-300+cb2+z,-100,-1]) cube([300,200,200]);
> }
> }
> 
> }
> }
> 
> 
> x2();

bump, as it didn't make it to the mailing list.




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/restrict-hull-function-to-one-or-two-dimensions-tp16696p16717.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Fri Mar 25 03:37:51 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Fri, 25 Mar 2016 08:37:51 +0100
Subject: [OpenSCAD] restrict hull function to one or two dimensions
In-Reply-To: <1458870106340-16717.post@n5.nabble.com>
References: <1458772628432-16696.post@n5.nabble.com>
	<1458870106340-16717.post@n5.nabble.com>
Message-ID: <c287afd36a948b4f4caac6b503b27f44@arnholm.org>

On 2016-03-25 02:41, MichaelAtOz wrote:
> rav0r wrote
>> I am trying to modulate an object by not changing it's suface so I
>> designed a code for it to be sliced and the slices be rearranged after 
>> a
>> custom equation. The problem I have is that if the object is not flat 
>> and
>> has holes that need to be preserved, hull does not help much. As a 
>> test,
>> we place two objects and use the code, the two join. Of course, in a
>> simplified case, I can cut the object and create a module out of every
>> cut, but is there a way to automize this for, let's say, 100 modules?

You could perhaps slice the model by means of many intersection()'s with 
a thin+wide cube(), stacked on top of each other. This could be in z,y,z 
or some other direction. Then reassemble by modulating the slices as 
preferred and scale up the slice thickness slightly. Finally union() the 
modulated slices.

This should preserve holes and surface shapes. Not sure if it will work 
in practice, but you could try.

Carsten Arnholm


From jasleen.7956 at gmail.com  Fri Mar 25 03:48:57 2016
From: jasleen.7956 at gmail.com (Jasleen Kaur)
Date: Fri, 25 Mar 2016 13:18:57 +0530
Subject: [OpenSCAD] INTRODUCTION
In-Reply-To: <56F32BD3.9020905@gmx.de>
References: <1458776281197-16697.post@n5.nabble.com> <56F32BD3.9020905@gmx.de>
Message-ID: <CACRenq3XTJfoNaWCiCK1fFi+eo8xm78VYNPryQFQsZO72V4QQg@mail.gmail.com>

On 24 March 2016 at 05:20, Torsten Paul <Torsten.Paul at gmx.de> wrote:
<snip>
> Nice, so post the ideas/questions/discussion here on the
> mailing list or find me on IRC (or both ;-).

Hello
I made a proposal with ideas we discussed at IRC and I also add more
features. Please have a look and give suggestions. My milestones are
left. I need your reviews to select features I added and in milestone
planning. I am also online at IRC.
Here is my proposal:
https://docs.google.com/document/d/1cA19ECXJcgYZrNh1i8vzPhpWmn_Plg4M3eHfJ3Gktsk/edit#


-- 
Jasleen Kaur
jasleen7956.wordpress.com


From amarjeet.kapoor1 at gmail.com  Fri Mar 25 04:23:23 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Fri, 25 Mar 2016 13:53:23 +0530
Subject: [OpenSCAD] Introduction
In-Reply-To: <FC6C50F0-8A00-4E8B-BAC9-E37E7FD10D84@kintel.net>
References: <CABskhPMMuXGf1GPoBcz=mtvFuOJJSD7EuMj4MjYkt=TAFn3jOQ@mail.gmail.com>
	<CABskhPNa+BJrQUFscpRvtdD2s3Gk9Us9zT_NkYi+hvDW+Ec2_A@mail.gmail.com>
	<56F2A58D.4000304@gmx.de>
	<CABskhPNhwWyuVcK1J0=MsQFiqS66dMMS8G7iYOQ+q1zC01ZPJA@mail.gmail.com>
	<FC6C50F0-8A00-4E8B-BAC9-E37E7FD10D84@kintel.net>
Message-ID: <CABskhPMkq6Ab+CWG4mYrqm6BKR4FKGsBq6jrP68tDyFUb6a38g@mail.gmail.com>

On 24 March 2016 at 21:47, Marius Kintel <marius at kintel.net> wrote:
> On Mar 24, 2016, at 02:17 AM, Amarjeet Kapoor <amarjeet.kapoor1 at gmail.com> wrote:
>>
>> Please, review it.
>>
>> https://docs.google.com/document/d/1hXXQI0PEPQnu6e-x0huNQsMt_3Ocn8aBtpwJ_0C-uiM/edit#
>>
> The proposal looks decent.
> Two things to keep in mind (from my perspective):
>
> 1) A lot of time spent on this project would be how to design the language front-end for allowing specifying parameter, not just the GUI. I would allocate significant time towards those efforts, especially since that involves community involvement. It?s not 100% clear from the proposal how this will be handled. Torsten did write an original patch as an example for how to do this, but since then there has been significant community discussion. I assume you know the overview page at https://github.com/openscad/openscad/wiki/Meta-Data-Use-Cases. We should probably link the forum discussions there too.
>

I have consider that aspect. That's why I have chosen prototyping
model: making a prototype, then getting community feedback and at last
finalizing the code. Yes, I agree in milestones I might not have
allocated enough time on language design I will change that  a little.

> 2) A key factor for a successful application is to demonstrate skills and ability to deliver working code. I would strongly suggest working with the source code in order to demonstrate this by either fixing bugs, refactoring code, adding features or improving documentation.
>

I will start working of patch after submitting the proposal today.



-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From rcmpersiano at gmail.com  Fri Mar 25 09:38:16 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Fri, 25 Mar 2016 06:38:16 -0700 (MST)
Subject: [OpenSCAD] restrict hull function to one or two dimensions
In-Reply-To: <1458870106340-16717.post@n5.nabble.com>
References: <1458772628432-16696.post@n5.nabble.com>
	<1458870106340-16717.post@n5.nabble.com>
Message-ID: <1458913096623-16722.post@n5.nabble.com>

Do you mean something like that:

module test2() {
  translate([100,0,0])
  difference(){
    cylinder(r=100,h=10,center=true);
    cylinder(r=50,h=12,center=true);
  }
}

 module slice(x,d) {
   intersection(){
     children();
     translate([x,0,0])
       cube([d,1000,1000],center=true);
   }
 }
 
 function shear_transf(x1,x2,d) = let( r=d/(x2-x1) )
    [ [1,0,0,0], [0,1,0,0], [r,0,1,-r*x1], [0,0,0,1] ]; 
 
 module shear(x1,x2,d) {
   multmatrix(shear_transf(x1,x2,d)) children();
 }
 
 function f(x,a,b,c) = a*x*x+b*x+c;
 
 module modulate(a,b,c,x1,x2,d){
   for(x=[x1:d:x2]) {
     translate([0,0,f(x,a,b,c)])
       shear(x,x+d,f(x+d,a,b,c)-f(x,a,b,c)) slice(x,d) children();
   }
 }
 
modulate(-0.01, 1.5, 10, 0, 200, 2) test2();
translate([0,0,-200]) test2();



--
View this message in context: http://forum.openscad.org/restrict-hull-function-to-one-or-two-dimensions-tp16696p16722.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jon at jonbondy.com  Fri Mar 25 09:44:25 2016
From: jon at jonbondy.com (jon)
Date: Fri, 25 Mar 2016 09:44:25 -0400
Subject: [OpenSCAD] restrict hull function to one or two dimensions
In-Reply-To: <1458913096623-16722.post@n5.nabble.com>
References: <1458772628432-16696.post@n5.nabble.com>
	<1458870106340-16717.post@n5.nabble.com>
	<1458913096623-16722.post@n5.nabble.com>
Message-ID: <56F540B9.2070503@jonbondy.com>

I love it!

Jon

On 3/25/2016 9:38 AM, Ronaldo wrote:
> module test2() {
>    translate([100,0,0])
>    difference(){
>      cylinder(r=100,h=10,center=true);
>      cylinder(r=50,h=12,center=true);
>    }
> }
>
>   module slice(x,d) {
>     intersection(){
>       children();
>       translate([x,0,0])
>         cube([d,1000,1000],center=true);
>     }
>   }
>   
>   function shear_transf(x1,x2,d) = let( r=d/(x2-x1) )
>      [ [1,0,0,0], [0,1,0,0], [r,0,1,-r*x1], [0,0,0,1] ];
>   
>   module shear(x1,x2,d) {
>     multmatrix(shear_transf(x1,x2,d)) children();
>   }
>   
>   function f(x,a,b,c) = a*x*x+b*x+c;
>   
>   module modulate(a,b,c,x1,x2,d){
>     for(x=[x1:d:x2]) {
>       translate([0,0,f(x,a,b,c)])
>         shear(x,x+d,f(x+d,a,b,c)-f(x,a,b,c)) slice(x,d) children();
>     }
>   }
>   
> modulate(-0.01, 1.5, 10, 0, 200, 2) test2();
> translate([0,0,-200]) test2();
>



From runsun at gmail.com  Fri Mar 25 11:48:51 2016
From: runsun at gmail.com (runsun)
Date: Fri, 25 Mar 2016 08:48:51 -0700 (MST)
Subject: [OpenSCAD] restrict hull function to one or two dimensions
In-Reply-To: <1458913096623-16722.post@n5.nabble.com>
References: <1458772628432-16696.post@n5.nabble.com>
	<1458870106340-16717.post@n5.nabble.com>
	<1458913096623-16722.post@n5.nabble.com>
Message-ID: <1458920931940-16724.post@n5.nabble.com>

@ Ronaldo: Very good example usage of multmatrix. Thx for sharing.




-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), sweep( 1 , 2 ), var( 1 , 2 ), lerp , animGif , prodVid , precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/restrict-hull-function-to-one-or-two-dimensions-tp16696p16724.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Fri Mar 25 15:57:03 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Fri, 25 Mar 2016 12:57:03 -0700 (MST)
Subject: [OpenSCAD] restrict hull function to one or two dimensions
In-Reply-To: <1458913096623-16722.post@n5.nabble.com>
References: <1458772628432-16696.post@n5.nabble.com>
	<1458870106340-16717.post@n5.nabble.com>
	<1458913096623-16722.post@n5.nabble.com>
Message-ID: <1458935823388-16725.post@n5.nabble.com>

There was a mistake in the definition of module modulate. The correct one
would be:

 module modulate(a,b,c,x1,x2,dx){
   for(x=[x1:dx:x2]) {
     translate([0,0,f(x+dx/2,a,b,c)])
       shear(x,x+dx,f(x+dx,a,b,c)-f(x,a,b,c)) slice(x,dx) children();
   }
 }
 




--
View this message in context: http://forum.openscad.org/restrict-hull-function-to-one-or-two-dimensions-tp16696p16725.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Fri Mar 25 18:30:21 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Fri, 25 Mar 2016 15:30:21 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1458886676252-16718.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
Message-ID: <1458945021560-16726.post@n5.nabble.com>

OpenSCAD doesn't do textures. Neither does STL format.

You could add raised text, protruding from the model.


import("your_stl.stl");
translate([x,y,z]) // to move to the position where you want text
  rotate([x,y,z]) // to align with the face of the stl
    linear_extrude(height=3, convexity=6)
      text("your text");


Nageswara rao wrote
> Hello! I am trying implement one functionality . Please help me in it.
> 
> problem statement:
> 
> How to write a text on 3d model surface which is imported from STL file .
> 
> Added image for reference. please anyone give me an idea.
<http://forum.openscad.org/file/n16718/Capture.png> 




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16726.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Fri Mar 25 18:31:35 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Fri, 25 Mar 2016 15:31:35 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1458886676252-16718.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
Message-ID: <1458945095069-16727.post@n5.nabble.com>

p.s. Your post is still flagged as "This post has NOT been accepted by the
mailing list yet", so nobody gets it unless they look. 
You need to subscribe to the  mailing list
<http://forum.openscad.org/mailing_list/MailingListOptions.jtp?forum=1>  ,
and respond to the registration email.




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16727.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From e.krupin at googlemail.com  Sat Mar 26 06:33:16 2016
From: e.krupin at googlemail.com (=?UTF-8?B?0JXQstCz0LXQvdC40Lkg0JrRgNGD0L/QuNC9?=)
Date: Sat, 26 Mar 2016 10:33:16 +0000
Subject: [OpenSCAD] openscad falt
Message-ID: <CAJfwKpb7HkpRTuKqz8PYcB_xiwSiZAJr75tU6MiKif=fp+fPvQ@mail.gmail.com>

I've installed openscad 2015.03 on my gentoo box, it crashs with
segmentation fault.

0x00007ffff399722d in XQueryExtension () from /usr/lib64/libX11.so.6

my kernel version is 4.5
mesa 11.0.6
xorg-server 1.18.1
xf86-video-ati 7.6.1

-- 
? ?????????, ??????? ??????
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160326/ec169477/attachment.html>

From Torsten.Paul at gmx.de  Sat Mar 26 06:55:59 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sat, 26 Mar 2016 11:55:59 +0100
Subject: [OpenSCAD] openscad falt
In-Reply-To: <CAJfwKpb7HkpRTuKqz8PYcB_xiwSiZAJr75tU6MiKif=fp+fPvQ@mail.gmail.com>
References: <CAJfwKpb7HkpRTuKqz8PYcB_xiwSiZAJr75tU6MiKif=fp+fPvQ@mail.gmail.com>
Message-ID: <56F66ABF.90705@gmx.de>

On 03/26/2016 11:33 AM, ??????? ?????? wrote:
> I've installed openscad 2015.03 on my gentoo box, it crashs with segmentation fault.
> 
> 0x00007ffff399722d in XQueryExtension () from /usr/lib64/libX11.so.6
> 
> my kernel version is 4.5
> mesa 11.0.6
> xorg-server 1.18.1
> xf86-video-ati 7.6.1
> 
This is an issue with the compile settings of Qt in Gentoo,
not much we can do about that.

See https://github.com/openscad/openscad/issues/1510

ciao,
  Torsten.



From nageswararao.dasari at outlook.com  Sat Mar 26 07:31:12 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Sat, 26 Mar 2016 04:31:12 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1458987841604-16729.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1458945095069-16727.post@n5.nabble.com>
	<1458987562060-16728.post@n5.nabble.com>
	<1458987841604-16729.post@n5.nabble.com>
Message-ID: <1458991872425-16732.post@n5.nabble.com>

Nt only text it could be polygon or model loaded from dxf file.



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16732.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Sat Mar 26 11:58:11 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Sat, 26 Mar 2016 08:58:11 -0700 (MST)
Subject: [OpenSCAD] About animation, just for the record,
	just for Windows users.
Message-ID: <1459007891790-16733.post@n5.nabble.com>

This is for the Windows guys.
Sometime ago Torsten supplied  the script bellow. I had Cygwin installed and
tried to run the script without success due to errors, even after changing
type files in Notepad to Unix/OS type. Then I quit for some time. Yesterday
I installed msys2 and ran the script without any problem. Then I returned to
Cygwin and after some Googling I discovered that I had to run the "dos2unix"
utility which I did, and after that  the script start working. Conclusion
there are some differences between "msys2" and "cygwin" in what concerns
"dos/windows" type files. 

---snip---snap---snip---snap---snip---snap---snip---snap---snip---snap---- 

#!/bin/bash 

STEPS=200 
PATTERN=%04d.png 

for a in $(seq 0 $STEPS) 
do 
        FILE=$(printf "$PATTERN" $a) 
        echo "$FILE" 
        openscad \ 
                --imgsize=1920,1080 \ 
                --camera=0,0,0,60,0,40,300 \ 
                "-D\$t=$a/$STEPS" \ 
                -o "$FILE" animation.scad \ 
                >/dev/null 2>&1 
done 

ffmpeg -i "$PATTERN" -c:v libx264 -r 30 -pix_fmt yuv420p animation.mp4 

---snip---snap---snip---snap---snip---snap---snip---snap---snip---snap---- 

jpmendes



--
View this message in context: http://forum.openscad.org/About-animation-just-for-the-record-just-for-Windows-users-tp16733.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Sat Mar 26 13:48:17 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sat, 26 Mar 2016 10:48:17 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1458886676252-16718.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
Message-ID: <1459014497788-16734.post@n5.nabble.com>

As Michael wrote, OpenSCAD has no support for pinning a texture to a solid.
Also any color information gets lost when CGAL rendering (F6) is done for
STL export.

But if you have a dual or multiple head printer and a slicer that can handle
multiple STLs, one for each filament color, you can use OpenSCAD to produce
distinct STLs, one for each color and get a colored print.
Here some code that carves colored text (or any other texture) like a tarsia
into a solid. (Text is projected): 

<http://forum.openscad.org/file/n16734/texture.png> 

// mode = "shape"; // uncomment to view/export shape only
// mode = "text";  // uncomment to view/export text only

textonshape(mode = mode, textcolor = "red")
{
  // here is your shape
  cylinder(r=10.01, 71, center = true); 
  
  // here is your texture, must intersect with your shape
  translate([3,6,30]) // to move to the position where you want text
    rotate([0,90,90]) // to align with the face of the stl
        linear_extrude(height=6, convexity=9)
          text("your text");
}

module textonshape(mode = "view", textcolor = "green")
{
  if(mode != "shape")
    color(textcolor)
    intersection() // just the text 
    {
      scale([.999, .999, .999]) children([0]); children([1]);
    }
  if(mode != "text")
    difference()  // just the shape
    {
      children([0]); children([1]);
    }
}  



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16734.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Sat Mar 26 15:03:22 2016
From: marius at kintel.net (Marius Kintel)
Date: Sat, 26 Mar 2016 15:03:22 -0400
Subject: [OpenSCAD] About animation, just for the record,
	just for Windows users.
In-Reply-To: <1459007891790-16733.post@n5.nabble.com>
References: <1459007891790-16733.post@n5.nabble.com>
Message-ID: <BBD3C685-74C5-475A-98EF-ED2A2370C1B7@kintel.net>

> On Mar 26, 2016, at 11:58 AM, jpmendes <jpmendes54 at gmail.com> wrote:

> Cygwin and after some Googling I discovered that I had to run the "dos2unix"
> utility which I did, and after that  the script start working. Conclusion
> there are some differences between "msys2" and "cygwin" in what concerns
> "dos/windows" type files. 
> 
Usually, you need to clone the source code in the same environment that you run scripts, as git will typically convert source code to the line ending of your choice on clone.

 -Marius



From l_as at msn.com  Sat Mar 26 16:04:43 2016
From: l_as at msn.com (George Menoutis)
Date: Sat, 26 Mar 2016 20:04:43 +0000
Subject: [OpenSCAD] Difference not working
Message-ID: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>

I have a case of difference() totally not working. In this sense, 
totally means that rendering my shape alone results in a valid two 
manifold, while substracting a cube causes an INvalid one.

Here's the code. I've marked the cube line with a 
//HERE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!.
It's the 49th line.

// involute_gear_tooth and its math functions provided by:

// Parametric Involute Bevel and Spur Gears by GregFrost
// It is licensed under the Creative Commons - GNU GPL license.
// ? 2010 by GregFrost
// http://www.thingiverse.com/thing:3575

// Alterations done: removed [0,0] from the polygon points and path
// Moved pre-union() calculations out as globals

//INPUT START
mod=0.5;
pcd_in=1000; //2147483647
CTTR=.5; // CTT Ratio. 0.5 For mod system. when=1,teeth should touch
Wr=35/2;
starts=1;
backlash=0;
involute_facets=5;
//INPUT END

//===================Module instantiation==========
// Spur body
*rotate([0,90,-90]) translate([0,PCD/2+Wr+dedendum,0])
difference()
{
     cylinder(h=1,r=PCR-addendum,$fn=200);
}


// Spur teeth
*translate([WPCR+PCR,-2.5,0])
rotate([90,180/N,180])
linear_extrude(height=5)
for(in=[0:N-1])//0:N-1
{
     rotate([0,0,in*360/N])
         involute_gear_tooth();
}

//for(im=[0,1])
//rotate([im*180,0,0])
difference()
{
     prism(involute_facets,0,1,30,-7.5,7.5);
     //clean under z=0
     *translate([0,0,-10])
         cylinder(r=4*Wr,h=10);
     //clean under z=0
     *translate([-50,-50,7.499]) 
//HERE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
         cube(100);
}

gtotal=10;

//===================Module instantiation end==========





pi=3.1415926535897932384626433832795;
N=ceil(pcd_in/mod);
PCD=N*mod;
PCR=PCD/2;
echo("Diameter: ",pcd_in,", correction: ",PCD);
echo("MOD ",mod);
echo("Teeth ",N);
addendum = mod;
outer_radius = PCR+addendum;
dedendum = 1.4*mod;
WPCR=Wr+dedendum;

base_radius = PCR*cos(20);
echo("PCR=",PCR);
root_radius = PCD/2-dedendum;

CP=pi*mod;//*cos(helix_t);


CTT=CTTR*CP;



     backlash_angle = backlash / PCR * 180 / pi;
     half_thick_angle = (360 / N - backlash_angle) / 4;

     min_radius = max (base_radius,root_radius);

     pitch_point = involute (base_radius, involute_intersect_angle 
(base_radius, PCR));
     pitch_angle = atan2 (pitch_point[1], pitch_point[0]);
     centre_angle = pitch_angle + half_thick_angle;

     start_angle = involute_intersect_angle (base_radius, min_radius);
     stop_angle = involute_intersect_angle (base_radius, outer_radius);

     echo("Min radius= ",min_radius);
     echo("Outer radius = ",outer_radius);
     echo("Base radius = ",base_radius);
     echo("Start angle = ",start_angle);
     echo("Stop angle = ",stop_angle);
     echo("Pitch angle=",pitch_angle);
     echo("Half thick angle=",half_thick_angle);
     echo("Centre angle = ",centre_angle);
     res=(involute_facets!=0)?involute_facets:($fn==0)?5:$fn/4;


     echo("0: ",my_inv_pt(0));


function Easin(z)= (z<1 ? asin(z) : 180+asin(z-2));
function givez(p)=[p[0],p[1],0];
function givez_mirrory(p)=[p[0],-p[1],0];
function Ez(z)=PCR-abs(z-PCR);
A=PCR/CP/starts*pi*2;
function helix(z)=A*Easin(z/PCR); //Returns angle(progress around 
z-axis) of helix done from height 0 to z
function 
helix_angle(z)=atan(CP*starts*sqrt(pow(PCR,2)-pow(z,2))/PCR/360); 
//Returns the angle of the helix at a specific point (the one we would 
get by unwrapping it around z-axis and having it on a plane)
function tf(z,p)=
         translate_point(
             rotateZ( //progresses the helix
                 translate_point( // moves so teeth touch spur's pitch 
circle
                     rotateY( //rotates so teeth are vertical to spur's 
perimeter
                         rotateX( //rotates so cross section is normal 
to helix
         //                    strech_point(
                                 translate_point( //because involute 
tooth creates the teeth at PCR. This returns them so [0,0,0] is the centre
                                     p
                                 ,[-PCR,0,0])
//                            ,[1,1,1])
                         ,-(90-helix_angle(Ez(z))))
                     ,Easin(z/PCR))
,[WPCR+PCR-(z<PCR?1:-1)*sqrt(pow(PCR,2)-pow(Ez(z),2)),0,0])
             ,helix(z))
         ,[0,0,Ez(z)])
;
function top(z,p)=tf(PCR*sin(asin(z/PCR)+360/A),p);

function bcf(x)=givez(my_inv_pt(x));
function mcf(x)=givez_mirrory(my_inv_pt(x));

//square(5);

//C refers to curve, t to transformation
//c is also current, n is next
module prism(cn,c0,c1,tn,t0,t1) //Base Curve Function, Transformation 
Function must exist
{
     {
         dc=(c1-c0)/cn;
         dt=(t1-t0)/tn;
         echo("main module called for z=[",t0,",",t1,"] @ ",tn,": dz=",dt);
         for(i_start=[0:starts-1])
         rotate([0,0,360*i_start/starts])
         {
             for(t=[t0:1*dt:t1-dt])
             {
                     //echo("z:",t);
                     // Outer tooth surface
                     polyhedron(
points=[tf(t,bcf(c1)),tf(t,mcf(c1)),tf(t+dt,bcf(c1)),tf(t+dt,mcf(c1))],
                         faces=[[2,1,0],[1,2,3]]);
                     // Inner tooth surface
                     polyhedron(
points=[tf(t,bcf(c0)),tf(t,mcf(c0)),tf(t+dt,bcf(c0)),tf(t+dt,mcf(c0))],
                         faces=[[0,1,2],[3,2,1]]);
                     // Direct solid connection of tooth with radius
                     *polyhedron(
points=[tf(t,bcf(c0)),tf(t,mcf(c0)),tf(t+dt,bcf(c0)),tf(t+dt,mcf(c0)),[0,0,tf(t,bcf(c0))[2]],[0,0,tf(t,mcf(c0))[2]],[0,0,tf(t+dt,bcf(c0))[2]],[0,0,tf(t+dt,mcf(c0))[2]]],
                         faces=[[0,2,4],[5,3,1]]);
                     //Between teeth surface (a difficult one)
                     *polyhedron(
points=[tf(t,bcf(c0)),tf(t+dt,bcf(c0)),top(t,mcf(c0)),top(t+dt,mcf(c0))],
                         faces=[[0,1,2],[3,2,1]]);
                 //Side tooth surfaces
                 for(c=[c0:dc:c1-dc])
                 {
                     //echo("-------------");
             //echo("z=",t,"c=",c,"pa_i=",t*involute_facets/dt + c/dc," 
pa: ", tf(t,mcf(c)));
//echo("RotX angle: 
",-(90-helix_angle(Ez(t))),"(RAD:",-(90-helix_angle(Ez(t)))*pi/180);
//echo("");
                     //Top tooth side
                     polyhedron(
points=[tf(t,bcf(c)),tf(t,bcf(c+dc)),tf(t+dt,bcf(c)),tf(t+dt,bcf(c+dc))],
                         faces=[[2,1,0],[1,2,3]]);
                     //Bottom tooth side
                     polyhedron(
points=[tf(t,mcf(c)),tf(t,mcf(c+dc)),tf(t+dt,mcf(c)),tf(t+dt,mcf(c+dc))],
                         faces=[[0,1,2],[3,2,1]]);
                 }
             }
                 echo("Cap @ z=",t0);
                 for(c=[c0:dc:c1-dc])
                     polyhedron(
points=[tf(t0,bcf(c)),tf(t0,bcf(c+dc)),tf(t0,mcf(c)),tf(t0,mcf(c+dc))],
                         faces=[[0,1,2],[3,2,1]]);
                 echo("Cap @ z=",t1);
                 for(c=[c0:dc:c1-dc])
                     polyhedron(
points=[tf(t1,bcf(c)),tf(t1,bcf(c+dc)),tf(t1,mcf(c)),tf(t1,mcf(c+dc))],
                         faces=[[2,1,0],[1,2,3]]);
         }
     }
}

module involute_gear_tooth ()
{

//    echo("0",base_radius);
//    echo("1",start_angle);
//    echo("2",stop_angle);
//    echo("3",res);
//    echo("4",pitch_point);
//    echo("5",pitch_angle);
//    echo("6",centre_angle);
     union ()
     {
         for (i=[1:res])
         assign (
             point1=involute (base_radius,start_angle+(stop_angle - 
start_angle)*(i-1)/res),
             point2=involute (base_radius,start_angle+(stop_angle - 
start_angle)*i/res))
         {
             assign (
                 side1_point1=my_inv_pt(i-1),
                 side1_point2=my_inv_pt(i),
                 side2_point1=mirror_point (rotate_point (centre_angle, 
point1)),
                 side2_point2=mirror_point (rotate_point (centre_angle, 
point2)))
             {
                 //echo("i=",i," Polypts: ",side1_point1,", 
",side1_point2,", ",side2_point2,", ",side2_point1);
                 polygon (
points=[side1_point1,side1_point2,side2_point2,side2_point1],
                     paths=[[0,1,2,3,0]]);
             }
         }
     }
}

// Mathematical Functions for involute_gear_tooth
//===============

// Finds the angle of the involute about the base radius at the given 
distance (radius) from it's center.
//source: 
http://www.mathhelpforum.com/math-help/geometry/136011-circle-involute-solving-y-any-given-x.html

//progress=0 to 1
function my_inv_pt(progress)=rotate_point(centre_angle,involute 
(base_radius,start_angle+(stop_angle - start_angle)*progress));

function involute_intersect_angle (base_radius, radius) = sqrt (pow 
(radius/base_radius, 2) - 1) * 180 / pi;

// Calculate the involute position for a given base radius and involute 
angle.

function rotated_involute (rotate, base_radius, involute_angle) =
[
     cos (rotate) * involute (base_radius, involute_angle)[0] + sin 
(rotate) * involute (base_radius, involute_angle)[1],
     cos (rotate) * involute (base_radius, involute_angle)[1] - sin 
(rotate) * involute (base_radius, involute_angle)[0]
];

function mirror_point (coord) =
[
     coord[0],
     -coord[1]
];

function rotate_point (rotate, coord) =
[
     cos (rotate) * coord[0] + sin (rotate) * coord[1],
     cos (rotate) * coord[1] - sin (rotate) * coord[0]
];

function involute (base_radius, involute_angle) =
[
     base_radius*(cos (involute_angle) + involute_angle*pi/180*sin 
(involute_angle)),
     base_radius*(sin (involute_angle) - involute_angle*pi/180*cos 
(involute_angle)),
];

//==============================================================================================

module involute_gear_tooth ()
{
     union ()
     {
         for (i=[1:res])
         assign (
             point1=involute (base_radius,start_angle+(stop_angle - 
start_angle)*(i-1)/res),
             point2=involute (base_radius,start_angle+(stop_angle - 
start_angle)*i/res))
         {
             assign (
                 side1_point1=rotate_point (centre_angle, point1),
                 side1_point2=rotate_point (centre_angle, point2),
                 side2_point1=mirror_point (rotate_point (centre_angle, 
point1)),
                 side2_point2=mirror_point (rotate_point (centre_angle, 
point2)))
             {
                 polygon (
points=[side1_point1,side1_point2,side2_point2,side2_point1],
                     paths=[[0,1,2,3,4]]);
             }
         }
     }
}

function translate_point(p,d)=[p[0]+d[0],p[1]+d[1],p[2]+d[2]];
function rotateX(p,t)=[
p[0],
p[1]*cos(t)-p[2]*sin(t),
p[1]*sin(t)+p[2]*cos(t)];
function rotateY(p,t)=[
p[2]*sin(t)+p[0]*cos(t),
p[1],
p[2]*cos(t)-p[0]*sin(t),];
function rotateZ(p,t)=[
p[0]*cos(t)-p[1]*sin(t),
p[0]*sin(t)+p[1]*cos(t),
p[2]];
function strech_point(p,s)=[p[0]*s[0],p[1]*s[2],p[2]*s[2]];


---
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus


From oz.at.michael at gmail.com  Sat Mar 26 18:28:56 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sat, 26 Mar 2016 15:28:56 -0700 (MST)
Subject: [OpenSCAD] Difference not working
In-Reply-To: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <1459031336409-16737.post@n5.nabble.com>

Your prism() is producing bad geometry.
<http://forum.openscad.org/file/n16737/td16736.jpg> 
CGAL can't work with it.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16737.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From l_as at msn.com  Sat Mar 26 20:01:48 2016
From: l_as at msn.com (George Menoutis)
Date: Sun, 27 Mar 2016 00:01:48 +0000
Subject: [OpenSCAD] Difference not working
In-Reply-To: <1459031336409-16737.post@n5.nabble.com>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
Message-ID: <VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>

OpenSCAD states it's a good geometry.

http://smg.photobucket.com/user/lordasriel/media/lightworm_zps4qfbipfs.png.html
What can be wrong?




On 27/03/16 12:28 AM, MichaelAtOz wrote:
> Your prism() is producing bad geometry.
> <http://forum.openscad.org/file/n16737/td16736.jpg>
> CGAL can't work with it.
>
>
>
> -----
> Admin - PM me if you need anything, or if I've done something stupid...
>
> Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.
>
> The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
> --
> View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16737.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


---
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus


From oz.at.michael at gmail.com  Sat Mar 26 20:25:38 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sat, 26 Mar 2016 17:25:38 -0700 (MST)
Subject: [OpenSCAD] Difference not working
In-Reply-To: <VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <1459038338961-16739.post@n5.nabble.com>

My image about, is an export of just your prism() object, loaded into
netfabb, it shows you have
1480 triangles,
1480 shells and
1480 holes
To my that means you have 1480 disconnected bits.

The yellow bits are the holes.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16739.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sat Mar 26 20:34:47 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sat, 26 Mar 2016 17:34:47 -0700 (MST)
Subject: [OpenSCAD] Difference not working
In-Reply-To: <VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <1459038887598-16740.post@n5.nabble.com>

You also don't have ends, it is open geometry.
<http://forum.openscad.org/file/n16740/td16736_ends.jpg> 



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16740.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sat Mar 26 20:37:43 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sat, 26 Mar 2016 17:37:43 -0700 (MST)
Subject: [OpenSCAD] Difference not working
In-Reply-To: <1459038887598-16740.post@n5.nabble.com>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459038887598-16740.post@n5.nabble.com>
Message-ID: <1459039063784-16741.post@n5.nabble.com>

Sorry - disregard that. My debugging got rid of the ends.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16741.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Sat Mar 26 20:44:57 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Sat, 26 Mar 2016 17:44:57 -0700 (MST)
Subject: [OpenSCAD] Difference not working
In-Reply-To: <1459039063784-16741.post@n5.nabble.com>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459038887598-16740.post@n5.nabble.com>
	<1459039063784-16741.post@n5.nabble.com>
Message-ID: <1459039497441-16742.post@n5.nabble.com>

View/Thrown-together
<http://forum.openscad.org/file/n16742/td16736_poly.jpg> 
Your polys are wrong.
See  debugging polyhedrons
<https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Primitive_Solids#polyhedron> 
.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16742.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Sat Mar 26 22:16:44 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Sat, 26 Mar 2016 19:16:44 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459014497788-16734.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
Message-ID: <1459045004332-16743.post@n5.nabble.com>

Yeah it's working.Is it possible to wrap text taken from .dxf file.I have
attached a sample dxf sketch.



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16743.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Sun Mar 27 01:38:19 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Sat, 26 Mar 2016 22:38:19 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459014497788-16734.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
Message-ID: <1459057099123-16744.post@n5.nabble.com>

But for Chinese text it is not translating properly.please find attached
picture . <http://forum.openscad.org/file/n16744/ch.png> 



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16744.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Sun Mar 27 02:13:03 2016
From: mschafer at wireframe.biz (Neon22)
Date: Sat, 26 Mar 2016 23:13:03 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459057099123-16744.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
Message-ID: <1459059183892-16745.post@n5.nabble.com>

A second approach is to import the DXF into Inkscape and use the openscad
export plugin to export as an object.

Then intersect() and difference() it with cylinder (maybe 6 sides) to get
the wrapped text.
- http://www.thingiverse.com/thing:1065500



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16745.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Sun Mar 27 03:08:24 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Sun, 27 Mar 2016 00:08:24 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459059183892-16745.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459059183892-16745.post@n5.nabble.com>
Message-ID: <1459062504584-16746.post@n5.nabble.com>

Hello! Cant we do it with out importing into third party software. I would
like to add above functionality locally to OpenScad.Can you please provide
me in details.Thank you.



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16746.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Sun Mar 27 03:15:56 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Sun, 27 Mar 2016 00:15:56 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459014497788-16734.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
Message-ID: <1459062956124-16747.post@n5.nabble.com>

In above approach 
1.export as STL
2. import into OpenScad

results: Text disappears



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16747.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Sun Mar 27 05:06:29 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Sun, 27 Mar 2016 02:06:29 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459062956124-16747.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459062956124-16747.post@n5.nabble.com>
Message-ID: <1459069589506-16748.post@n5.nabble.com>

Does it appear at all - in mode "text"? Maybe your exporter is not working
properly. Why don't you post the relevant parts of your code?



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16748.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From l_as at msn.com  Sun Mar 27 05:48:35 2016
From: l_as at msn.com (George Menoutis)
Date: Sun, 27 Mar 2016 09:48:35 +0000
Subject: [OpenSCAD] Difference not working
In-Reply-To: <1459039497441-16742.post@n5.nabble.com>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459038887598-16740.post@n5.nabble.com>
	<1459039063784-16741.post@n5.nabble.com>
	<1459039497441-16742.post@n5.nabble.com>
Message-ID: <VI1PR10MB0048650E6DD9BDEC81E66A98E4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>

Your last picture doesn't show any error. It seems to me like an 
openscad solid with the default gold coloring and having the show edges on.
If you render it, does it state it as simple?

Mine does; if it didn't, I wouldn't disturb you with my mails.

On 27/03/16 2:44 AM, MichaelAtOz wrote:
> View/Thrown-together
> <http://forum.openscad.org/file/n16742/td16736_poly.jpg>
> Your polys are wrong.
> See  debugging polyhedrons
> <https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Primitive_Solids#polyhedron>
> .
>
>
>
> -----
> Admin - PM me if you need anything, or if I've done something stupid...
>
> Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.
>
> The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
> --
> View this message in context: http://forum.openscad.org/Difference-not-working-tp16736p16742.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


---
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus


From Torsten.Paul at gmx.de  Sun Mar 27 07:11:23 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sun, 27 Mar 2016 13:11:23 +0200
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
 geometric model
In-Reply-To: <1459062956124-16747.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459062956124-16747.post@n5.nabble.com>
Message-ID: <56F7BFDB.8070107@gmx.de>

On 03/27/2016 09:15 AM, Nageswara rao wrote:
> In above approach 
> 1.export as STL
> 2. import into OpenScad
> 
> results: Text disappears
> 
Just using text("something") produces a 2D object, to combine
it with a STL you need to make it 3D, using linear_extrude().
Could that be the problem?

ciao,
  Torsten.



From Torsten.Paul at gmx.de  Sun Mar 27 07:50:47 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Sun, 27 Mar 2016 13:50:47 +0200
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
 geometric model
In-Reply-To: <1459057099123-16744.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
Message-ID: <56F7C917.50100@gmx.de>

On 03/27/2016 07:38 AM, Nageswara rao wrote:
> But for Chinese text it is not translating properly.please find
> attached picture. <http://forum.openscad.org/file/n16744/ch.png>
> 
text() should be able to handle that, but it needs the
matching font. It will not try to automatically substitute
glyphs from other fonts if one is missing in the selected
font like most text editors do.

For example the following will do Braille

cube([65,12,.5]);
linear_extrude(1)
  text("\u2820\u2813\u2811\u2807\u2807\u2815", font="DejaVu Sans");

but that only works with a small number of fonts that have
the actual glyphs (on Linux "DejaVu Sans", on Windows that
could be "Segoe UI Symbol").

If you find it's still not working, please report an issue
on github. We'd need some help from people how know the
languages and have the appropriate fonts installed.

ciao,
  Torsten.



From mschafer at wireframe.biz  Sun Mar 27 07:50:59 2016
From: mschafer at wireframe.biz (Mark Schafer)
Date: Mon, 28 Mar 2016 00:50:59 +1300
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
 geometric model
In-Reply-To: <56F7BFDB.8070107@gmx.de>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459062956124-16747.post@n5.nabble.com> <56F7BFDB.8070107@gmx.de>
Message-ID: <56F7C923.4000609@wireframe.biz>

the reason the text() is not working is the particular font selected 
does not have those Kanji characters in it.
This means your choice of font is limited. Which is why I suggested 
using Inkscape - where you can employ any system font.
Best wishes.

On 3/28/2016 12:11 AM, Torsten Paul wrote:
> On 03/27/2016 09:15 AM, Nageswara rao wrote:
>> In above approach
>> 1.export as STL
>> 2. import into OpenScad
>>
>> results: Text disappears
>>
> Just using text("something") produces a 2D object, to combine
> it with a STL you need to make it 3D, using linear_extrude().
> Could that be the problem?
>
> ciao,
>    Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>



From runsun at gmail.com  Sun Mar 27 15:32:39 2016
From: runsun at gmail.com (runsun)
Date: Sun, 27 Mar 2016 12:32:39 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <56F7C923.4000609@wireframe.biz>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459062956124-16747.post@n5.nabble.com>
	<56F7BFDB.8070107@gmx.de> <56F7C923.4000609@wireframe.biz>
Message-ID: <1459107159634-16753.post@n5.nabble.com>

Seems to work fine on my pc (Windows 10):

<http://forum.openscad.org/file/n16753/OpenSCAD_Chinese_font.png> 

Generated with the following code:

> fonts = ["SimHei", "SimSun", "Microsoft JhengHei", "Microsoft YaHei"];        
> for (i=[0:len(fonts)-1])
> {  t = str(fonts[i], ": ????");
>    translate( [0,15*i,0]) text( t, font=fonts[i]);
> }





-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon 





--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16753.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Sun Mar 27 16:58:56 2016
From: doug at moens.org (doug moen)
Date: Sun, 27 Mar 2016 16:58:56 -0400
Subject: [OpenSCAD] Difference not working
In-Reply-To: <VI1PR10MB0048650E6DD9BDEC81E66A98E4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459038887598-16740.post@n5.nabble.com>
	<1459039063784-16741.post@n5.nabble.com>
	<1459039497441-16742.post@n5.nabble.com>
	<VI1PR10MB0048650E6DD9BDEC81E66A98E4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <CAGV6i+PYXcjNs4UYFbHevOcrkfOkrsBPvsBeQJgh1jHq3ay3aQ@mail.gmail.com>

OpenSCAD doesn't report an error if you pass bad arguments to polyhedron().
If all you try to do with the bad polyhedron is display it, then it
displays all of the faces, without regard to whether the faces are properly
connected to each other. So this kind of program will appear to work. As
soon as you try to perform a CSG operation on a bad polyhedron, only then
do you have problems: sometimes an error is reported, sometimes you get
nonsense results but no error is reported.

On 27 March 2016 at 05:48, George Menoutis <l_as at msn.com> wrote:

> Your last picture doesn't show any error. It seems to me like an
> openscad solid with the default gold coloring and having the show edges on.
> If you render it, does it state it as simple?
>
> Mine does; if it didn't, I wouldn't disturb you with my mails.
>
> On 27/03/16 2:44 AM, MichaelAtOz wrote:
> > View/Thrown-together
> > <http://forum.openscad.org/file/n16742/td16736_poly.jpg>
> > Your polys are wrong.
> > See  debugging polyhedrons
> > <
> https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Primitive_Solids#polyhedron
> >
> > .
> >
> >
> >
> > -----
> > Admin - PM me if you need anything, or if I've done something stupid...
> >
> > Unless specifically shown otherwise above, my contribution is in the
> Public Domain; to the extent possible under law, I have waived all
> copyright and related or neighbouring rights to this work. Obviously
> inclusion of works of previous authors is not included in the above.
> >
> > The TPP is no simple ?trade agreement.?   Fight it!
> http://www.ourfairdeal.org/   time is running out!
> > --
> > View this message in context:
> http://forum.openscad.org/Difference-not-working-tp16736p16742.html
> > Sent from the OpenSCAD mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
> ---
> This email has been checked for viruses by Avast antivirus software.
> https://www.avast.com/antivirus
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160327/3368c8d1/attachment.html>

From rcmpersiano at gmail.com  Sun Mar 27 18:02:28 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Sun, 27 Mar 2016 15:02:28 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
Message-ID: <1459116148575-16755.post@n5.nabble.com>

I am searching for a simple polygon triangulation algorithm to implement in
OpenSCAD language. Yes, I know that OpenSCAD is not a general purpose
language. But all methods I found for this problem are essentially iterative
and require complex data structure hard to implement even in a general
purpose functional language. The robust methods are complex to implement.
Even the Seidel algorithm, which is allegedly the easier to code, relies on
a data structure  that required more that 120 lines of code of a C++
implementation I found.

Besides, all methods I found are restricted to polygons in the plane. Which
method is used to triangulate the faces of polyhedron in OpenSCAD preview?
It seems to be more general.

Any help is welcome.



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From l_as at msn.com  Sun Mar 27 18:31:26 2016
From: l_as at msn.com (George Menoutis)
Date: Sun, 27 Mar 2016 22:31:26 +0000
Subject: [OpenSCAD] Difference not working
In-Reply-To: <CAGV6i+PYXcjNs4UYFbHevOcrkfOkrsBPvsBeQJgh1jHq3ay3aQ@mail.gmail.com>
References: <VI1PR10MB00483909689AA1EFB9E2A01FE4840@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459031336409-16737.post@n5.nabble.com>
	<VI1PR10MB00484109A0ED8C77276CF50DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<1459038887598-16740.post@n5.nabble.com>
	<1459039063784-16741.post@n5.nabble.com>
	<1459039497441-16742.post@n5.nabble.com>
	<VI1PR10MB0048650E6DD9BDEC81E66A98E4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>
	<CAGV6i+PYXcjNs4UYFbHevOcrkfOkrsBPvsBeQJgh1jHq3ay3aQ@mail.gmail.com>
Message-ID: <VI1PR10MB0048C3F26E83E7E49750146DE4850@VI1PR10MB0048.EURPRD10.PROD.OUTLOOK.COM>

I tried out and it is as you say. Thank you.

On 27/03/16 11:58 PM, doug moen wrote:
OpenSCAD doesn't report an error if you pass bad arguments to polyhedron(). If all you try to do with the bad polyhedron is display it, then it displays all of the faces, without regard to whether the faces are properly connected to each other. So this kind of program will appear to work. As soon as you try to perform a CSG operation on a bad polyhedron, only then do you have problems: sometimes an error is reported, sometimes you get nonsense results but no error is reported.

On 27 March 2016 at 05:48, George Menoutis <l_as at msn.com<mailto:l_as at msn.com>> wrote:
Your last picture doesn't show any error. It seems to me like an
openscad solid with the default gold coloring and having the show edges on.
If you render it, does it state it as simple?

Mine does; if it didn't, I wouldn't disturb you with my mails.

On 27/03/16 2:44 AM, MichaelAtOz wrote:
> View/Thrown-together
> <http://forum.openscad.org/file/n16742/td16736_poly.jpg>
> Your polys are wrong.
> See  debugging polyhedrons
> <https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Primitive_Solids#polyhedron>
> .
>
>
>
> -----
> Admin - PM me if you need anything, or if I've done something stupid...
>
> Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.
>
> The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
> --
> View this message in context: <http://forum.openscad.org/Difference-not-working-tp16736p16742.html> http://forum.openscad.org/Difference-not-working-tp16736p16742.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org<mailto:Discuss at lists.openscad.org>
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


---
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus

_______________________________________________
OpenSCAD mailing list
Discuss at lists.openscad.org<mailto:Discuss at lists.openscad.org>
http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org




_______________________________________________
OpenSCAD mailing list
Discuss at lists.openscad.org<mailto:Discuss at lists.openscad.org>
http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



[https://ipmcdn.avast.com/images/2016/icons/icon-envelope-tick-round-orange-v1.png]<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient&utm_term=oa-2115-v2-c>      No threats detected. www.avast.com<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient&utm_term=oa-2115-v2-c>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160327/905d750a/attachment.html>

From rl.ward at bigpond.com  Sun Mar 27 19:12:20 2016
From: rl.ward at bigpond.com (Rob Ward)
Date: Mon, 28 Mar 2016 10:12:20 +1100
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
 geometric model
In-Reply-To: <1459107159634-16753.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459062956124-16747.post@n5.nabble.com> <56F7BFDB.8070107@gmx.de>
	<56F7C923.4000609@wireframe.biz>
	<1459107159634-16753.post@n5.nabble.com>
Message-ID: <56F868D4.60607@bigpond.com>



Produced on my XUbuntu 14.4.4 LTS, which has "inherited fonts files"  
from my defunct MS-XP.  It looks as though I have got 3 out of the 4 by 
accident rather than intentionally.  I simply copied my XP Fonts folder 
to my <user>/.fonts on the Linux box and the vast majority worked 
straight off.  However there is one caveat, as I found out with my 
Arduino IDE, there can be some rogue fonts in amongst the XP font 
versions that do not have all the characters, even though they share the 
same font name (but not the same filename).  As the font used in that 
part of the IDE was not listed, it took some searching to find and 
eliminate the incomplete font, and allow the native Linux version do the 
right job.  So probably better to copy the Chinese font files over one 
by one, and check them out individually rather than do I what I did.  I 
do not deeply understand the complexities of font definitions, so there 
maybe other explanations.
Rob

On 28/03/16 06:32, runsun wrote:
> Seems to work fine on my pc (Windows 10):
>
> <http://forum.openscad.org/file/n16753/OpenSCAD_Chinese_font.png>
>
> Generated with the following code:
>
>> fonts = ["SimHei", "SimSun", "Microsoft JhengHei", "Microsoft YaHei"];
>> for (i=[0:len(fonts)-1])
>> {  t = str(fonts[i], ": ????");
>>     translate( [0,15*i,0]) text( t, font=fonts[i]);
>> }
>
>
>
>
> -----
>
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon
>
>
>
>
>
> --
> View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16753.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/fae697bb/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ChineseCharacters.png
Type: image/png
Size: 19525 bytes
Desc: not available
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/fae697bb/attachment.png>

From rudolf at parkinbot.com  Mon Mar 28 07:55:06 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Mon, 28 Mar 2016 04:55:06 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459057099123-16744.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
Message-ID: <1459166106987-16758.post@n5.nabble.com>

So, to sum it all up: This is your code and its result:
<http://forum.openscad.org/file/n16758/Chinese.png> 


> mode = "all";
> // mode = "shape"; // uncomment to view/export shape only
> // mode = "text";  // uncomment to view/export text only
> textonshape(mode = mode, textcolor = "red")
> {
>   // here is your shape
>   cylinder(r=10.01, 71, center = true);
>  
>   // here is your texture, must fully intersect with your shape
>   translate([3,6,30]) // to move to the position where you want text
>     rotate([0,90,90]) // to align with the face of the stl
>         linear_extrude(height=6, convexity=9)
>           text( "????", font="SimHei");
> }
> 
> module textonshape(mode = "view", textcolor = "green")
> {
>   if(mode != "shape")
>     color(textcolor)
>     intersection() // just the text
>     {
>       scale([.999, .999, .999]) children([0]); children([1]);
>     }
>   if(mode != "text")
>     difference()  // just the shape
>     {
>       children([0]); children([1]);
>     }
> }   





--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16758.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Mon Mar 28 08:22:56 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Mon, 28 Mar 2016 05:22:56 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459116148575-16755.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
Message-ID: <1459167776839-16759.post@n5.nabble.com>

good question ;-) 

so you'd need a convexity test first. 
1. If convexity is given, you can triangulate by either 
  a) using one corner as common point (this is trivial) 
  b) pull up a new triangle at one at the CW or CCW endpoint, until you're
done. This gives you two choices for each new triangle. If both choices are
valid, you get a possible recursion retrace point for sceanrios where both
choices fail. 

2. For a non-convex polygon, you can decompose the shape into a set convex
shapes and use 1a. So your question could be, how to decompose a non-convex
polygon into a set of convex polygons. 

3. I think alternatively you could also try 1b and find some additional test
for doing the right choice. 





--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16759.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Mon Mar 28 09:44:24 2016
From: runsun at gmail.com (runsun)
Date: Mon, 28 Mar 2016 06:44:24 -0700 (MST)
Subject: [OpenSCAD] Idea: include/use a remote .scad
Message-ID: <1459172664468-16760.post@n5.nabble.com>

like: 

include <http://.... somefile.scad>
include <ftp://.... somefile.scad>

The benefits:

1) Use a file on the internet/cloud w/o the need for users to download/save;
2) Can always use the most updated version on the net (certainly, this may
not always be a plus)

Advanced version to download and unzip and include:

include <http://.... somearchive.zip: somefile.scad>

Let Openscad do the download/save AND unzip 

Note:

When browsing thingiverse, I always am annoyed that I can't view the .scad
file on the net. I have to download it, unzip it, load it with Openscad,
then I can see what's inside to decide if that's what I want. If it's not,
then I have to go through the process of locating and deleting all the
downloaded files. 

This is a very tedious process for something I don't want. Very often I just
want to see how people do specific things to decide if I want to download,
or simply just want to learn but not keep the files. The way thingiverse
works make this very inconvenient (in this day of cloud computing, it feels
like 19th-ish century), in such a way that, in many cases, I simply just
gave it up. 

Although this is not OpenSCAD's issue, having the ability to use/include a
remote file using valid URI can be applied to many cases other than
thingiverse. For example, github. 



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont 






--
View this message in context: http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Mon Mar 28 10:32:17 2016
From: marius at kintel.net (Marius Kintel)
Date: Mon, 28 Mar 2016 10:32:17 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <1459172664468-16760.post@n5.nabble.com>
References: <1459172664468-16760.post@n5.nabble.com>
Message-ID: <680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>

Hi Runsun,

I don?t think direct URLs to files is the best way forward, but I?d like to offer an automated way of synchronizing with external files/repositories.
As you mention, the key is to allow locking a design to a particular version to avoid pulling in breaking changes later on.

I should write this up as a project on the wiki, but here?s a rough wishlist:
o Support having a project description (either in-line or as a separate file)  holding the links (and versions) of wanted dependencies.
o This project description will list all dependencies, their location, including version number (or e.g. branch if it?s a git link)
o Offer some UI or cmd-line for pulling / synchronizing dependencies
o Host an authoritative online repository of OpenSCAD libraries, components and designs
o Offer UI for discovery/browsing/searching of said online repository
o Allow anyone to publish to the repository their namespace of choice
o Alternative to hosting our own repository: Partner with an existing repository and use their API

Joshua started on this a long while ago: https://github.com/jfhbrook/scadpan

For this to really work, we first need to implement support for basic namespaces in OpenSCAD to avoid external components polluting the global namespace.

 -Marius


> On Mar 28, 2016, at 09:44 AM, runsun <runsun at gmail.com> wrote:
> 
> like: 
> 
> include <http://.... somefile.scad>
> include <ftp://.... somefile.scad>
> 
> The benefits:
> 
> 1) Use a file on the internet/cloud w/o the need for users to download/save;
> 2) Can always use the most updated version on the net (certainly, this may
> not always be a plus)
> 
> Advanced version to download and unzip and include:
> 
> include <http://.... somearchive.zip: somefile.scad>
> 
> Let Openscad do the download/save AND unzip 
> 
> Note:
> 
> When browsing thingiverse, I always am annoyed that I can't view the .scad
> file on the net. I have to download it, unzip it, load it with Openscad,
> then I can see what's inside to decide if that's what I want. If it's not,
> then I have to go through the process of locating and deleting all the
> downloaded files. 
> 
> This is a very tedious process for something I don't want. Very often I just
> want to see how people do specific things to decide if I want to download,
> or simply just want to learn but not keep the files. The way thingiverse
> works make this very inconvenient (in this day of cloud computing, it feels
> like 19th-ish century), in such a way that, in many cases, I simply just
> gave it up. 
> 
> Although this is not OpenSCAD's issue, having the ability to use/include a
> remote file using valid URI can be applied to many cases other than
> thingiverse. For example, github. 
> 
> 
> 
> -----
> 
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont 
> 
> 
> 
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



From marius at kintel.net  Mon Mar 28 10:40:03 2016
From: marius at kintel.net (Marius Kintel)
Date: Mon, 28 Mar 2016 10:40:03 -0400
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459116148575-16755.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
Message-ID: <E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>


> On Mar 27, 2016, at 18:02 PM, Ronaldo <rcmpersiano at gmail.com> wrote:

> Besides, all methods I found are restricted to polygons in the plane. Which
> method is used to triangulate the faces of polyhedron in OpenSCAD preview?
> It seems to be more general.
> 
We use a modified version of libtess2 (https://github.com/memononen/libtess2)

I haven?t managed to find a robust general purpose triangulator which supports slightly non-planar polygons as well as polygons with holes. Even CGAL crashes on some corner-case polygons. libtess2 is the best I?ve found so far.

The ?Triangle? library is rumored to be very good, but it?s not open source: https://www.cs.cmu.edu/~quake/triangle.html

 -Marius



From doug at moens.org  Mon Mar 28 10:50:21 2016
From: doug at moens.org (doug moen)
Date: Mon, 28 Mar 2016 10:50:21 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <1459172664468-16760.post@n5.nabble.com>
References: <1459172664468-16760.post@n5.nabble.com>
Message-ID: <CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>

I think this is a good idea.

I would add some extra URL schemes for github and thingiverse.
For example,
  use <github://openscad/scad-utils/trajectory.scad>
  use <thingiverse://thing:349943/relativity.scad>

The github scheme is easy to implement by text substitution. The
thingiverse scheme needs to be implemented using the thingiverse web API.
If we implement the thingiverse URL scheme, then probably we won't need
support for unpacking a zip file.

It is *very important* to implement persistent caching for this feature.
Otherwise, popular scad models (perhaps some hosted on thingiverse) could
end up hammering someone's personal web server that hosts popular
libraries. We do not want openscad to be the source of an accidental DOS
attack on someone's server.

We need to support relative URLs. If a model consists of multiple files,
then the main model file should use relative URLs to access the auxiliary
files. That makes the code position independent. If an scad script was
fetched via a remote URL, then any include, use or import statements in
that script will interpret pathnames like "foo.stl" as relative URLs, not
as local file system references.

On 28 March 2016 at 09:44, runsun <runsun at gmail.com> wrote:

> like:
>
> include <http://.... somefile.scad>
> include <ftp://.... somefile.scad>
>
> The benefits:
>
> 1) Use a file on the internet/cloud w/o the need for users to
> download/save;
> 2) Can always use the most updated version on the net (certainly, this may
> not always be a plus)
>
> Advanced version to download and unzip and include:
>
> include <http://.... somearchive.zip: somefile.scad>
>
> Let Openscad do the download/save AND unzip
>
> Note:
>
> When browsing thingiverse, I always am annoyed that I can't view the .scad
> file on the net. I have to download it, unzip it, load it with Openscad,
> then I can see what's inside to decide if that's what I want. If it's not,
> then I have to go through the process of locating and deleting all the
> downloaded files.
>
> This is a very tedious process for something I don't want. Very often I
> just
> want to see how people do specific things to decide if I want to download,
> or simply just want to learn but not keep the files. The way thingiverse
> works make this very inconvenient (in this day of cloud computing, it feels
> like 19th-ish century), in such a way that, in many cases, I simply just
> gave it up.
>
> Although this is not OpenSCAD's issue, having the ability to use/include a
> remote file using valid URI can be applied to many cases other than
> thingiverse. For example, github.
>
>
>
> -----
>
> $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ),
> runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ),
> matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif ,
> prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont
>
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/afffef9b/attachment.html>

From jpmendes54 at gmail.com  Mon Mar 28 11:19:21 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Mon, 28 Mar 2016 08:19:21 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
References: <1459116148575-16755.post@n5.nabble.com>
	<E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
Message-ID: <1459178361451-16764.post@n5.nabble.com>

Maybe contacting the author, he could change the licence, or give a special
permission, considering OpenSCAD is non commercial.

jpmendes



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16764.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Mon Mar 28 11:56:02 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 28 Mar 2016 17:56:02 +0200
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
Message-ID: <56F95412.6040901@gmx.de>

On 03/28/2016 04:50 PM, doug moen wrote:
> I think this is a good idea.
> 
Yes, and it could also extend to using web fonts directly,
although it seems it's not easily possible to use the google
font repo that way.

> The github scheme is easy to implement by text substitution.
> The thingiverse scheme needs to be implemented using the
> thingiverse web API.
>
I'm not sure we can handle support for various web APIs.
Anytime something changes, it's on our plate to update.

In addition, I'm not sure we can generally handle thingiverse
scad files without trying to emulate their platform. They
have a couple of extra files available which we would need
to infer from the filename and than magically pull those
from somewhere.

Also using the thingiverse API involves registering and
validating the app. They don't require revalidation for
every release like Apple, but still reserve the right to
revoke access any time.

>From a short test, it looks like the complete API is only
open for authorized users, so we'd need to be able to
login the user for every access.

And there's another issue as the apps need to use a token
(https://www.thingiverse.com/developers/getting-started)
and then send client_id and client_secret. I have no idea
how that can work with an open source app as there is no
way to keep that token secret.

ciao,
  Torsten.



From Torsten.Paul at gmx.de  Mon Mar 28 12:02:16 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 28 Mar 2016 18:02:16 +0200
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459178361451-16764.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
	<1459178361451-16764.post@n5.nabble.com>
Message-ID: <56F95588.3040402@gmx.de>

On 03/28/2016 05:19 PM, jpmendes wrote:
> Maybe contacting the author, he could change the licence, or
> give a special permission, considering OpenSCAD is non commercial.
> 
The first would be nice, the second one can't work. A special
license for OpenSCAD would make it non-distributable.

ciao,
  Torsten.



From rudolf at parkinbot.com  Mon Mar 28 12:09:26 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Mon, 28 Mar 2016 09:09:26 -0700 (MST)
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
References: <1459172664468-16760.post@n5.nabble.com>
	<680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
Message-ID: <1459181366391-16767.post@n5.nabble.com>

Why not offer a inet_libaries folder where downloaded files are cached with
some hashbased naming scheme similar to the backups folder. Enforcement to
download a newer version could be done implicitly session-based or
explicitly by a "renew" switch. It could also be used to enforce freezing to
a current version or two maintain and use different versions of the same
library - in different sketches. 

import ("http://.../somefile.scad", renew = ver);   // ver is cached version
order.

ver=0 (default): enforce download on a session base and use latest version
in cache. 
ver=n use version n if in cache, otherwise use ver=0
ver=-1 enforce immediate download and use ver=0 

(Unqualified) name resolving can use a defined order with origin optionally
being echoed to console: 
1. current folder of main scad file
2. libraries folder
3. inet_libraries folder



--
View this message in context: http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760p16767.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Mon Mar 28 12:27:59 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 28 Mar 2016 18:27:59 +0200
Subject: [OpenSCAD] OpenSCAD / Google Summer of Code Update
Message-ID: <56F95B8F.5020500@gmx.de>

The student application period is now over and I first want
to thank everybody involved in supporting the students with
preparing the applications and of cause the students who
applied.

We will now review and discuss the final project proposals
which will take some time. The list of accepted projects
will be published by Google on April 22nd.
(https://developers.google.com/open-source/gsoc/timeline)

For the students that applied, please continue to be
involved in that period and make sure to provide at least
one patch that does some code change. It does not have to
be a big thing, but should mainly show you have a development
environment set up and are able to read and understand (a
small part) of the existing source code and make changes to
that. Feel free to find us on IRC to discuss details.

Deadline for the patches to be considered for the selection
decision is Monday April 4th 19:00 UTC.

ciao,
  Torsten.



From amarjeet.kapoor1 at gmail.com  Mon Mar 28 12:40:02 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Mon, 28 Mar 2016 22:10:02 +0530
Subject: [OpenSCAD] OpenSCAD / Google Summer of Code Update
In-Reply-To: <56F95B8F.5020500@gmx.de>
References: <56F95B8F.5020500@gmx.de>
Message-ID: <CABskhPOG4Zobc6=h1n-rXXDhMQf3ygVGkzN_aHSe=DfaB8Apjw@mail.gmail.com>

On Mar 28, 2016 9:59 PM, "Torsten Paul" <Torsten.Paul at gmx.de> wrote:

> For the students that applied, please continue to be
> involved in that period and make sure to provide at least
> one patch that does some code change. It does not have to
> be a big thing, but should mainly show you have a development
> environment set up and are able to read and understand (a
> small part) of the existing source code and make changes to
> that. Feel free to find us on IRC to discuss details.
>
> Deadline for the patches to be considered for the selection
> decision is Monday April 4th 19:00 UTC.

Thanks for sharing. I thought we had time till 20th April.

Would you suggest some issue for which I can write a patch because when I
searched for issues which I can solve and submit as patch mainly for which
I feel confident are already solved but not closed or are the one on which
discussion is going on.
At present thinking of doing refactoring of code in mainwindow file (
mentioned in todo list).

-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/5afe575c/attachment.html>

From Torsten.Paul at gmx.de  Mon Mar 28 13:15:10 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 28 Mar 2016 19:15:10 +0200
Subject: [OpenSCAD] OpenSCAD / Google Summer of Code Update
In-Reply-To: <CABskhPOG4Zobc6=h1n-rXXDhMQf3ygVGkzN_aHSe=DfaB8Apjw@mail.gmail.com>
References: <56F95B8F.5020500@gmx.de>
	<CABskhPOG4Zobc6=h1n-rXXDhMQf3ygVGkzN_aHSe=DfaB8Apjw@mail.gmail.com>
Message-ID: <56F9669E.6080808@gmx.de>

>> Deadline for the patches to be considered for the selection
>> decision is Monday April 4th 19:00 UTC.
> 
> Thanks for sharing. I thought we had time till 20th April.
> 
Yeah, for some reason not all of the Google/Org interaction
dates are listed in the timeline. But for Google being able
to give the results on 22th, they need the org feedback quite
a bit earlier for evaluation.

Right, I looked through the list of issues marked as
"LowHanging" on github and that's indeed mostly non-code
issues. I'll have a look if we mark some other issues too
or post some additional ones.

If you like a bit of a challenge, there's a TODO in the
dependency handling code which looks extremely simple at
first glance, it's a bit more tricky due to having three
platforms (MacOS, Linux, Windows) where the behavior might
be slightly different. So it needs some reading of system
documentation.

https://github.com/openscad/openscad/blob/master/src/handle_dep.cc#L25

This should be related to makefile handling which might
not be the most common use case, but probably helps for
bigger projects. I haven't really used that feature myself
yet.

https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Using_OpenSCAD_in_a_command_line_environment#Makefile_example

ciao,
  Torsten.



From rcmpersiano at gmail.com  Mon Mar 28 13:34:19 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Mon, 28 Mar 2016 10:34:19 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
References: <1459116148575-16755.post@n5.nabble.com>
	<E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
Message-ID: <1459186459547-16771.post@n5.nabble.com>

Hi, Kintel. Thank you for the references. I will take a look on libtess2.

I visited the Triangle page you mentioned and downloaded the triangle.c
code. It is intended to perform Delaunay triangulations. Relying on its
ability to compute constrained Delaunay triangulation may be it could be
used to triangulate a simple planar polygon. It could be an alternative to
me if I had triangulation data structures implemented over OpenSCAD lists.
That was in my future plans but this might be a huge work.

I already implemented an ear-trim kind of method to triangulate simple
almost planar polygons. It is not very efficient however. And very thin
triangles is unavoidable.

Regarding the Triangle copyright, the text bellow is found in the triangle.c
file. I am not sure if it would restrict its use in OpenSCAD code.

/*  (triangle.c)                                                            
*/
/*                                                                          
*/
/*  Version 1.6                                                             
*/
/*  July 28, 2005                                                           
*/
/*                                                                          
*/
/*  Copyright 1993, 1995, 1997, 1998, 2002, 2005                            
*/
/*  Jonathan Richard Shewchuk                                               
*/
/*  2360 Woolsey #H                                                         
*/
/*  Berkeley, California  94705-1927                                        
*/
/*  jrs at cs.berkeley.edu                                                     
*/
/*                                                                          
*/
/*  This program may be freely redistributed under the condition that the   
*/
/*    copyright notices (including this entire header and the copyright     
*/
/*    notice printed when the `-h' switch is selected) are not removed, and 
*/
/*    no compensation is received.  Private, research, and institutional    
*/
/*    use is free.  You may distribute modified versions of this code UNDER 
*/
/*    THE CONDITION THAT THIS CODE AND ANY MODIFICATIONS MADE TO IT IN THE  
*/
/*    SAME FILE REMAIN UNDER COPYRIGHT OF THE ORIGINAL AUTHOR, BOTH SOURCE  
*/
/*    AND OBJECT CODE ARE MADE FREELY AVAILABLE WITHOUT CHARGE, AND CLEAR   
*/
/*    NOTICE IS GIVEN OF THE MODIFICATIONS.  Distribution of this code as   
*/
/*    part of a commercial system is permissible ONLY BY DIRECT ARRANGEMENT 
*/
/*    WITH THE AUTHOR.  (If you are not directly supplying this code to a   
*/
/*    customer, and you are instead telling them how they can obtain it for 
*/
/*    free, then you are not required to make any arrangement with me.)     
*/




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16771.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Mon Mar 28 14:29:00 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Mon, 28 Mar 2016 20:29:00 +0200
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459186459547-16771.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
	<1459186459547-16771.post@n5.nabble.com>
Message-ID: <56F977EC.5060407@gmx.de>

On 03/28/2016 07:34 PM, Ronaldo wrote:
> Regarding the Triangle copyright, the text bellow is found in
> the triangle.c file. I am not sure if it would restrict its use
> in OpenSCAD code.
> 
I'm not a lawyer, so I can't give official advice about this,
but in my understanding "Private, research, and institutional
use is free." is a big conflict with GPL.

ciao,
  Torsten.



From doug at moens.org  Mon Mar 28 18:55:17 2016
From: doug at moens.org (doug moen)
Date: Mon, 28 Mar 2016 18:55:17 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <1459181366391-16767.post@n5.nabble.com>
References: <1459172664468-16760.post@n5.nabble.com>
	<680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
	<1459181366391-16767.post@n5.nabble.com>
Message-ID: <CAGV6i+OOq1AyJ8F2JP6-7iRUA4of-u6BJXz0SKySmVUmsnNr6g@mail.gmail.com>

@parkinbot: the ver=-1 option in particular will cause a denial-of-service
attack against the target web server. For example, it will force a download
on every frame of an animation.

We must not provide a DOS capability within the OpenSCAD language. Remote
files must be cached, and we can use web browser semantics for
automatically deciding when the cache needs to be refreshed. The mechanism
for forcing the reload of a particular file from a web server needs to be
outside of the language, and must be triggered by an explicit user
interface action.

On 28 March 2016 at 12:09, Parkinbot <rudolf at parkinbot.com> wrote:

> Why not offer a inet_libaries folder where downloaded files are cached with
> some hashbased naming scheme similar to the backups folder. Enforcement to
> download a newer version could be done implicitly session-based or
> explicitly by a "renew" switch. It could also be used to enforce freezing
> to
> a current version or two maintain and use different versions of the same
> library - in different sketches.
>
> import ("http://.../somefile.scad", renew = ver);   // ver is cached
> version
> order.
>
> ver=0 (default): enforce download on a session base and use latest version
> in cache.
> ver=n use version n if in cache, otherwise use ver=0
> ver=-1 enforce immediate download and use ver=0
>
> (Unqualified) name resolving can use a defined order with origin optionally
> being echoed to console:
> 1. current folder of main scad file
> 2. libraries folder
> 3. inet_libraries folder
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760p16767.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/5d4f1595/attachment.html>

From doug at moens.org  Mon Mar 28 19:02:00 2016
From: doug at moens.org (doug moen)
Date: Mon, 28 Mar 2016 19:02:00 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <56F95412.6040901@gmx.de>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
	<56F95412.6040901@gmx.de>
Message-ID: <CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>

Torsten, you are right, my thingiverse URL scheme won't work without
negotiating some sort of deal with Thingiverse. Maybe they'd be amenable to
a deal, given how they use openscad to run their web site. But the API
terms of service prevent us from using it.

In order to make thingiverse access work properly, we need some way to make
relative URLs work correctly. Runsun's suggestion for zip-file relative
addressing would be the other approach, but I'd want to amend the URL
syntax so that relative URLs work.

On 28 March 2016 at 11:56, Torsten Paul <Torsten.Paul at gmx.de> wrote:

> On 03/28/2016 04:50 PM, doug moen wrote:
> > I think this is a good idea.
> >
> Yes, and it could also extend to using web fonts directly,
> although it seems it's not easily possible to use the google
> font repo that way.
>
> > The github scheme is easy to implement by text substitution.
> > The thingiverse scheme needs to be implemented using the
> > thingiverse web API.
> >
> I'm not sure we can handle support for various web APIs.
> Anytime something changes, it's on our plate to update.
>
> In addition, I'm not sure we can generally handle thingiverse
> scad files without trying to emulate their platform. They
> have a couple of extra files available which we would need
> to infer from the filename and than magically pull those
> from somewhere.
>
> Also using the thingiverse API involves registering and
> validating the app. They don't require revalidation for
> every release like Apple, but still reserve the right to
> revoke access any time.
>
> From a short test, it looks like the complete API is only
> open for authorized users, so we'd need to be able to
> login the user for every access.
>
> And there's another issue as the apps need to use a token
> (https://www.thingiverse.com/developers/getting-started)
> and then send client_id and client_secret. I have no idea
> how that can work with an open source app as there is no
> way to keep that token secret.
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/e0e9ff30/attachment.html>

From doug at moens.org  Mon Mar 28 19:09:57 2016
From: doug at moens.org (doug moen)
Date: Mon, 28 Mar 2016 19:09:57 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
References: <1459172664468-16760.post@n5.nabble.com>
	<680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
Message-ID: <CAGV6i+ORRFPMqa_bpJo4zdJdDMs=drySNYtS5-oCoG7sco4=OA@mail.gmail.com>

Marius: Joshua's idea for an official "scadpan" repository is a good one,
if we can put together the resources to set it up and maintain it.

Once we have this repository, we still need some syntax for conveniently
accessing files within the repository. It has to be compatible with
include<>, use<>, import(file=), surface(file=), etc. I suggest an scadpan:
URL scheme. This will allow people to continue to distribute small projects
as single *.scad files, and the instructions for using some new library
will be as simple as "add this one line of code to your *.scad file". If
you need to create a separate project description file just to reference an
external library, then that creates a significant barrier to use.

On 28 March 2016 at 10:32, Marius Kintel <marius at kintel.net> wrote:

> Hi Runsun,
>
> I don?t think direct URLs to files is the best way forward, but I?d like
> to offer an automated way of synchronizing with external files/repositories.
> As you mention, the key is to allow locking a design to a particular
> version to avoid pulling in breaking changes later on.
>
> I should write this up as a project on the wiki, but here?s a rough
> wishlist:
> o Support having a project description (either in-line or as a separate
> file)  holding the links (and versions) of wanted dependencies.
> o This project description will list all dependencies, their location,
> including version number (or e.g. branch if it?s a git link)
> o Offer some UI or cmd-line for pulling / synchronizing dependencies
> o Host an authoritative online repository of OpenSCAD libraries,
> components and designs
> o Offer UI for discovery/browsing/searching of said online repository
> o Allow anyone to publish to the repository their namespace of choice
> o Alternative to hosting our own repository: Partner with an existing
> repository and use their API
>
> Joshua started on this a long while ago:
> https://github.com/jfhbrook/scadpan
>
> For this to really work, we first need to implement support for basic
> namespaces in OpenSCAD to avoid external components polluting the global
> namespace.
>
>  -Marius
>
>
> > On Mar 28, 2016, at 09:44 AM, runsun <runsun at gmail.com> wrote:
> >
> > like:
> >
> > include <http://.... somefile.scad>
> > include <ftp://.... somefile.scad>
> >
> > The benefits:
> >
> > 1) Use a file on the internet/cloud w/o the need for users to
> download/save;
> > 2) Can always use the most updated version on the net (certainly, this
> may
> > not always be a plus)
> >
> > Advanced version to download and unzip and include:
> >
> > include <http://.... somearchive.zip: somefile.scad>
> >
> > Let Openscad do the download/save AND unzip
> >
> > Note:
> >
> > When browsing thingiverse, I always am annoyed that I can't view the
> .scad
> > file on the net. I have to download it, unzip it, load it with Openscad,
> > then I can see what's inside to decide if that's what I want. If it's
> not,
> > then I have to go through the process of locating and deleting all the
> > downloaded files.
> >
> > This is a very tedious process for something I don't want. Very often I
> just
> > want to see how people do specific things to decide if I want to
> download,
> > or simply just want to learn but not keep the files. The way thingiverse
> > works make this very inconvenient (in this day of cloud computing, it
> feels
> > like 19th-ish century), in such a way that, in many cases, I simply just
> > gave it up.
> >
> > Although this is not OpenSCAD's issue, having the ability to use/include
> a
> > remote file using valid URI can be applied to many cases other than
> > thingiverse. For example, github.
> >
> >
> >
> > -----
> >
> > $  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ),
> runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ),
> matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif ,
> prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont
> >
> >
> >
> >
> >
> >
> > --
> > View this message in context:
> http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760.html
> > Sent from the OpenSCAD mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/5bec0b3d/attachment.html>

From rcmpersiano at gmail.com  Mon Mar 28 19:24:59 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Mon, 28 Mar 2016 20:24:59 -0300
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <56F977EC.5060407@gmx.de>
References: <1459116148575-16755.post@n5.nabble.com>
	<E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
	<1459186459547-16771.post@n5.nabble.com> <56F977EC.5060407@gmx.de>
Message-ID: <CA+i9EaAaQUW41Fw17j=CnTWSQpm5iMj1kGC4Qcph66yBRXmCCA@mail.gmail.com>

I agree but between "Private, research, and institutional use is free." and
"Distribution of this code as  part of a commercial system is permissible
ONLY BY DIRECT ARRANGEMENT WITH THE AUTHOR" there is a large space for a
deal.

2016-03-28 15:29 GMT-03:00 Torsten Paul <Torsten.Paul at gmx.de>:

> On 03/28/2016 07:34 PM, Ronaldo wrote:
> > Regarding the Triangle copyright, the text bellow is found in
> > the triangle.c file. I am not sure if it would restrict its use
> > in OpenSCAD code.
> >
> I'm not a lawyer, so I can't give official advice about this,
> but in my understanding "Private, research, and institutional
> use is free." is a big conflict with GPL.
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/6f12dd22/attachment.html>

From Torsten.Paul at gmx.de  Mon Mar 28 19:25:53 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 29 Mar 2016 01:25:53 +0200
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
	<56F95412.6040901@gmx.de>
	<CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>
Message-ID: <56F9BD81.9080205@gmx.de>

On 03/29/2016 01:02 AM, doug moen wrote:
> Torsten, you are right, my thingiverse URL scheme won't
> work without negotiating some sort of deal with Thingiverse.
> Maybe they'd be amenable to a deal, given how they use
> openscad to run their web site. But the API terms of
> service prevent us from using it.
>
Well, I guess it won't hurt to ask, but I suspect both the
login and the API token issues are not easily solvable.

They mention that there might be a read-only API somewhere
in the future, but I figure nobody is currently working on
that.

The token issue is more complicated, I don't see any way
around that except if they allow the read-only API to be
used without the token but just with some kind of rate
limiting. Well the other solution would be to have the
token included in OpenSCAD, but that makes it pretty much
useless then as everybody could just impersonate the
OpenSCAD application and per API TOS we'd be the ones to
blame.

> In order to make thingiverse access work properly, we
> need some way to make relative URLs work correctly.
> Runsun's suggestion for zip-file relative addressing
> would be the other approach, but I'd want to amend the
> URL syntax so that relative URLs work.
> 
I don't see how the ZIP handling in the script itself
would make sense. To get it going you already need a
file that references the ZIP file and the files included
will not reference it either, but maybe I'm just missing
something.

To me it sound like that would be more a job for some
kind of browser that allows to search/explore the things
on thingiverse and allows to open selected things in
OpenSCAD. Probably like the example application they
reference.
(https://github.com/potatono/lets-look-at-your-things)

For single files it would be already much easier if they
could send a useful mime-type instead of just

  Content-Type: application/octet-stream

ciao,
  Torsten.



From Torsten.Paul at gmx.de  Mon Mar 28 19:38:24 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 29 Mar 2016 01:38:24 +0200
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <CA+i9EaAaQUW41Fw17j=CnTWSQpm5iMj1kGC4Qcph66yBRXmCCA@mail.gmail.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<E01B1267-5967-4DCB-9524-27D87F3EEDB0@kintel.net>
	<1459186459547-16771.post@n5.nabble.com> <56F977EC.5060407@gmx.de>
	<CA+i9EaAaQUW41Fw17j=CnTWSQpm5iMj1kGC4Qcph66yBRXmCCA@mail.gmail.com>
Message-ID: <56F9C070.8060702@gmx.de>

On 03/29/2016 01:24 AM, Ronaldo Persiano wrote:
> I agree but between "Private, research, and institutional use is free." and
> "Distribution of this code as  part of a commercial system is permissible
> ONLY BY DIRECT ARRANGEMENT WITH THE AUTHOR" there is a large space for a deal.
> 
Yes, there might be room for a deal, but that will not help as long
as there is any additional GPL code used. *Any* special agreement
just for OpenSCAD is not compatible with GPL.

The only way to use that code is if it's released with a license
that is compatible with GPL (e.g. BSD/MIT is compatible, a long
list is available at http://www.gnu.org/licenses/license-list.html).

Note that this is not so much about the OpenSCAD code itself, this
could be mainly up to Marius to decide, but we use a number of GPL
libraries and we do have to respect their decision.

ciao,
  Torsten.



From nageswararao.dasari at outlook.com  Mon Mar 28 20:11:28 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Mon, 28 Mar 2016 17:11:28 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459166106987-16758.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
Message-ID: <1459210288006-16779.post@n5.nabble.com>

yeah! it was working fine for me.As I mentioned in previous reply is it
possible to wrap a dxf model on solid face.Like attached picture.I would be
thankful for any help <http://forum.openscad.org/file/n16779/dxfAndSTL.png> 



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16779.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Mon Mar 28 20:22:49 2016
From: doug at moens.org (doug moen)
Date: Mon, 28 Mar 2016 20:22:49 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <56F9BD81.9080205@gmx.de>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
	<56F95412.6040901@gmx.de>
	<CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>
	<56F9BD81.9080205@gmx.de>
Message-ID: <CAGV6i+O1kL2NBTprY3+vgeCBxDU-LicsmE=hTj=tMidgW9qT+w@mail.gmail.com>

Here's how thingiverse URLs could work.

include <thingiverse://thing:16193/write.scad>

How this works is: we download http://www.thingiverse.com/thing:16193/zip,
then unzip the zip file, and reference the file "write.scad" inside that
zip file.

When write.scad executes
    import(file="Letters.dxf", layer=...);
then, since the parent script was referenced via a URL, we interpret
"Letters.dxf" as a relative URL. According to the rules for relative URLs,
we convert this name to its absolute URL form, relative to the parent URL,
which is "thingiverse://thing:16193/Letters.dxf". We've already got this
file in our cache (it's part of the zip file we just downloaded).


On 28 March 2016 at 19:25, Torsten Paul <Torsten.Paul at gmx.de> wrote:

> On 03/29/2016 01:02 AM, doug moen wrote:
> > Torsten, you are right, my thingiverse URL scheme won't
> > work without negotiating some sort of deal with Thingiverse.
> > Maybe they'd be amenable to a deal, given how they use
> > openscad to run their web site. But the API terms of
> > service prevent us from using it.
> >
> Well, I guess it won't hurt to ask, but I suspect both the
> login and the API token issues are not easily solvable.
>
> They mention that there might be a read-only API somewhere
> in the future, but I figure nobody is currently working on
> that.
>
> The token issue is more complicated, I don't see any way
> around that except if they allow the read-only API to be
> used without the token but just with some kind of rate
> limiting. Well the other solution would be to have the
> token included in OpenSCAD, but that makes it pretty much
> useless then as everybody could just impersonate the
> OpenSCAD application and per API TOS we'd be the ones to
> blame.
>
> > In order to make thingiverse access work properly, we
> > need some way to make relative URLs work correctly.
> > Runsun's suggestion for zip-file relative addressing
> > would be the other approach, but I'd want to amend the
> > URL syntax so that relative URLs work.
> >
> I don't see how the ZIP handling in the script itself
> would make sense. To get it going you already need a
> file that references the ZIP file and the files included
> will not reference it either, but maybe I'm just missing
> something.
>
> To me it sound like that would be more a job for some
> kind of browser that allows to search/explore the things
> on thingiverse and allows to open selected things in
> OpenSCAD. Probably like the example application they
> reference.
> (https://github.com/potatono/lets-look-at-your-things)
>
> For single files it would be already much easier if they
> could send a useful mime-type instead of just
>
>   Content-Type: application/octet-stream
>
> ciao,
>   Torsten.
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160328/46d1061e/attachment.html>

From jpmendes54 at gmail.com  Mon Mar 28 20:26:04 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Mon, 28 Mar 2016 17:26:04 -0700 (MST)
Subject: [OpenSCAD] About error lines
Message-ID: <1459211164665-16781.post@n5.nabble.com>


When errors happen at compilation time the line number referenced is not
correct. It depends on the length of the included files. If I change the
<includes> to <uses> then the error lines appear correct. This is not very
user friendly.  Can this be fixed? Fixing it would be nice to ease
debugging.

jpmendes



--
View this message in context: http://forum.openscad.org/About-error-lines-tp16781.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Mon Mar 28 20:27:45 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Mon, 28 Mar 2016 17:27:45 -0700 (MST)
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <CAGV6i+OOq1AyJ8F2JP6-7iRUA4of-u6BJXz0SKySmVUmsnNr6g@mail.gmail.com>
References: <1459172664468-16760.post@n5.nabble.com>
	<680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
	<1459181366391-16767.post@n5.nabble.com>
	<CAGV6i+OOq1AyJ8F2JP6-7iRUA4of-u6BJXz0SKySmVUmsnNr6g@mail.gmail.com>
Message-ID: <1459211265482-16782.post@n5.nabble.com>

You are right, ver =-1 can get nasty, when used naively (even reloads could
be easily limited to F5/F6 range, what I had in mind). If a reload really
has to be enforced one can also restart the session. 



--
View this message in context: http://forum.openscad.org/Idea-include-use-a-remote-scad-tp16760p16782.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Mon Mar 28 20:35:12 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 29 Mar 2016 02:35:12 +0200
Subject: [OpenSCAD] About error lines
In-Reply-To: <1459211164665-16781.post@n5.nabble.com>
References: <1459211164665-16781.post@n5.nabble.com>
Message-ID: <56F9CDC0.6010602@gmx.de>

On 03/29/2016 02:26 AM, jpmendes wrote:
> When errors happen at compilation time the line number referenced is not
> correct. It depends on the length of the included files. If I change the
> <includes> to <uses> then the error lines appear correct. This is not very
> user friendly.  Can this be fixed? Fixing it would be nice to ease
> debugging.
> 
Yes, that's known bug.
https://github.com/openscad/openscad/issues/214

ciao,
  Torsten.



From nageswararao.dasari at outlook.com  Mon Mar 28 21:23:20 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Mon, 28 Mar 2016 18:23:20 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459210288006-16779.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
Message-ID: <1459214600222-16785.post@n5.nabble.com>

Is it possible to project curves,polygons etc on to the surface.?



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16785.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Mon Mar 28 21:40:57 2016
From: marius at kintel.net (Marius Kintel)
Date: Mon, 28 Mar 2016 21:40:57 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <CAGV6i+ORRFPMqa_bpJo4zdJdDMs=drySNYtS5-oCoG7sco4=OA@mail.gmail.com>
References: <1459172664468-16760.post@n5.nabble.com>
	<680BB38B-194E-4DAF-B6ED-2521599DC186@kintel.net>
	<CAGV6i+ORRFPMqa_bpJo4zdJdDMs=drySNYtS5-oCoG7sco4=OA@mail.gmail.com>
Message-ID: <BFDA515D-0C0B-4D4D-A2C5-ED3245A8AAD7@kintel.net>

> On Mar 28, 2016, at 19:09 PM, doug moen <doug at moens.org> wrote:
> If you need to create a separate project description file just to reference an external library, then that creates a significant barrier to use.
> 
I agree. We need a convenient way of describing that inline.

 -Marius



From marius at kintel.net  Mon Mar 28 21:44:29 2016
From: marius at kintel.net (Marius Kintel)
Date: Mon, 28 Mar 2016 21:44:29 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <56F9BD81.9080205@gmx.de>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
	<56F95412.6040901@gmx.de>
	<CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>
	<56F9BD81.9080205@gmx.de>
Message-ID: <60F9CE77-FACC-464B-8568-359977937BAD@kintel.net>

> On Mar 28, 2016, at 19:25 PM, Torsten Paul <Torsten.Paul at gmx.de> wrote:
> 
> They mention that there might be a read-only API somewhere
> in the future, but I figure nobody is currently working on
> that.
> 
In the mean-time, we could always offer a read-only (caching?) proxy, and use the token-based API server-to-server.
That would of course require us to tie in OpenSCAD to an official (or configurable) server.
If we were to host an official collection of libraries we?d need that anyway.

 -Marius



From nageswararao.dasari at outlook.com  Tue Mar 29 01:36:33 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Mon, 28 Mar 2016 22:36:33 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459166106987-16758.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
Message-ID: <1459229793478-16788.post@n5.nabble.com>

Is there anyway to get position of text that wrapped around the cylinder. 3d
coordinates of text?



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16788.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Tue Mar 29 02:03:03 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Mon, 28 Mar 2016 23:03:03 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459229793478-16788.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459229793478-16788.post@n5.nabble.com>
Message-ID: <1459231383108-16789.post@n5.nabble.com>

I don't see any way to wrap a text or a 2D form around an object. It seems
that it would require some kind of morphing or non-linear deformation we
don't have in OpenSCAD. The best I can imagine is to stamp a form with fixed
depth like in:

engrave.PNG <http://forum.openscad.org/file/n16789/engrave.PNG>  

The dxf I used was taken from  http://www.thingiverse.com/thing:35439/#files
<http://www.thingiverse.com/thing:35439/#files>  

engrave(depth=1) {
    rotate([0,0,90])
    engrave(depth=1.5) {
        rotate([0,0,-90])
        engrave(depth=1)
         {
            cylinder(r=10.01, 71, center = true);

            translate([5,0,20])
                rotate([0,90,0])
                    linear_extrude(height=10, convexity=9)
                        stamp1();
         }
        translate([6,0,30])
            rotate([0,90,0])
                linear_extrude(height=6, convexity=9)
                    text( "????", font="SimHei");
     }
     translate([0,0,-20])
        rotate([0,90,0])
            linear_extrude(height=12, convexity=9)
                stamp2();
}

module stamp2(){
    scale(10/40)
    import(file="recursive_snowflake_hexagons.dxf", convexity=20);
}

module stamp1(n=4){
    if( n==1 )
        polygon([ [7,0], [0,5], [0,-5] ] );
    else {
        translate([ 3.4,   0]) scale(1/2) stamp(n-1);
        translate([   0, 2.4]) scale(1/2) stamp(n-1);
        translate([   0,-2.4]) scale(1/2) stamp(n-1);
    }
}

module engrave(depth)
 {
     difference()
     {
        children([0]);
        translate([-depth,0,0])
        difference()
        {
            translate([depth,0,0]) children([1]);
            children([0]);
        }
     }
 }




--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16789.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Tue Mar 29 03:33:06 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Tue, 29 Mar 2016 00:33:06 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459210288006-16779.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
Message-ID: <1459236786305-16790.post@n5.nabble.com>

Below text is created by connected points(lines,curves) on the view.
<http://forum.openscad.org/file/n16790/openscad.png> 



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16790.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From Torsten.Paul at gmx.de  Tue Mar 29 07:40:40 2016
From: Torsten.Paul at gmx.de (Torsten Paul)
Date: Tue, 29 Mar 2016 13:40:40 +0200
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <60F9CE77-FACC-464B-8568-359977937BAD@kintel.net>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
	<56F95412.6040901@gmx.de>
	<CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>
	<56F9BD81.9080205@gmx.de>,
	<60F9CE77-FACC-464B-8568-359977937BAD@kintel.net>
Message-ID: <trinity-f159e64b-2a0a-42e8-9732-d73773341b4c-1459251640072@3capp-gmx-bs07>

Von:?"Marius Kintel" <marius at kintel.net>
> > They mention that there might be a read-only API somewhere
> > in the future, but I figure nobody is currently working on
> > that.
> >
> In the mean-time, we could always offer a read-only (caching?)
> proxy, and use the token-based API server-to-server.
> That would of course require us to tie in OpenSCAD to an official
> (or configurable) server. If we were to host an official collection
> of libraries we?d need that anyway.
>
Right, if they agree to that, it could work. The user token
should be no issue as we would only see the encrypted data.

It still would have the issue of being an open relay that
might be used by other means than just the OpenSCAD application
but if we only allow access to a limited part of the API and
have some rate limiting, that might be acceptable.

ciao,
  Torsten.


From marius at kintel.net  Tue Mar 29 09:20:05 2016
From: marius at kintel.net (Marius Kintel)
Date: Tue, 29 Mar 2016 09:20:05 -0400
Subject: [OpenSCAD] Idea: include/use a remote .scad
In-Reply-To: <trinity-f159e64b-2a0a-42e8-9732-d73773341b4c-1459251640072@3capp-gmx-bs07>
References: <1459172664468-16760.post@n5.nabble.com>
	<CAGV6i+M5xAaXY+fXPuP1V53ror7RczroSvrXmyabd5ZM=n3meA@mail.gmail.com>
	<56F95412.6040901@gmx.de>
	<CAGV6i+Nb_QCT=SHFyPgq8qpKPK2a_1LSVsXnvzEcnurRN+DO6Q@mail.gmail.com>
	<56F9BD81.9080205@gmx.de>
	<60F9CE77-FACC-464B-8568-359977937BAD@kintel.net>
	<trinity-f159e64b-2a0a-42e8-9732-d73773341b4c-1459251640072@3capp-gmx-bs07>
Message-ID: <5ACF376C-FED6-47EB-9DC4-11B14E707ECF@kintel.net>

> On Mar 29, 2016, at 07:40 AM, Torsten Paul <Torsten.Paul at gmx.de> wrote:
> Right, if they agree to that, it could work. The user token
> should be no issue as we would only see the encrypted data.
> 

If we use their API and only proxy data with a suitable license, that should be ok I think. Details needs to be discussed..

> It still would have the issue of being an open relay that
> might be used by other means than just the OpenSCAD application

I have a feeling it won?t be that popular ;) Yes, we should cache and/or ratelimit the API.

 -Marius



From rudolf at parkinbot.com  Tue Mar 29 09:49:41 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 29 Mar 2016 06:49:41 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459214600222-16785.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
	<1459214600222-16785.post@n5.nabble.com>
Message-ID: <1459259381922-16793.post@n5.nabble.com>

Your question is very general. What answer do expect? You can use the given
code pattern to linear_extrude() an imported dxf by replacing the 'extrude
text' command with 

> linear_extrude(height = h) import (file = "my.dxf"); 

Is it that what you are asking for? You can compose a 2D shape (also from a
polygon), extrude and project it. It's all the same pattern.
Why don't you post a code frame for your solid and some data (not only
images) you want to be projected. 

Again: a *projection* to a surface is possible (and straight forward as I
have shown), but no winding of a 2D shape around some 3D surface. 



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16793.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From amarjeet.kapoor1 at gmail.com  Tue Mar 29 11:11:58 2016
From: amarjeet.kapoor1 at gmail.com (Amarjeet Kapoor)
Date: Tue, 29 Mar 2016 20:41:58 +0530
Subject: [OpenSCAD] OpenSCAD / Google Summer of Code Update
In-Reply-To: <56F9669E.6080808@gmx.de>
References: <56F95B8F.5020500@gmx.de>
	<CABskhPOG4Zobc6=h1n-rXXDhMQf3ygVGkzN_aHSe=DfaB8Apjw@mail.gmail.com>
	<56F9669E.6080808@gmx.de>
Message-ID: <CABskhPNoW1tMUfZxWOUAMPEdkEvOdmb2CZLVrB5zh1pv0DCDdQ@mail.gmail.com>

Being unable to decide to make patch on any exiting issue I have
decide to submit a patch on new feature of git integration i.e. code
changed in .scad file will be directly committed through openscad.



-- 
Amarjeet Singh
https://amarjeetkapoor1.wordpress.com
https://github.com/amarjeetkapoor1
https://bitbucket.org/amarjeetkapoor

"knowledge about knowledge is power"


From jpmendes54 at gmail.com  Tue Mar 29 11:50:55 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Tue, 29 Mar 2016 08:50:55 -0700 (MST)
Subject: [OpenSCAD] Newbie problem with translate()
In-Reply-To: <1459259818999-16794.post@n5.nabble.com>
References: <1459259818999-16794.post@n5.nabble.com>
Message-ID: <1459266655207-16796.post@n5.nabble.com>

It should be a printer misalignment problem.
try this:

lensholesize=30; 
screwholesize=3; 
 color ("green") translate([9,9,2.1]) cube([28,28,1]);
difference(){ 
    color("red") cube([46,46,3]); 
	 translate([9,9,0]) cube(28);
     // camera lens hole - 30mm 
	  color("blue") {
		translate([23,23,-0.5]) cylinder(4,r=lensholesize/2); 
     // screw holes -3mm, 28mm on centre 
		translate([9,37,-0.5]) cylinder(4, r=screwholesize/2); 
		translate([9,9,-0.5]) cylinder(4, r=screwholesize/2); 
		translate([37,9,-0.5]) cylinder(4, r=screwholesize/2); 
		translate([37,37,-0.5])  cylinder(4, r=screwholesize/2); 
	 }
} 	 

jpmendes



--
View this message in context: http://forum.openscad.org/Newbie-problem-with-translate-tp16794p16796.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From danghel37 at yahoo.co.uk  Tue Mar 29 16:26:55 2016
From: danghel37 at yahoo.co.uk (Daniel Anghel)
Date: Tue, 29 Mar 2016 20:26:55 +0000 (UTC)
Subject: [OpenSCAD] render
References: <1949013427.3401203.1459283215721.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <1949013427.3401203.1459283215721.JavaMail.yahoo@mail.yahoo.com>

Hello,I use openScad from November.
I upgrade my Wyndos to Wyndos 10. After that is vary hard to render all my files, if have more them 10-15 lines.
Open Scad is compatible with Wyndos 10?Thank you,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160329/a1853120/attachment.html>

From jon at jonbondy.com  Tue Mar 29 16:35:23 2016
From: jon at jonbondy.com (jon)
Date: Tue, 29 Mar 2016 16:35:23 -0400
Subject: [OpenSCAD] render
In-Reply-To: <1949013427.3401203.1459283215721.JavaMail.yahoo@mail.yahoo.com>
References: <1949013427.3401203.1459283215721.JavaMail.yahoo.ref@mail.yahoo.com>
	<1949013427.3401203.1459283215721.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <56FAE70B.8050604@jonbondy.com>

I have been using OpenSCAD under Windows 10 for a while with no 
problems.  I wonder if you have a driver problem, a problem with how 3D 
objects are displayed on the screen. Others here know more about the 
details than do I

Jon

On 3/29/2016 4:26 PM, Daniel Anghel wrote:
> Hello,
> I use openScad from November.
>
> I upgrade my Wyndos to Wyndos 10. After that is vary hard to render 
> all my files, if have more them 10-15 lines.
>
> Open Scad is compatible with Wyndos 10?
> Thank you,
>
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
> No virus found in this message.
> Checked by AVG - www.avg.com <http://www.avg.com>
> Version: 2016.0.7497 / Virus Database: 4545/11914 - Release Date: 03/29/16
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160329/53edbe2d/attachment.html>

From runsun at gmail.com  Tue Mar 29 18:15:17 2016
From: runsun at gmail.com (runsun)
Date: Tue, 29 Mar 2016 15:15:17 -0700 (MST)
Subject: [OpenSCAD] Problem passing in strings to openscad from dos
	prompt
In-Reply-To: <1459288062400-16799.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>
Message-ID: <1459289717476-16800.post@n5.nabble.com>

mmaggio wrote
>>>openscad -o Out.stl -D 'p="string"'  test.scad

have u tried:


mmaggio wrote
>>>openscad -o Out.stl -D 'p="string";'  test.scad





-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont 






--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16800.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Tue Mar 29 18:20:50 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Tue, 29 Mar 2016 15:20:50 -0700 (MST)
Subject: [OpenSCAD] render
In-Reply-To: <1949013427.3401203.1459283215721.JavaMail.yahoo@mail.yahoo.com>
References: <1949013427.3401203.1459283215721.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <1459290050536-16801.post@n5.nabble.com>

You could try Edit/Preferences/Advanced_tab/Force_goldfeather



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/render-tp16797p16801.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mattmaggio19 at gmail.com  Tue Mar 29 18:29:23 2016
From: mattmaggio19 at gmail.com (mmaggio)
Date: Tue, 29 Mar 2016 15:29:23 -0700 (MST)
Subject: [OpenSCAD] Problem passing in strings to openscad from dos
	prompt
In-Reply-To: <1459289717476-16800.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>
	<1459289717476-16800.post@n5.nabble.com>
Message-ID: <1459290563613-16802.post@n5.nabble.com>

Just tried it

>>openscad -o Out.stl -D 'p="string";' test.scad

result =

ERROR: Parser error in line 10: syntax error

Can't parse file 'test.scad'!
--

It parses fine without the -D command




--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16802.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Tue Mar 29 18:33:01 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Tue, 29 Mar 2016 15:33:01 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459167776839-16759.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
Message-ID: <1459290781849-16803.post@n5.nabble.com>

Parkinbot wrote
> good question ;-) 
> 
> so you'd need a convexity test first. 
> 1. If convexity is given, you can triangulate by either 
>   a) using one corner as common point (this is trivial) 
>   b) pull up a new triangle at one at the CW or CCW endpoint, until you're
> done. This gives you two choices for each new triangle. If both choices
> are valid, you get a possible recursion retrace point for sceanrios where
> both choices fail. 
> 
> 2. For a non-convex polygon, you can decompose the shape into a set convex
> shapes and use 1a. So your question could be, how to decompose a
> non-convex polygon into a set of convex polygons. 
> 
> 3. I think alternatively you could also try 1b and find some additional
> test for doing the right choice.

I delayed my answer to your suggestions because I needed to take a look on
the convex decomposition methods. From my search, I found that:
  a. the convex decomposition of simple polygons is a task so hard as to
triangulate it; some methods triangulate the polygon to find its convex
decomposition;
  b. it is not difficult to find simple polygons whose convex decomposition
is itself a triangulation; the case I have in hands and that stimulated me
to implement a simple polygon triangulation falls exactly in that category;
its boundary is composed by two Bezier curves and two line segments;
  c. convex decomposition methods require, in general, some kind of data
structure to reduce their complexity and those data structure are likewise
hard to implement in OpenSCAD language.

The ear-cut methods seem to be easier to implement in OpenSCAD. The simplest
ones are sub-optimal in complexity but require just lists as data structure.
I implemented a very simple version of one of those methods and it seems
that, for less than a thousand vertices, the time to triangulate a polygon
is of order n^2.  This seems fair to me by now.

A question which is not well addressed yet is how to deal with almost planar
polygonals. The ear-cut method requires that the planar polygon vertices are
ordered in a CCW circulation. In 3D space, there is no well defined
orientation for circulating a polygon. In a planar polygon in 3D, the normal
to the polygon plane may be used to induce an orientation to the vertex
circulation. If the polygon normal is well chosen, it induces the correct
CCW orientation. If the orientation is not CCW, it is sufficient to invert
the normal. A simple check of the orientation correctness is a first issue.

Almost planar polygonals pose more issues since no normal really exists. My
approach is to find a vector that reduces to the polygonal plane normal when
the polygonal vertices are in a plane. I call it a false normal. A least
square adjustment is an alternative but too expensive. The crude method I
tried it is not fool proof. It takes the barycenters of two disjoint subsets
of the vertices and do a cross product of the vectors from the starting
vertex and the barycenters. Unhappily, this cross product may be near zero
inducing errors later on.






--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16803.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Tue Mar 29 18:34:51 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Tue, 29 Mar 2016 15:34:51 -0700 (MST)
Subject: [OpenSCAD] Problem passing in strings to openscad from dos
	prompt
In-Reply-To: <1459288062400-16799.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>
Message-ID: <1459290891077-16804.post@n5.nabble.com>

Rule 1. Backslash is the escape character; always escape quotes; only escape
backslashes if they precede a quote.


-D "val2=\"text\""

You only need to include a semi-colon if you have multiple statements in the
one -D argument.

-D "val2=\"text\"; val1=[10,20]"



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16804.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Tue Mar 29 20:21:30 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Tue, 29 Mar 2016 17:21:30 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459259381922-16793.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
	<1459214600222-16785.post@n5.nabble.com>
	<1459259381922-16793.post@n5.nabble.com>
Message-ID: <1459297290586-16805.post@n5.nabble.com>

Hi its working perfect.

May I know how to get new vertices of polygon which is projected on
surface.3d coordinate?

What do you mean by "no winding of a 2D shape around some 3D surface" can
you please explain.

<http://forum.openscad.org/file/n16805/dxfOnSurface.png> 



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16805.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From kennethrsloan at gmail.com  Tue Mar 29 20:58:17 2016
From: kennethrsloan at gmail.com (Kenneth Sloan)
Date: Tue, 29 Mar 2016 19:58:17 -0500
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459290781849-16803.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
Message-ID: <54202308-E3D9-43C9-9C5F-55F124D28F3A@gmail.com>

If all you need is a triangulation, there are two very simple algorithms.  There are others that are much harder to implement, and have minimal benefit (other than nice asymptotic properties as nVertices becomes very large.

a) subdivision : at each step, find a ?chord? (a connection between two vertices that lies entirely INSIDE the polygon) and use it to divide the polygon into two pieces.  Recursively triangulate the two pieces.

b) ear-trimming: a special case of a) where only chords cutting off a single triangle on one side are considered.  You look for v0,v1,v2 - consecutive vertices, where v0->v1->v2 is convex and v0->v2 is entirely INSIDE the polygon.  The naive algorithm is O(n^4), but with care you can reduce this to O(n^2) - this is an exercise in Joe O?Rourke?s book _Computational Geometry in C_

For ?slightly non-planar? triangles (and, in general, for triangles in/near a plane other than the x-y plane, fit a plane to the vertices (I like eigenvectors for this task) and map all the vertices to that plane (there are various ways to do this).  Triangulate in that plane, and apply that triangulation to the original points.  Define ?slightly non-planar? to be any problem for which this works!

I always advise people to implement b) first - and then (after putting it into production) investigate ?better? algorithms.  Don?t bother to push out a ?better? method until customers complain that b) is ?too slow?.

Now?Delaunay Triangles.  These are nice if you want to avoid skinny triangles - but for ?slightly non-planar? polygons, there?s not that much benefit.  I recommend leaving that for later.  One simple algorithm (but notoriously plagued by numerical issues) starts with an arbitrary triangulation and then swaps edges to improve the triangulation).  Most simple examples you will find laying about do not deal with arbitrary polygons, but instead triangulate the convex hull of the vertices.  I think OpenSCAD would be satisfied with a ?Delaunay-like? improvement of the triangulation, without insisting on the absolute ?best? triangulation.

As for holes, that will depend on how you represent the polygons with holes.  I suspect I might de-compose a polygon with holes into several polygons without holes (noting the cut edges), triangulate the several polygons, and then stitch them back together at the cut edges).  Looks easy enough, but I haven?t ever actually implemented it.  It may be that simple ear-clipping can be made to understand holes - I just don?t know, and (again) that might depend on the representation.

--
Kenneth Sloan
KennethRSloan at gmail.com
Vision is the art of seeing what is invisible to others.




> On Mar 29, 2016, at 17:33 , Ronaldo <rcmpersiano at gmail.com> wrote:
> 
> Parkinbot wrote
>> good question ;-) 
>> 
>> so you'd need a convexity test first. 
>> 1. If convexity is given, you can triangulate by either 
>>  a) using one corner as common point (this is trivial) 
>>  b) pull up a new triangle at one at the CW or CCW endpoint, until you're
>> done. This gives you two choices for each new triangle. If both choices
>> are valid, you get a possible recursion retrace point for sceanrios where
>> both choices fail. 
>> 
>> 2. For a non-convex polygon, you can decompose the shape into a set convex
>> shapes and use 1a. So your question could be, how to decompose a
>> non-convex polygon into a set of convex polygons. 
>> 
>> 3. I think alternatively you could also try 1b and find some additional
>> test for doing the right choice.
> 
> I delayed my answer to your suggestions because I needed to take a look on
> the convex decomposition methods. From my search, I found that:
>  a. the convex decomposition of simple polygons is a task so hard as to
> triangulate it; some methods triangulate the polygon to find its convex
> decomposition;
>  b. it is not difficult to find simple polygons whose convex decomposition
> is itself a triangulation; the case I have in hands and that stimulated me
> to implement a simple polygon triangulation falls exactly in that category;
> its boundary is composed by two Bezier curves and two line segments;
>  c. convex decomposition methods require, in general, some kind of data
> structure to reduce their complexity and those data structure are likewise
> hard to implement in OpenSCAD language.
> 
> The ear-cut methods seem to be easier to implement in OpenSCAD. The simplest
> ones are sub-optimal in complexity but require just lists as data structure.
> I implemented a very simple version of one of those methods and it seems
> that, for less than a thousand vertices, the time to triangulate a polygon
> is of order n^2.  This seems fair to me by now.
> 
> A question which is not well addressed yet is how to deal with almost planar
> polygonals. The ear-cut method requires that the planar polygon vertices are
> ordered in a CCW circulation. In 3D space, there is no well defined
> orientation for circulating a polygon. In a planar polygon in 3D, the normal
> to the polygon plane may be used to induce an orientation to the vertex
> circulation. If the polygon normal is well chosen, it induces the correct
> CCW orientation. If the orientation is not CCW, it is sufficient to invert
> the normal. A simple check of the orientation correctness is a first issue.
> 
> Almost planar polygonals pose more issues since no normal really exists. My
> approach is to find a vector that reduces to the polygonal plane normal when
> the polygonal vertices are in a plane. I call it a false normal. A least
> square adjustment is an alternative but too expensive. The crude method I
> tried it is not fool proof. It takes the barycenters of two disjoint subsets
> of the vertices and do a cross product of the vectors from the starting
> vertex and the barycenters. Unhappily, this cross product may be near zero
> inducing errors later on.
> 
> 
> 
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16803.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



From oz.at.michael at gmail.com  Tue Mar 29 22:06:24 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Tue, 29 Mar 2016 19:06:24 -0700 (MST)
Subject: [OpenSCAD] Splines for drawing fan blades?
In-Reply-To: <1459214461905-16784.post@n5.nabble.com>
References: <1459214461905-16784.post@n5.nabble.com>
Message-ID: <1459303584728-16807.post@n5.nabble.com>

Bump, as it didn't make it to the mailing list.

braddo wrote
> Hey all, I'm trying to draw a sort of fan and am currently doing it in a
> brute force way which isn't working as I would like. Well it works but
> rendering is taking too long. I'm quite sure there's a way that's not only
> more efficient for rendering but also would allow for more design
> flexibility.
> 
> Below is the code I'm currently using, basically creating a symmetrical
> foil by changing the scaling factor of cylinders as rotated through an
> arc.
> 
> I'm thinking a surface spline could do this better, but don't really know
> how to use that approach. Have searched and found libraries like
> nSplines() which seem crazy powerful, but I can't figure out how one would
> choose the points for the matrix (or what the columns of the matrix are
> intended to represent).
> 
> Meanwhile, it would be cool to be able to control the edge of these little
> fan blades as well, making sort of a yin/yang shape.
> 
> Anybody have a suggestion or a link to a tutorial that could get me
> started?
> 
> Thanks!
> 
> CoreR = 12;
> Triple = 59;
> BladeLen = 20;
> 
> module Blades(){
> for(i=[0,120,240]){
> 		rotate([0,i,0])
> 		for(j=[-1:.01:1]){
> 			rotate([0,Triple*j,0])
> 				translate([0,0,20]) rotate([0,j*1.4,0])  // want the edges to be
> parallel
> 				scale([4*cos(j*90)+.5,4*cos(j*90)+.5,1])
> 				cylinder(center=true, r=0.75,h=BladeLen);
> 		}
> 	}
> }
> 
> Blades();





-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Splines-for-drawing-fan-blades-tp16784p16807.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Tue Mar 29 22:20:50 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Tue, 29 Mar 2016 19:20:50 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459290781849-16803.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
Message-ID: <1459304450276-16808.post@n5.nabble.com>

Personally I find it impossible to implement some complex algorithm with
OpenSCAD first hand. I would always use a language with a rich library
background and a comfortable IDE with debugging facilities like Matlab and
port the solution to OpenSCAD after having it refactored into a more
functional formulation that still passes all tests.
When implementing my NACA airfoil library in order to freely sweep around
morphing airfoils in 3D I encountered the same triangulation problem and
started to think about how to triangulate non-convex shapes. In the end I
decided to exploit some known symmetry of my airfoil generator and use a
straight forward scheme doing the job without any test. This solution is of
course far from being general. 

I think triangulation of a general well-formed (=non self-intersecting, non
singular) N-polygon can be one by a recursive scheme, which I tried to
explain as 1b. Here some more words about it:
We head for a triangulation without adding extra points. I don't have a
proof for it, but I'd guess it will always exist for well-formed N-polygon,
N>3.
Recursion starts with three points in sequence that may be connected into a
valid triangle inside the shape. You can ensure this with a simple test by
use of normals. I guess it will save some work to prescribe an orientation
for the point sequence, but orientation can also be detected by an extra
cycle. 
To see, whether a triple is also valid with respect to all other points in
the N-sequence, we have to implement an in_triangle() predicate telling us
whether a given point is inside the triangle and test all remaining points.
So it might need cycling around a bit, until a first valid triple is found.
Cycling also indices ensures the first triangle can be named [1,2,3]. 
Now we have two possibilities to construct the next triangle [1,3,4] and
[N,1,2]. We test the first one against the remaining N-4 points and if it is
valid, we reenter the recursion scheme. If it is not valid or the recursion
fails, we test the second one. If it is valid we reenter the recursion
scheme. If not, or the recursion fails, we continue cycling until we find
the next valid triangle is found to start the recursion again. (Once the
cycle is done, a counter example is found bringing my guess down, or the
polygon was not well-formed.)

In 2D the predicate can be implemented exploiting the normals of the
triangle sides. If a point is on the same side with respect to each triangle
side, it is inside the triangle. 

Concerning ?almost? planar polygons living in 3D: If they behave 'well
enough' to be projected to a common plane, one could use any (or with some
more work a good or even best selection of) three points forming a triangle
as reference plane and project all other points to it. A simple coordinate
system transformation reduces the problem to 2D ... 




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16808.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From tylermeroth at gmail.com  Tue Mar 29 23:13:33 2016
From: tylermeroth at gmail.com (BadCaseOfHerpes)
Date: Tue, 29 Mar 2016 20:13:33 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
Message-ID: <1459307613951-16809.post@n5.nabble.com>

While trying to render an object with f6 It does not appear however it does
with f5. When I try to export the object as an stl i get the message Current
Top Level Object Is Empty.

I cant provide the code as it is made up of a few different imported modules
but i can show the code for the components it is made out of (its a brick
wall with 160 bricks made of slightly offset cylinders and spheres with the
hull command)

Sorry in advance if this is a simple fix I am very new to this but could not
find any similar issues on here or via google search.
so with 1 of these I am fine, with 4 aligned I am fine. When I try to use it
to build a wall that is 160 of these guys it freaks out. Is there a
possibility that using 32 import("brick1.stl") can cause an error like this?

module b1()
{
module element()
{
translate([0,0,90])sphere(r=5);
sphere(r=5);
cylinder(90,5,5);
}
module element2()
{
translate([0,0,190])sphere(r=5);
sphere(r=5);
cylinder(190,5,5);
}
hull()
{
sphere(r=5);
translate([190,0,0])sphere(r=5);
translate([190,90,0])sphere(r=5);
translate([0,90,0])sphere(r=5);
translate([190,90,90])sphere(r=5);
translate([190,0,90])sphere(r=5);
translate([0,0,90])sphere(r=5);
translate([0,90,90])sphere(r=5);
translate([20,93,15])rotate([90,0,0])element();
translate([20,90,30])rotate([90,0,0])element();
translate([20,86,45])rotate([90,0,0])element();
translate([20,90,60])rotate([90,0,0])element();
translate([20,89,75])rotate([90,0,0])element();
translate([40,90,15])rotate([90,0,0])element();
translate([40,88,30])rotate([90,0,0])element();
translate([40,90,45])rotate([90,0,0])element();
translate([40,95,60])rotate([90,0,0])element();
translate([40,90,75])rotate([90,0,0])element();
translate([60,95,15])rotate([90,0,0])element();
translate([60,90,30])rotate([90,0,0])element();
translate([60,90,45])rotate([90,0,0])element();
translate([60,90,60])rotate([90,0,0])element();
translate([60,92,75])rotate([90,0,0])element();
translate([80,90,15])rotate([90,0,0])element();
translate([80,95,30])rotate([90,0,0])element();
translate([80,90,45])rotate([90,0,0])element();
translate([80,90,60])rotate([90,0,0])element();
translate([80,90,75])rotate([90,0,0])element();
translate([100,90,15])rotate([90,0,0])element();
translate([100,90,30])rotate([90,0,0])element();
translate([100,92,45])rotate([90,0,0])element();
translate([100,90,60])rotate([90,0,0])element();
translate([100,92,75])rotate([90,0,0])element();
translate([120,90,15])rotate([90,0,0])element();
translate([120,87,30])rotate([90,0,0])element();
translate([120,90,45])rotate([90,0,0])element();
translate([120,92,60])rotate([90,0,0])element();
translate([120,90,75])rotate([90,0,0])element();
translate([140,90,15])rotate([90,0,0])element();
translate([140,90,30])rotate([90,0,0])element();
translate([140,86,45])rotate([90,0,0])element();
translate([140,90,60])rotate([90,0,0])element();
translate([140,85,75])rotate([90,0,0])element();
translate([160,90,15])rotate([90,0,0])element();
translate([160,88,30])rotate([90,0,0])element();
translate([160,90,45])rotate([90,0,0])element();
translate([160,90,60])rotate([90,0,0])element();
translate([160,90,75])rotate([90,0,0])element();
translate([180,85,15])rotate([90,0,0])element();
translate([180,90,30])rotate([90,0,0])element();
translate([180,87,45])rotate([90,0,0])element();
translate([180,90,60])rotate([90,0,0])element();
translate([180,90,75])rotate([90,0,0])element();
translate([10,15,0])element();
translate([10,30,-2])element();
translate([10,45,0])element();
translate([10,60,3])element();
translate([10,75,0])element();
translate([30,15,-1])element();
translate([30,30,0])element();
translate([30,45,2])element();
translate([30,60,0])element();
translate([30,75,2])element();
translate([50,15,0])element();
translate([50,30,-2])element();
translate([50,45,0])element();
translate([50,60,-2])element();
translate([50,75,0])element();
translate([70,15,-1])element();
translate([70,30,0])element();
translate([70,45,3])element();
translate([70,60,0])element();
translate([70,75,-2])element();
translate([90,15,0])element();
translate([90,30,0])element();
translate([90,45,0])element();
translate([90,60,2])element();
translate([90,75,0])element();
translate([110,15,-4])element();
translate([110,30,0])element();
translate([110,45,-1])element();
translate([110,60,0])element();
translate([110,75,-5])element();
translate([130,15,0])element();
translate([130,30,-3])element();
translate([130,45,0])element();
translate([130,60,3])element();
translate([130,75,0])element();
translate([150,15,0])element();
translate([150,30,0])element();
translate([150,45,-3])element();
translate([150,60,0])element();
translate([150,75,0])element();
translate([170,15,0])element();
translate([170,30,2])element();
translate([170,45,0])element();
translate([170,60,3])element();
translate([170,75,0])element();
translate([4,15,15])rotate([0,90,0])element2();
translate([0,30,15])rotate([0,90,0])element2();
translate([-5,45,15])rotate([0,90,0])element2();
translate([0,60,15])rotate([0,90,0])element2();
translate([1,75,15])rotate([0,90,0])element2();
translate([0,15,30])rotate([0,90,0])element2();
translate([-1,30,30])rotate([0,90,0])element2();
translate([0,45,30])rotate([0,90,0])element2();
translate([4,60,30])rotate([0,90,0])element2();
translate([0,75,30])rotate([0,90,0])element2();
translate([4,15,45])rotate([0,90,0])element2();
translate([0,30,45])rotate([0,90,0])element2();
translate([0,45,45])rotate([0,90,0])element2();
translate([0,60,45])rotate([0,90,0])element2();
translate([1,75,45])rotate([0,90,0])element2();
translate([0,15,60])rotate([0,90,0])element2();
translate([4,30,60])rotate([0,90,0])element2();
translate([0,45,60])rotate([0,90,0])element2();
translate([4,60,60])rotate([0,90,0])element2();
translate([0,75,60])rotate([0,90,0])element2();
translate([0,15,75])rotate([0,90,0])element2();
translate([0,30,75])rotate([0,90,0])element2();
translate([-1,45,75])rotate([0,90,0])element2();
translate([0,60,75])rotate([0,90,0])element2();
translate([-4,75,75])rotate([0,90,0])element2();
}
}
translate([5,5,5])b1();



--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From oz.at.michael at gmail.com  Tue Mar 29 23:46:43 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Tue, 29 Mar 2016 20:46:43 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459307613951-16809.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
Message-ID: <1459309603725-16810.post@n5.nabble.com>

Should handle 32 or 160.

Are you sure the F6 finished, "Rendering finished" in console? F6 can take
some time sometimes.

Also try exiting OpenSCAD rerunning and re F5/F6 sometime errors don't show
up a second time if the object is cached.



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16810.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From louijp at yahoo.com  Tue Mar 29 23:56:18 2016
From: louijp at yahoo.com (Jean-Paul Louis)
Date: Tue, 29 Mar 2016 23:56:18 -0400
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459307613951-16809.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
Message-ID: <99F59F23-ADEA-461E-9E41-418E361B3CE8@yahoo.com>

Why do you even use cylinders?

For me the solid result looks the same with or without the cylinders.

the hull is built only using the spheres if I am not mistaken.

Just my $0.02,
Jean-Paul
N1JPL


> On Mar 29, 2016, at 11:13 PM, BadCaseOfHerpes <tylermeroth at gmail.com> wrote:
> 
> While trying to render an object with f6 It does not appear however it does
> with f5. When I try to export the object as an stl i get the message Current
> Top Level Object Is Empty.
> 
> I cant provide the code as it is made up of a few different imported modules
> but i can show the code for the components it is made out of (its a brick
> wall with 160 bricks made of slightly offset cylinders and spheres with the
> hull command)
> 
> Sorry in advance if this is a simple fix I am very new to this but could not
> find any similar issues on here or via google search.
> so with 1 of these I am fine, with 4 aligned I am fine. When I try to use it
> to build a wall that is 160 of these guys it freaks out. Is there a
> possibility that using 32 import("brick1.stl") can cause an error like this?
> 
> module b1()
> {
> module element()
> {
> translate([0,0,90])sphere(r=5);
> sphere(r=5);
> cylinder(90,5,5);
> }
> module element2()
> {
> translate([0,0,190])sphere(r=5);
> sphere(r=5);
> cylinder(190,5,5);
> }
> hull()
> {
> sphere(r=5);
> translate([190,0,0])sphere(r=5);
> translate([190,90,0])sphere(r=5);
> translate([0,90,0])sphere(r=5);
> translate([190,90,90])sphere(r=5);
> translate([190,0,90])sphere(r=5);
> translate([0,0,90])sphere(r=5);
> translate([0,90,90])sphere(r=5);
> translate([20,93,15])rotate([90,0,0])element();
> translate([20,90,30])rotate([90,0,0])element();
> translate([20,86,45])rotate([90,0,0])element();
> translate([20,90,60])rotate([90,0,0])element();
> translate([20,89,75])rotate([90,0,0])element();
> translate([40,90,15])rotate([90,0,0])element();
> translate([40,88,30])rotate([90,0,0])element();
> translate([40,90,45])rotate([90,0,0])element();
> translate([40,95,60])rotate([90,0,0])element();
> translate([40,90,75])rotate([90,0,0])element();
> translate([60,95,15])rotate([90,0,0])element();
> translate([60,90,30])rotate([90,0,0])element();
> translate([60,90,45])rotate([90,0,0])element();
> translate([60,90,60])rotate([90,0,0])element();
> translate([60,92,75])rotate([90,0,0])element();
> translate([80,90,15])rotate([90,0,0])element();
> translate([80,95,30])rotate([90,0,0])element();
> translate([80,90,45])rotate([90,0,0])element();
> translate([80,90,60])rotate([90,0,0])element();
> translate([80,90,75])rotate([90,0,0])element();
> translate([100,90,15])rotate([90,0,0])element();
> translate([100,90,30])rotate([90,0,0])element();
> translate([100,92,45])rotate([90,0,0])element();
> translate([100,90,60])rotate([90,0,0])element();
> translate([100,92,75])rotate([90,0,0])element();
> translate([120,90,15])rotate([90,0,0])element();
> translate([120,87,30])rotate([90,0,0])element();
> translate([120,90,45])rotate([90,0,0])element();
> translate([120,92,60])rotate([90,0,0])element();
> translate([120,90,75])rotate([90,0,0])element();
> translate([140,90,15])rotate([90,0,0])element();
> translate([140,90,30])rotate([90,0,0])element();
> translate([140,86,45])rotate([90,0,0])element();
> translate([140,90,60])rotate([90,0,0])element();
> translate([140,85,75])rotate([90,0,0])element();
> translate([160,90,15])rotate([90,0,0])element();
> translate([160,88,30])rotate([90,0,0])element();
> translate([160,90,45])rotate([90,0,0])element();
> translate([160,90,60])rotate([90,0,0])element();
> translate([160,90,75])rotate([90,0,0])element();
> translate([180,85,15])rotate([90,0,0])element();
> translate([180,90,30])rotate([90,0,0])element();
> translate([180,87,45])rotate([90,0,0])element();
> translate([180,90,60])rotate([90,0,0])element();
> translate([180,90,75])rotate([90,0,0])element();
> translate([10,15,0])element();
> translate([10,30,-2])element();
> translate([10,45,0])element();
> translate([10,60,3])element();
> translate([10,75,0])element();
> translate([30,15,-1])element();
> translate([30,30,0])element();
> translate([30,45,2])element();
> translate([30,60,0])element();
> translate([30,75,2])element();
> translate([50,15,0])element();
> translate([50,30,-2])element();
> translate([50,45,0])element();
> translate([50,60,-2])element();
> translate([50,75,0])element();
> translate([70,15,-1])element();
> translate([70,30,0])element();
> translate([70,45,3])element();
> translate([70,60,0])element();
> translate([70,75,-2])element();
> translate([90,15,0])element();
> translate([90,30,0])element();
> translate([90,45,0])element();
> translate([90,60,2])element();
> translate([90,75,0])element();
> translate([110,15,-4])element();
> translate([110,30,0])element();
> translate([110,45,-1])element();
> translate([110,60,0])element();
> translate([110,75,-5])element();
> translate([130,15,0])element();
> translate([130,30,-3])element();
> translate([130,45,0])element();
> translate([130,60,3])element();
> translate([130,75,0])element();
> translate([150,15,0])element();
> translate([150,30,0])element();
> translate([150,45,-3])element();
> translate([150,60,0])element();
> translate([150,75,0])element();
> translate([170,15,0])element();
> translate([170,30,2])element();
> translate([170,45,0])element();
> translate([170,60,3])element();
> translate([170,75,0])element();
> translate([4,15,15])rotate([0,90,0])element2();
> translate([0,30,15])rotate([0,90,0])element2();
> translate([-5,45,15])rotate([0,90,0])element2();
> translate([0,60,15])rotate([0,90,0])element2();
> translate([1,75,15])rotate([0,90,0])element2();
> translate([0,15,30])rotate([0,90,0])element2();
> translate([-1,30,30])rotate([0,90,0])element2();
> translate([0,45,30])rotate([0,90,0])element2();
> translate([4,60,30])rotate([0,90,0])element2();
> translate([0,75,30])rotate([0,90,0])element2();
> translate([4,15,45])rotate([0,90,0])element2();
> translate([0,30,45])rotate([0,90,0])element2();
> translate([0,45,45])rotate([0,90,0])element2();
> translate([0,60,45])rotate([0,90,0])element2();
> translate([1,75,45])rotate([0,90,0])element2();
> translate([0,15,60])rotate([0,90,0])element2();
> translate([4,30,60])rotate([0,90,0])element2();
> translate([0,45,60])rotate([0,90,0])element2();
> translate([4,60,60])rotate([0,90,0])element2();
> translate([0,75,60])rotate([0,90,0])element2();
> translate([0,15,75])rotate([0,90,0])element2();
> translate([0,30,75])rotate([0,90,0])element2();
> translate([-1,45,75])rotate([0,90,0])element2();
> translate([0,60,75])rotate([0,90,0])element2();
> translate([-4,75,75])rotate([0,90,0])element2();
> }
> }
> translate([5,5,5])b1();
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



From mschafer at wireframe.biz  Wed Mar 30 01:58:40 2016
From: mschafer at wireframe.biz (Neon22)
Date: Tue, 29 Mar 2016 22:58:40 -0700 (MST)
Subject: [OpenSCAD] Splines for drawing fan blades?
In-Reply-To: <1459214461905-16784.post@n5.nabble.com>
References: <1459214461905-16784.post@n5.nabble.com>
Message-ID: <1459317520982-16812.post@n5.nabble.com>

You might want to persevere with @parkinbots nspline library.
Specifically the example here: http://www.thingiverse.com/thing:1208001

I wrote some more about it here:
-
http://forum.openscad.org/Trying-to-incorporate-equation-based-shapes-td3116.html#a16625

Have a read and see if you can work out what's going on.

First thing to sort out is all the names are mangled.
- Rudolf uses linux and all uppercase letters are autoconverted to
lowercase.
- Also the zip file contains mangled long hash style filenames.

Look inside each one and make sure you rename them to match the following
files(taken from the boat propeller file):
use <Naca4.scad> 
use <Shortcuts.scad>
use <Naca_sweep.scad>
use <splines.scad>

You know its working when the boat propeller appears.
<http://forum.openscad.org/file/n16812/2prv6mc.jpg> 

One of the hased files is the boat propeller scad file.
Inside you will see these things:
- module axis - 
- module boat_prop with a function called gen_dat inside it
- A variable called A which holds the shapes
and these global variables:
N = 100;         // refinement
R_axis = 100;   // radius of axle
r_bore = 50;    // radius of axle bore 
size = .1;      // sizing factor
slices = false;  // set true to view interpolation slices
ty = 50;        // common y-distancing of blades

So what's going on and how do you control it:
1. if you set slices to true you will see the NACA airfoils spread out along
a single one of the propeller blades. There are 4 but the last one is not
visible as its scaled vey small.

2. The functoin gen_dat takes teh A variable and uses it to make teh data to
build each blade.

3. The A variable holds the shape definition
// core data to be interpolated by nSpline()
//       transform data             airfoil nacaXYZZ  
//--------------------------------------------------
A = [ // Tx    Ty   Tz   Rz   Ry  |   L    X    ZZ
        [0,    ty,   60, -25,   0,  300,  .12,  .1],
        [-50,  ty,  200, -50,   0,  600,  .2,  .08],
        [-100, ty,  500, -75,   0,  700,  .1,  .06],
        [00,   ty,  660, -82,  10,   10,  .01,  .1],
    ];
As indicated in the comment the first 5 values translate and rotate the
shape into the proper position.
The second set of three values (L,X,ZZ) define teh airfoil shape.
Rather than use the NACA number @parkinbot has put in the bvalues that are
extracted from eth NACA number directly. (see more about NACA numbers in my
post referenced at top of this post)

So
- you can change these three values and get different airfoils.
- you can use different Translate, roatte values to get different overall
blade shape
- you can alter the shl value (270 degrees) to get other numbers of
blades...

Good luck




--
View this message in context: http://forum.openscad.org/Splines-for-drawing-fan-blades-tp16784p16812.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From tim at auriga.com  Wed Mar 30 03:09:53 2016
From: tim at auriga.com (Shaporev, Timur)
Date: Wed, 30 Mar 2016 07:09:53 +0000
Subject: [OpenSCAD] Problem passing in strings to openscad from
	dos	prompt
In-Reply-To: <1459289717476-16800.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>,
	<1459289717476-16800.post@n5.nabble.com>
Message-ID: <724A02CD730E604F85F09BD6883428AB25BBC148@HQ-MS1.office.auriga.msk>

DOS/Windows knows nothing about single quotes.
Try either "p=string" or "p=""string""" if you want to include quotes.
________________________________________
From: Discuss [discuss-bounces at lists.openscad.org] on behalf of runsun [runsun at gmail.com]
Sent: 30 March 2016 01:15
To: discuss at lists.openscad.org
Subject: Re: [OpenSCAD] Problem passing in strings to openscad from dos prompt

mmaggio wrote
>>>openscad -o Out.stl -D 'p="string"'  test.scad

have u tried:


mmaggio wrote
>>>openscad -o Out.stl -D 'p="string";'  test.scad





-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont






--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16800.html
Sent from the OpenSCAD mailing list archive at Nabble.com.

_______________________________________________
OpenSCAD mailing list
Discuss at lists.openscad.org
http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


From tim at auriga.com  Wed Mar 30 03:10:41 2016
From: tim at auriga.com (Shaporev, Timur)
Date: Wed, 30 Mar 2016 07:10:41 +0000
Subject: [OpenSCAD] Problem passing in strings to openscad from
	dos	prompt
In-Reply-To: <1459290891077-16804.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>,
	<1459290891077-16804.post@n5.nabble.com>
Message-ID: <724A02CD730E604F85F09BD6883428AB25BBC155@HQ-MS1.office.auriga.msk>

Forget it.
This is UNIX rule, not DOS/Wondows.
________________________________________
From: Discuss [discuss-bounces at lists.openscad.org] on behalf of MichaelAtOz [oz.at.michael at gmail.com]
Sent: 30 March 2016 01:34
To: discuss at lists.openscad.org
Subject: Re: [OpenSCAD] Problem passing in strings to openscad from dos prompt

Rule 1. Backslash is the escape character; always escape quotes; only escape
backslashes if they precede a quote.


-D "val2=\"text\""

You only need to include a semi-colon if you have multiple statements in the
one -D argument.

-D "val2=\"text\"; val1=[10,20]"



-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16804.html
Sent from the OpenSCAD mailing list archive at Nabble.com.

_______________________________________________
OpenSCAD mailing list
Discuss at lists.openscad.org
http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


From arnholm at arnholm.org  Wed Mar 30 04:08:09 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Wed, 30 Mar 2016 10:08:09 +0200
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459290781849-16803.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
Message-ID: <99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>

On 2016-03-30 00:33, Ronaldo wrote:
> In 3D space, there is no well defined
> orientation for circulating a polygon. In a planar polygon in 3D, the 
> normal
> to the polygon plane may be used to induce an orientation to the vertex
> circulation. If the polygon normal is well chosen, it induces the 
> correct
> CCW orientation. If the orientation is not CCW, it is sufficient to 
> invert
> the normal. A simple check of the orientation correctness is a first 
> issue.

This appears like circular logic, unless you have an explicitly stated 
normal independent of the boundary vertices. Usually, the normal is 
derived from the boundary vertices. If you have only a general, flat 
(possibly concave) polygon in 3d space, you can compute its normal with 
two possible outomes, but you cannot know what is "correct" unless you 
have something else to compare with.

> Almost planar polygonals pose more issues since no normal really 
> exists.

Actually, there are several normals since the face is curved. In 
principle, one could compute some add them vectorially to arrive at some 
average.

Carsten Arnholm




From tylermeroth at gmail.com  Wed Mar 30 08:26:05 2016
From: tylermeroth at gmail.com (BadCaseOfHerpes)
Date: Wed, 30 Mar 2016 05:26:05 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459309603725-16810.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459309603725-16810.post@n5.nabble.com>
Message-ID: <1459340765228-16816.post@n5.nabble.com>

yes I am sure it has finished rendering, i have also restarted OpenSCAD and
my desktop to no avail.

Sometimes it also pops up with an error, but not always which I find strange
and I just got it to pop up again "ERROR: CGAL error in
CGALUtils::applyBinaryOperator union: CGAL ERROR: assertion violation! Expr:
itl != it->second.end() File:
/opt/mxe/usr/x86_64-w64-mingw32.static/include/CGAL/Nef_3/SNC_external_structure.h
Line: 1102"

The reason I use cylinders with spheres on the ends is to manipulate two
sides of the rectangular prism with one translate command.



--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16816.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Wed Mar 30 09:52:26 2016
From: runsun at gmail.com (runsun)
Date: Wed, 30 Mar 2016 06:52:26 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459307613951-16809.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
Message-ID: <1459345946919-16817.post@n5.nabble.com>

BadCaseOfHerpes wrote
> While trying to render an object with f6 It does not appear however it
> does with f5. 

Tried your code on my pc. It took about 20 sec for preview(F5), and
instantly for render(F6). Both show up fine. 




-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont 






--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16817.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Wed Mar 30 10:07:09 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 30 Mar 2016 07:07:09 -0700 (MST)
Subject: [OpenSCAD] Splines for drawing fan blades?
In-Reply-To: <1459317520982-16812.post@n5.nabble.com>
References: <1459214461905-16784.post@n5.nabble.com>
	<1459317520982-16812.post@n5.nabble.com>
Message-ID: <1459346829597-16818.post@n5.nabble.com>

A simpler approach letting you design your own fan would be:
http://www.thingiverse.com/thing:1016047

@Neon22: Thanks for exploring and explaining the design. I know it is a bit
sophisticated, but it lets you do so much. Meanwhile I have corrected the
upper/lowercase mismatch. Sorry for that. Please let me know if there is
some problem left.

Rudolf





--
View this message in context: http://forum.openscad.org/Splines-for-drawing-fan-blades-tp16784p16818.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mattmaggio19 at gmail.com  Wed Mar 30 10:15:02 2016
From: mattmaggio19 at gmail.com (mmaggio)
Date: Wed, 30 Mar 2016 07:15:02 -0700 (MST)
Subject: [OpenSCAD] Problem passing in strings to openscad from dos
	prompt
In-Reply-To: <1459290891077-16804.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>
	<1459290891077-16804.post@n5.nabble.com>
Message-ID: <1459347302077-16819.post@n5.nabble.com>

@MichaelAtOz you are a saint!

openscad -o Out.stl -D* "p=\"string\"" *String_test.scad

result =

ECHO: "string"
Current top level object is empty. <-- This is correct. The test was just an
echo statment.

Thanks for fixing my implementation problem, any chance you could elaborate
a bit about why the backslashes before the quotes?
-Matt



--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16819.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Wed Mar 30 10:39:42 2016
From: marius at kintel.net (Marius Kintel)
Date: Wed, 30 Mar 2016 10:39:42 -0400
Subject: [OpenSCAD] OpenSCAD / Google Summer of Code Update
In-Reply-To: <CABskhPNoW1tMUfZxWOUAMPEdkEvOdmb2CZLVrB5zh1pv0DCDdQ@mail.gmail.com>
References: <56F95B8F.5020500@gmx.de>
	<CABskhPOG4Zobc6=h1n-rXXDhMQf3ygVGkzN_aHSe=DfaB8Apjw@mail.gmail.com>
	<56F9669E.6080808@gmx.de>
	<CABskhPNoW1tMUfZxWOUAMPEdkEvOdmb2CZLVrB5zh1pv0DCDdQ@mail.gmail.com>
Message-ID: <FA01D119-4D17-4069-81D9-8F9DDE268ACB@kintel.net>

> On Mar 29, 2016, at 11:11 AM, Amarjeet Kapoor <amarjeet.kapoor1 at gmail.com> wrote:
> 
> Being unable to decide to make patch on any exiting issue I have
> decide to submit a patch on new feature of git integration i.e. code
> changed in .scad file will be directly committed through openscad.
> 
This sounds like a large feature, which is probably comparable to an entire GSoC project itself.
..and which probably requires a fair amount of discussion.
I would suggestion choosing something a lot easier, unless you have an exceptionally good reason for tackling something this large.

 -Marius



From tylermeroth at gmail.com  Wed Mar 30 11:29:10 2016
From: tylermeroth at gmail.com (BadCaseOfHerpes)
Date: Wed, 30 Mar 2016 08:29:10 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459345946919-16817.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459345946919-16817.post@n5.nabble.com>
Message-ID: <1459351750416-16821.post@n5.nabble.com>

Runsun the issue isn't that particular object it is when I have 160 of them
stacked to form a brick wall. I have a feeling it has to do with too many
stl imports not liking each other I will rewrite the wall tonight with no
imports and see if this issue persists.




--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16821.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Wed Mar 30 11:46:16 2016
From: runsun at gmail.com (runsun)
Date: Wed, 30 Mar 2016 08:46:16 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459351750416-16821.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459345946919-16817.post@n5.nabble.com>
	<1459351750416-16821.post@n5.nabble.com>
Message-ID: <1459352776490-16822.post@n5.nabble.com>

i c. I like the idea of brick wall. In fact it comes up in my mind once in a
while couple of times. 

If I do it, I would most likely just work on the wall surface (and the edge
surface), but not construct the bricks one by one. After all, once the wall
is done, all the inner surfaces are hidden. So making it one by one is like
asking OpenSCAD to work on details you don't need.




-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont 






--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16822.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From marius at kintel.net  Wed Mar 30 11:46:17 2016
From: marius at kintel.net (Marius Kintel)
Date: Wed, 30 Mar 2016 11:46:17 -0400
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459307613951-16809.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
Message-ID: <0E3B6D60-39D8-419F-9FCC-56AA5923703E@kintel.net>

> On Mar 29, 2016, at 23:13 PM, BadCaseOfHerpes <tylermeroth at gmail.com> wrote:
> When I try to use it
> to build a wall that is 160 of these guys it freaks out. Is there a
> possibility that using 32 import("brick1.stl") can cause an error like this?
> 
Importing STLs is a bit fragile and can sometimes result in such issues.
Since your bricks are made in OpenSCAD, try without exporting to STL and re-importing. That should improve things.

 -Marius

From rudolf at parkinbot.com  Wed Mar 30 13:10:13 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 30 Mar 2016 10:10:13 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459340765228-16816.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459309603725-16810.post@n5.nabble.com>
	<1459340765228-16816.post@n5.nabble.com>
Message-ID: <1459357813014-16824.post@n5.nabble.com>

Which version are you running?

<http://forum.openscad.org/file/n16824/Unbenannt.png> 


> h = 100; 
> cols = 20; 
> rows = 20; 
> for (x=[0:rows-1], y=[0:cols-1])
> {
>     dx = y%2?0:b/2;
>     translate([5+dx+x*b,5, 5+y*h])
>     b1(); 
> }





--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16824.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Wed Mar 30 13:31:45 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 30 Mar 2016 10:31:45 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459297290586-16805.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
	<1459214600222-16785.post@n5.nabble.com>
	<1459259381922-16793.post@n5.nabble.com>
	<1459297290586-16805.post@n5.nabble.com>
Message-ID: <1459359105797-16825.post@n5.nabble.com>

Nageswara rao wrote
> May I know how to get new vertices of polygon which is projected on
> surface.3d coordinate?

all you can do is to use this line. 

> mode = "text";  // uncomment to view/export text only 


Nageswara rao wrote
> What do you mean by "no winding of a 2D shape around some 3D surface" can
> you please explain.

<http://forum.openscad.org/file/n16825/jaghcbgg.png> 







--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16825.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Wed Mar 30 13:46:40 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 30 Mar 2016 10:46:40 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <54202308-E3D9-43C9-9C5F-55F124D28F3A@gmail.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<54202308-E3D9-43C9-9C5F-55F124D28F3A@gmail.com>
Message-ID: <1459360000746-16826.post@n5.nabble.com>

Thank you, Sloan, for your comments and suggestions. They gave me more
confidence on may track.


Kenneth Sloan wrote
> If all you need is a triangulation, there are two very simple algorithms. 
> There are others that are much harder to implement, and have minimal
> benefit (other than nice asymptotic properties as nVertices becomes very
> large.
> 
> a) subdivision : at each step, find a ?chord? (a connection between two
> vertices that lies entirely INSIDE the polygon) and use it to divide the
> polygon into two pieces.  Recursively triangulate the two pieces.
> 
> b) ear-trimming: a special case of a) where only chords cutting off a
> single triangle on one side are considered.  You look for v0,v1,v2 -
> consecutive vertices, where v0->v1->v2 is convex and v0->v2 is entirely
> INSIDE the polygon.  The naive algorithm is O(n^4), but with care you can
> reduce this to O(n^2) - this is an exercise in Joe O?Rourke?s book
> _Computational Geometry in C_
> 
> I always advise people to implement b) first - and then (after putting it
> into production) investigate ?better? algorithms.  Don?t bother to push
> out a ?better? method until customers complain that b) is ?too slow?. 

That was the way I followed. I implemented a very simple version of the
ear-trimming method. It is very easy to express it in OpenSCAD language
(there is no complex data structure) and I am able to sophisticate it if its
lack of efficiency turns to be a concern. I don't expect it will deal with
more than one thousand points in the applications I have in mind.


Kenneth Sloan wrote
> For ?slightly non-planar? triangles (and, in general, for triangles
> in/near a plane other than the x-y plane, fit a plane to the vertices (I
> like eigenvectors for this task) and map all the vertices to that plane
> (there are various ways to do this).  Triangulate in that plane, and apply
> that triangulation to the original points.  Define ?slightly non-planar?
> to be any problem for which this works! 

I am working on this line now. For symmetrical 3X3 matrices, there is very
simple and efficient methods using eigenvectors.

Regarding Delaunay triangulation: very very narrow triangles may be a
concern as CGAL may reject them. So some care to find "fat" triangle may be
needed. The only concern I have in implementing triangulation edge flipping
is the required triangulation data structure. The triangulation I generate
with the ear-trimming method is a simple list of the three triangle
vertices. If I devise something more manageable for the edge flipping
procedure, I could get better polygon triangulations. 

For a while, I don't intend to consider polygons with holes.

Well before that I need to identify eventual auto-intersections. For now,
auto-intersection will crash my code. I need at least identify it and echo
an error message.




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16826.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Wed Mar 30 15:45:32 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 30 Mar 2016 12:45:32 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459304450276-16808.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
Message-ID: <1459367132624-16827.post@n5.nabble.com>

Parkinbot, thank you for your contribution to the thread.


Parkinbot wrote
> Personally I find it impossible to implement some complex algorithm with
> OpenSCAD first hand. ...

I understand your first point and agree that with the lack of debugging
tools in OpenSCAD it is hard to develop complex codes. However, I never
worked as a professional programmer and my debugging skills are poor in any
language. Besides, OpenSCAD is my first language based on the principles of
functional programming. So, to learn this style of programming I challenged
myself to code directly in OpenSCAD language. It is a hard track, I know.

The ideas you expressed for the triangulation of simple polygon are the core
of the ear-trimming methods, the exact kind of method I am working with. I
use recursion and an in_triangle test. My method distinguish from your
proposal just that I do the test after the recursion where I am looking for
a new ear (three points in sequence forming a triangle contained in the
polygon). A well known theorem assures that any simple polygon has at least
two ears. So, you are right, if any ear is found, the polygon is not simple.




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16827.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Wed Mar 30 16:02:50 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 30 Mar 2016 13:02:50 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
Message-ID: <1459368170352-16828.post@n5.nabble.com>

cacb wrote
> On 2016-03-30 00:33, Ronaldo wrote:
>> In 3D space, there is no well defined
>> orientation for circulating a polygon. In a planar polygon in 3D, the 
>> normal
>> to the polygon plane may be used to induce an orientation to the vertex
>> circulation. If the polygon normal is well chosen, it induces the 
>> correct
>> CCW orientation. If the orientation is not CCW, it is sufficient to 
>> invert
>> the normal. A simple check of the orientation correctness is a first 
>> issue.
> 
> This appears like circular logic, unless you have an explicitly stated 
> normal independent of the boundary vertices. Usually, the normal is 
> derived from the boundary vertices. If you have only a general, flat 
> (possibly concave) polygon in 3d space, you can compute its normal with 
> two possible outomes, but you cannot know what is "correct" unless you 
> have something else to compare with.
> 
>> Almost planar polygonals pose more issues since no normal really 
>> exists.
> 
> Actually, there are several normals since the face is curved. In 
> principle, one could compute some add them vectorially to arrive at some 
> average.

Let me clarify what I said. Whether or not the polygon vertices are in a
plane, we may project them in a appropriate plane chosen by fitting
techniques, for instance. We may use a plane normal to define a 2D
coordinate system in the fitting plane. With this 2D coordinate system the
sequence of polygon vertices may or may not be the CCW orientation the
triangulation methods require. If we take the symmetrical of the normal, the
induced orientation of the vertices will be reversed. So, a correct choice
of the normal orientation is fundamental. It is easier to invert the normal
than invert the sequence.






--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16828.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Wed Mar 30 16:28:51 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Wed, 30 Mar 2016 13:28:51 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459351750416-16821.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459345946919-16817.post@n5.nabble.com>
	<1459351750416-16821.post@n5.nabble.com>
Message-ID: <1459369731079-16829.post@n5.nabble.com>

You don't have to import each instance of the block as they are all equal.

module block() { import("block.stl"); }

// use how may instance you of the block()



--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16829.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From tylermeroth at gmail.com  Wed Mar 30 16:52:03 2016
From: tylermeroth at gmail.com (BadCaseOfHerpes)
Date: Wed, 30 Mar 2016 13:52:03 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459369731079-16829.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459345946919-16817.post@n5.nabble.com>
	<1459351750416-16821.post@n5.nabble.com>
	<1459369731079-16829.post@n5.nabble.com>
Message-ID: <1459371123541-16830.post@n5.nabble.com>

Well they are not all equal I have 16 variations of the block i use to make
it appear random, but I will do as an earlier poster said and make it
without importing the stls, shouldnt be hard.



--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16830.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From danghel37 at yahoo.co.uk  Wed Mar 30 17:10:59 2016
From: danghel37 at yahoo.co.uk (unimog)
Date: Wed, 30 Mar 2016 14:10:59 -0700 (MST)
Subject: [OpenSCAD] Windows 10 and OpenGL issue
In-Reply-To: <1439940356967-13547.post@n5.nabble.com>
References: <1439940356967-13547.post@n5.nabble.com>
Message-ID: <1459372259780-16831.post@n5.nabble.com>

I have the same problem. How you resolve it? What kind of driver I need?
Thank you,



--
View this message in context: http://forum.openscad.org/Windows-10-and-OpenGL-issue-tp13547p16831.html
Sent from the OpenSCAD mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160330/c4ce9587/attachment.html>

From rudolf at parkinbot.com  Wed Mar 30 18:16:44 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 30 Mar 2016 15:16:44 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459367132624-16827.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
Message-ID: <1459376204643-16832.post@n5.nabble.com>

you are right. It is enough (and much easier) to cycle in search for an ear,
exclude the outer point of it from the sequence and recurse with the
shortend sequence until you are done. 




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16832.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From arnholm at arnholm.org  Wed Mar 30 18:46:02 2016
From: arnholm at arnholm.org (Carsten Arnholm)
Date: Thu, 31 Mar 2016 00:46:02 +0200
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459368170352-16828.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
Message-ID: <56FC572A.1010100@arnholm.org>

On 30. mars 2016 22:02, Ronaldo wrote:
> Let me clarify what I said. Whether or not the polygon vertices are in a
> plane, we may project them in a appropriate plane chosen by fitting
> techniques, for instance. We may use a plane normal to define a 2D
> coordinate system in the fitting plane.

Maybe I am not understanding you right, but then you have to choose one 
of 2 possible normals of that plane, same problem.

> With this 2D coordinate system the
> sequence of polygon vertices may or may not be the CCW orientation the
> triangulation methods require. If we take the symmetrical of the normal, the
> induced orientation of the vertices will be reversed. So, a correct choice
> of the normal orientation is fundamental. It is easier to invert the normal
> than invert the sequence.

At least in the case where the polygon is planar, you can always compute 
the correct normal (regarding CCW vs CW) *directly from the vertices*, 
without having to assume anything about the polygon except that the 
vertices are listed sequentially around the contour. The plane normal 
defines 3 of 4 coefficients in the plane equation, the 4th can be 
trivially computed using one vertex.

I don't know for sure, but I am guessing it would work for "reasonably 
planar" polygons as well.

Carsten Arnholm



From oz.at.michael at gmail.com  Wed Mar 30 19:36:06 2016
From: oz.at.michael at gmail.com (MichaelAtOz)
Date: Wed, 30 Mar 2016 16:36:06 -0700 (MST)
Subject: [OpenSCAD] Problem passing in strings to openscad from dos
	prompt
In-Reply-To: <1459347302077-16819.post@n5.nabble.com>
References: <1459288062400-16799.post@n5.nabble.com>
	<1459290891077-16804.post@n5.nabble.com>
	<1459347302077-16819.post@n5.nabble.com>
Message-ID: <1459380966106-16834.post@n5.nabble.com>

mmaggio wrote
> any chance you could elaborate a bit about why the backslashes before the
> quotes?

The backslash is an  escape character
<https://en.wikipedia.org/wiki/Escape_character>   within a double quoted
string, so /" means treat the following character as a character rather than
as a string delimiter. If you actually wanted a backslash in a quoted string
would would need "a single backslash is //". It can also be used for other
special characters.

This area can get quite complicated, see  here
<http://stackoverflow.com/questions/562038/escaping-double-quotes-in-batch-script>  
for lots of info.

I did lots of testing with OpenSCAD command line, and found this solution to
be best.




-----
Admin - PM me if you need anything, or if I've done something stupid...

Unless specifically shown otherwise above, my contribution is in the Public Domain; to the extent possible under law, I have waived all copyright and related or neighbouring rights to this work. Obviously inclusion of works of previous authors is not included in the above.

The TPP is no simple ?trade agreement.?   Fight it! http://www.ourfairdeal.org/   time is running out!
--
View this message in context: http://forum.openscad.org/Problem-passing-in-strings-to-openscad-from-dos-prompt-tp16799p16834.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From tylermeroth at gmail.com  Wed Mar 30 20:23:17 2016
From: tylermeroth at gmail.com (BadCaseOfHerpes)
Date: Wed, 30 Mar 2016 17:23:17 -0700 (MST)
Subject: [OpenSCAD] Current Top Level Object Is Empty
In-Reply-To: <1459371123541-16830.post@n5.nabble.com>
References: <1459307613951-16809.post@n5.nabble.com>
	<1459345946919-16817.post@n5.nabble.com>
	<1459351750416-16821.post@n5.nabble.com>
	<1459369731079-16829.post@n5.nabble.com>
	<1459371123541-16830.post@n5.nabble.com>
Message-ID: <1459383797243-16835.post@n5.nabble.com>

Confirmed that having goo many stl files was my issue, thanks guys for the
help! If anyone wants I'll post the code for the wall when finished.



--
View this message in context: http://forum.openscad.org/Current-Top-Level-Object-Is-Empty-tp16809p16835.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Wed Mar 30 20:51:42 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Wed, 30 Mar 2016 17:51:42 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459359105797-16825.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
	<1459214600222-16785.post@n5.nabble.com>
	<1459259381922-16793.post@n5.nabble.com>
	<1459297290586-16805.post@n5.nabble.com>
	<1459359105797-16825.post@n5.nabble.com>
Message-ID: <1459385502079-16836.post@n5.nabble.com>

ok understood.I am developing CAD application using C++ and Qt,OpenGL.How can
I use OpenSCAD futures in my project?

Regards




--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16836.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Wed Mar 30 21:31:36 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Wed, 30 Mar 2016 18:31:36 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459376204643-16832.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
Message-ID: <1459387896644-16837.post@n5.nabble.com>

this works, just the polygon generator does not always produce a non
selfintersecting polygon.


> N = 20;
> p = randpolyg(N); // too easy to be not perfect
> q = triag(p); 
> 
> for (i=[0:len(q)]) color([i,i,i]/N) polygon(q[i]); 
> 
> translate([0, 0,-1]) polygon(p); 
> 
> // generate a randomized polygon
> function randpolyg(N=10) = [for (i=[0:360/N:359.9])
>    let (rnd = rands(3,10,2)) [rnd[0]*sin(i), rnd[1]*cos(i)]]; 
> 
> function triag(S) = 
>   len(S) == 3 ? 
>     [S]: is_valid(S)? 
>            concat([[S[0], S[1], S[2]]],triag(exclude_ear(S))): 
>            triag(cycle(S));
>       
> function exclude_ear(S) = [for(i=[0:len(S)-1]) if (i!=1) S[i]]; 
>   
> function cycle(S) = let (n = len(S))  [for (i=[0:n-1]) S[(i+1)%n]];
>   
> function is_valid(S) = // false, if not ear or any other point of S inside
> ear
>    is_left(S[0], S[1], S[2])? // ear?
>       let (res = [for(i=[3:len(S)-1]) // test all other points
>       if(is_left(S[0], S[1], S[i]) && 
>          is_left(S[1], S[2], S[i]) && 
>          is_left(S[2], S[0], S[i])) 1])
>       res==[]:false; 
> 
> function is_left(a, b, c) = // true if c is left of a--->b
>     (b[0] - a[0])*(c[1] - a[1]) - (b[1] - a[1])*(c[0] - a[0]) < 0;





--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16837.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nageswararao.dasari at outlook.com  Wed Mar 30 21:48:31 2016
From: nageswararao.dasari at outlook.com (Nageswara rao)
Date: Wed, 30 Mar 2016 18:48:31 -0700 (MST)
Subject: [OpenSCAD] How to write a texture to a face(Solid ) in a
	geometric model
In-Reply-To: <1459359105797-16825.post@n5.nabble.com>
References: <1458886676252-16718.post@n5.nabble.com>
	<1459014497788-16734.post@n5.nabble.com>
	<1459057099123-16744.post@n5.nabble.com>
	<1459166106987-16758.post@n5.nabble.com>
	<1459210288006-16779.post@n5.nabble.com>
	<1459214600222-16785.post@n5.nabble.com>
	<1459259381922-16793.post@n5.nabble.com>
	<1459297290586-16805.post@n5.nabble.com>
	<1459359105797-16825.post@n5.nabble.com>
Message-ID: <1459388911725-16838.post@n5.nabble.com>

Hi Please find the attache screenshot.I have to wrap letter T on 3D model.
<http://forum.openscad.org/file/n16838/t.png> 



--
View this message in context: http://forum.openscad.org/How-to-write-a-texture-to-a-face-Solid-in-a-geometric-model-tp16718p16838.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Wed Mar 30 22:17:38 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Wed, 30 Mar 2016 19:17:38 -0700 (MST)
Subject: [OpenSCAD] Problem with module name
Message-ID: <1459390658390-16839.post@n5.nabble.com>

Hello

I discovered after some hours breaking my head that "Camera()" is not
possible to be used as a module name. I new that "camera" is part of the
lexical  of command line OpenSCAD. However if I call my module CAMERA() it
works well although it not performs as I wanted to. But that's another
story.
Is this a known issue? 

jpmendes




--
View this message in context: http://forum.openscad.org/Problem-with-module-name-tp16839.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Wed Mar 30 22:46:46 2016
From: doug at moens.org (doug moen)
Date: Wed, 30 Mar 2016 22:46:46 -0400
Subject: [OpenSCAD] Problem with module name
In-Reply-To: <1459390658390-16839.post@n5.nabble.com>
References: <1459390658390-16839.post@n5.nabble.com>
Message-ID: <CAGV6i+POVcOSmTJoqrMqPyow7vreraZEfA=5gNY72HDUWy=Wzw@mail.gmail.com>

The following code works for me:

module Camera() cube(10);

Camera();

On 30 March 2016 at 22:17, jpmendes <jpmendes54 at gmail.com> wrote:

> Hello
>
> I discovered after some hours breaking my head that "Camera()" is not
> possible to be used as a module name. I new that "camera" is part of the
> lexical  of command line OpenSCAD. However if I call my module CAMERA() it
> works well although it not performs as I wanted to. But that's another
> story.
> Is this a known issue?
>
> jpmendes
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Problem-with-module-name-tp16839.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160330/713cb85b/attachment.html>

From ignacio.partarrieu at postgrad.manchester.ac.uk  Thu Mar 31 05:53:22 2016
From: ignacio.partarrieu at postgrad.manchester.ac.uk (Ignacio Partarrieu)
Date: Thu, 31 Mar 2016 09:53:22 +0000
Subject: [OpenSCAD] Simple Render Consuming Large Amounts of Memory
Message-ID: <VI1PR0101MB1679CD717A88C38645663E0699990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>

Hi,


I'm using OpenSCAD to render a simple formation, but it is currently taking up an inordinate amount of time and memory to do it. This is the first time I've encountered such a problem, even though I've rendered far more complex shapes in the past.


Here is the code in question:


r=4;
res=100;
for (i=[-1:2:1]){
    for (j=[-1:2:1]){
        for (k=[-1:2:1]){
            translate([r*i,r*j,r*k]){
                sphere(r, $fn=res);
            }
       }
    }
}

OpenSCAD has no problem creating a preview for this however. Thinking this might be caused by infinitesimal overlap of the spheres I tried both changing the distance to (i=[-1:2.1:1.1]) and the union(){...} command to no avail. Rendering a single sphere is almost instant with these parameters. Is there a reason why it is suddenly stalling?


Thanks for your help.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/1c1b328c/attachment.html>

From rudolf at parkinbot.com  Thu Mar 31 06:35:02 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 03:35:02 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459387896644-16837.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
Message-ID: <1459420502052-16842.post@n5.nabble.com>

Well, for polyhedron calculation (e.g. for a sweep) one might be more
interested in the indices. Usually it is difficult to keep track of them
within a recursion. An easy solution is to pack the index as extra dimension
with a point: 


> q1 = triag_I(p); 
> function triag_I(S) = triag_(arm(S)); 
> function arm(S) = [for (i=[0:len(S)-1]) concat(S[i],[i])];
> function triag_(S) = len(S) == 3 ? [I(S)]: 
>   is_valid(S)? concat([I(S)],triag_(exclude_ear(S))): triag_(cycle(S));
> function I(S) = [S[0][2], S[1][2], S[2][2]];





--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16842.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Thu Mar 31 07:04:11 2016
From: mschafer at wireframe.biz (Neon22)
Date: Thu, 31 Mar 2016 04:04:11 -0700 (MST)
Subject: [OpenSCAD] Splines for drawing fan blades?
In-Reply-To: <1459346829597-16818.post@n5.nabble.com>
References: <1459214461905-16784.post@n5.nabble.com>
	<1459317520982-16812.post@n5.nabble.com>
	<1459346829597-16818.post@n5.nabble.com>
Message-ID: <1459422251053-16843.post@n5.nabble.com>

@parkinbot its a very nice layout you have.
Its the sort of thing that would be good to see slightly simplified and
formalised for OpenSCAD2 maybe.

The idea of defining a structure containing shapes and transforms is useful.
Also the trick in splines of splining across however many items you put in
the array is very clever.

So if you want a three point spline or 100 points - its the same function
applied the same way.


I like your http://www.thingiverse.com/thing:1016047 but I'd humbly suggest:

- some explanation of Repeller vs Propeller. One is not quite the inverse of
the other (still need to negate twist etc. so perhaps explain what it is
reversing. Maybe its just CCW vs CW.
(https://en.wikipedia.org/wiki/Repeller suggests this is unusual usage of
the term)

- I would not have used the same name with just a change of case for two
modules - even though one only calls the other. I'd humbly suggest using a
different name. Like in your other airfoil code you used airfoil_data() and
airfoil().
Maybe Propeller is the internal module and Prop_CW and Prop_CCW are the
upper level modules ??

- Only users of your shortcuts will relise the D() examples are differencing
the propeller from a Ring and that this code is to round the propeller tips.
Its obvious once you know, but on initial examination its not clear. Nice
trick BTW.



--
View this message in context: http://forum.openscad.org/Splines-for-drawing-fan-blades-tp16784p16843.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Thu Mar 31 07:11:15 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 04:11:15 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <56FC572A.1010100@arnholm.org>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
	<56FC572A.1010100@arnholm.org>
Message-ID: <1459422675891-16844.post@n5.nabble.com>

I see your point. So what you with a almost planar 2D polygon P living
anywhere in 3D is: 

1. choose any three non-colinear points of P and construct a plane E
2. find a map T() that maps the base vectors of E to the base {x, y}
3. calculate P'=T(P) and drop the z-dimension (projection)
4. cycle around P' and count for each triple of consequent points whether
the third point is left with respect to the first two. If this count is
lower than len(P)/2 use the orientation CW otherwise CCW. 




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16844.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Thu Mar 31 07:33:37 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 31 Mar 2016 12:33:37 +0100
Subject: [OpenSCAD] Simple Render Consuming Large Amounts of Memory
In-Reply-To: <VI1PR0101MB1679CD717A88C38645663E0699990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>
References: <VI1PR0101MB1679CD717A88C38645663E0699990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>
Message-ID: <CAEEmnrOKD+RyVRadK5YSVm3FUCxnii8Hhc78Smq9_t818gd9AA@mail.gmail.com>

The result of union touching spheres is non manifold so I changed it to
sphere(r - 0.1, $fn=res);

The number of vertices in a sphere goes up as the square of $fn and CGAL is
very slow for high vertex counts, even when it has nothing to do as with
non overlapping objects. It takes 219 seconds for res=100 on my machine but
only 12 for res = 30.

On 31 March 2016 at 10:53, Ignacio Partarrieu <
ignacio.partarrieu at postgrad.manchester.ac.uk> wrote:

> Hi,
>
>
> I'm using OpenSCAD to render a simple formation, but it is currently
> taking up an inordinate amount of time and memory to do it. This is the
> first time I've encountered such a problem, even though I've rendered far
> more complex shapes in the past.
>
>
> Here is the code in question:
>
>
> r=4;
> res=100;
> for (i=[-1:2:1]){
>     for (j=[-1:2:1]){
>         for (k=[-1:2:1]){
>             translate([r*i,r*j,r*k]){
>                 sphere(r, $fn=res);
>             }
>        }
>     }
> }
>
> OpenSCAD has no problem creating a preview for this however. Thinking this
> might be caused by infinitesimal overlap of the spheres I tried both
> changing the distance to (i=[-1:2.1:1.1]) and the union(){...} command to
> no avail. Rendering a single sphere is almost instant with these
> parameters. Is there a reason why it is suddenly stalling?
>
>
> Thanks for your help.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/40e9a4a4/attachment.html>

From arnholm at arnholm.org  Thu Mar 31 07:55:20 2016
From: arnholm at arnholm.org (arnholm at arnholm.org)
Date: Thu, 31 Mar 2016 13:55:20 +0200
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459422675891-16844.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com> <56FC572A.1010100@arnholm.org>
	<1459422675891-16844.post@n5.nabble.com>
Message-ID: <bc0a9fa7a5d0c36ce27040629d15fb71@arnholm.org>

On 2016-03-31 13:11, Parkinbot wrote:
> I see your point. So what you with a almost planar 2D polygon P living
> anywhere in 3D is:
> 
> 1. choose any three non-colinear points of P and construct a plane E

This will not always work. It will give you a plane, but you don't know 
which of the 2 possible normals that plane will have, since you cannot 
assume the polygon is convex. Look up "Newell's method". It will give 
you the polygon normal corresponding to CCW directly for a planar 
polygon, including concave polygons. As mentioned, a slightly non-planar 
might work too, but I have not checked.

Carsten Arnholm


From ignacio.partarrieu at postgrad.manchester.ac.uk  Thu Mar 31 08:02:27 2016
From: ignacio.partarrieu at postgrad.manchester.ac.uk (Ignacio Partarrieu)
Date: Thu, 31 Mar 2016 12:02:27 +0000
Subject: [OpenSCAD] Simple Render Consuming Large Amounts of Memory
In-Reply-To: <CAEEmnrOKD+RyVRadK5YSVm3FUCxnii8Hhc78Smq9_t818gd9AA@mail.gmail.com>
References: <VI1PR0101MB1679CD717A88C38645663E0699990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>,
	<CAEEmnrOKD+RyVRadK5YSVm3FUCxnii8Hhc78Smq9_t818gd9AA@mail.gmail.com>
Message-ID: <VI1PR0101MB16798C5A3DF1C318EB44550399990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>

Thanks for your rapid reply.


Alright, so it's mainly to do with number of vertices then. How is this impacted by the number of objects though? One sphere at res=100 renders almost instantly. Why would 8 take so much longer?

Furthermore, would OpenSCAD be able to render just one sphere and then just copy that render to different positions to speed things up? Or is that computationally impossible?



________________________________
From: Discuss <discuss-bounces at lists.openscad.org> on behalf of nop head <nop.head at gmail.com>
Sent: 31 March 2016 12:33
To: OpenSCAD general discussion
Subject: Re: [OpenSCAD] Simple Render Consuming Large Amounts of Memory

The result of union touching spheres is non manifold so I changed it to sphere(r - 0.1, $fn=res);

The number of vertices in a sphere goes up as the square of $fn and CGAL is very slow for high vertex counts, even when it has nothing to do as with non overlapping objects. It takes 219 seconds for res=100 on my machine but only 12 for res = 30.

On 31 March 2016 at 10:53, Ignacio Partarrieu <ignacio.partarrieu at postgrad.manchester.ac.uk<mailto:ignacio.partarrieu at postgrad.manchester.ac.uk>> wrote:

Hi,


I'm using OpenSCAD to render a simple formation, but it is currently taking up an inordinate amount of time and memory to do it. This is the first time I've encountered such a problem, even though I've rendered far more complex shapes in the past.


Here is the code in question:


r=4;
res=100;
for (i=[-1:2:1]){
    for (j=[-1:2:1]){
        for (k=[-1:2:1]){
            translate([r*i,r*j,r*k]){
                sphere(r, $fn=res);
            }
       }
    }
}

OpenSCAD has no problem creating a preview for this however. Thinking this might be caused by infinitesimal overlap of the spheres I tried both changing the distance to (i=[-1:2.1:1.1]) and the union(){...} command to no avail. Rendering a single sphere is almost instant with these parameters. Is there a reason why it is suddenly stalling?


Thanks for your help.

_______________________________________________
OpenSCAD mailing list
Discuss at lists.openscad.org<mailto:Discuss at lists.openscad.org>
http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/aeb29eaf/attachment.html>

From nop.head at gmail.com  Thu Mar 31 08:12:10 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 31 Mar 2016 13:12:10 +0100
Subject: [OpenSCAD] Simple Render Consuming Large Amounts of Memory
In-Reply-To: <VI1PR0101MB16798C5A3DF1C318EB44550399990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>
References: <VI1PR0101MB1679CD717A88C38645663E0699990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>
	<CAEEmnrOKD+RyVRadK5YSVm3FUCxnii8Hhc78Smq9_t818gd9AA@mail.gmail.com>
	<VI1PR0101MB16798C5A3DF1C318EB44550399990@VI1PR0101MB1679.eurprd01.prod.exchangelabs.com>
Message-ID: <CAEEmnrNkdkC0HYjQ_=9guHJ9B3LpA2n=FBZ-JouXtdQTG3dsKQ@mail.gmail.com>

With one sphere CGAL is not involved as there is no union. When there is
more than one CGAL is used to union them. To make it faster OpenScad could
detect objects that don't overlap and bypass CGAL as it is trivial to union
non-overlapping objects.

On 31 March 2016 at 13:02, Ignacio Partarrieu <
ignacio.partarrieu at postgrad.manchester.ac.uk> wrote:

> Thanks for your rapid reply.
>
>
> Alright, so it's mainly to do with number of vertices then. How is this
> impacted by the number of objects though? One sphere at res=100 renders
> almost instantly. Why would 8 take so much longer?
>
> Furthermore, would OpenSCAD be able to render just one sphere and then
> just copy that render to different positions to speed things up? Or is that
> computationally impossible?
>
>
>
>
> ------------------------------
> *From:* Discuss <discuss-bounces at lists.openscad.org> on behalf of nop
> head <nop.head at gmail.com>
> *Sent:* 31 March 2016 12:33
> *To:* OpenSCAD general discussion
> *Subject:* Re: [OpenSCAD] Simple Render Consuming Large Amounts of Memory
>
> The result of union touching spheres is non manifold so I changed it to
> sphere(r - 0.1, $fn=res);
>
> The number of vertices in a sphere goes up as the square of $fn and CGAL
> is very slow for high vertex counts, even when it has nothing to do as with
> non overlapping objects. It takes 219 seconds for res=100 on my machine but
> only 12 for res = 30.
>
> On 31 March 2016 at 10:53, Ignacio Partarrieu <
> ignacio.partarrieu at postgrad.manchester.ac.uk> wrote:
>
>> Hi,
>>
>>
>> I'm using OpenSCAD to render a simple formation, but it is currently
>> taking up an inordinate amount of time and memory to do it. This is the
>> first time I've encountered such a problem, even though I've rendered far
>> more complex shapes in the past.
>>
>>
>> Here is the code in question:
>>
>>
>> r=4;
>> res=100;
>> for (i=[-1:2:1]){
>>     for (j=[-1:2:1]){
>>         for (k=[-1:2:1]){
>>             translate([r*i,r*j,r*k]){
>>                 sphere(r, $fn=res);
>>             }
>>        }
>>     }
>> }
>>
>> OpenSCAD has no problem creating a preview for this however. Thinking
>> this might be caused by infinitesimal overlap of the spheres I tried both
>> changing the distance to (i=[-1:2.1:1.1]) and the union(){...} command
>> to no avail. Rendering a single sphere is almost instant with these
>> parameters. Is there a reason why it is suddenly stalling?
>>
>>
>> Thanks for your help.
>>
>> _______________________________________________
>> OpenSCAD mailing list
>> Discuss at lists.openscad.org
>> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>>
>>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/d563db9f/attachment.html>

From rudolf at parkinbot.com  Thu Mar 31 08:47:11 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 05:47:11 -0700 (MST)
Subject: [OpenSCAD] Splines for drawing fan blades?
In-Reply-To: <1459422251053-16843.post@n5.nabble.com>
References: <1459214461905-16784.post@n5.nabble.com>
	<1459317520982-16812.post@n5.nabble.com>
	<1459346829597-16818.post@n5.nabble.com>
	<1459422251053-16843.post@n5.nabble.com>
Message-ID: <1459428431966-16849.post@n5.nabble.com>

Neon22 wrote
> - some explanation of Repeller vs Propeller. One is not quite the inverse
> of the other (still need to negate twist etc. so perhaps explain what it
> is reversing. Maybe its just CCW vs CW.
> (https://en.wikipedia.org/wiki/Repeller suggests this is unusual usage of
> the term)

Good point. I followed your suggestion. Not everyone (writing a wiki entry)
had latin in school. Indeed one is the kinematic inversion of the other like
electrical generator vs. motor.


> - I would not have used the same name with just a change of case for two
> modules - even though one only calls the other. I'd humbly suggest using a
> different name. Like in your other airfoil code you used airfoil_data()
> and airfoil().
> Maybe Propeller is the internal module and Prop_CW and Prop_CCW are the
> upper level modules ??

Well, naming and programming styles are a big mess. That's why I hate to
read foreign code. For instance I don't like variable names like
thisIsTheHeightOfMyFirstShape=1. This makes code unreadable for me as the
structure disappears within line breaks and monster names. Thus I am using
short cuts and short names, but a lot of functions and modules with local
variables. When I share code, I usually spend some amount of time to comment
it, give examples for the API and even offer help() modules echoing the
prototypes and default values to the console, but I am not prepared to start
renaming or even refactor the code. Or writing tons of explanations why I
used which construction. If someone wants to reuse it, he will have to spend
time playing with it anyway ;-)  


> - Only users of your shortcuts will relise the D() examples are
> differencing the propeller from a Ring and that this code is to round the
> propeller tips. Its obvious once you know, but on initial examination its
> not clear. Nice trick BTW.

Not a trick, but bad programming. I should have used intersection() with a
cylinder (executes faster). I guess typing D(){Ri(r1, r2, h);... } was
faster ;-) 
In the mean time OpenSCAD also allows for a I() shortcut - which I haven't
implemented yet. This might change my programming a lot :-) 




--
View this message in context: http://forum.openscad.org/Splines-for-drawing-fan-blades-tp16784p16849.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Thu Mar 31 08:50:23 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 05:50:23 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <bc0a9fa7a5d0c36ce27040629d15fb71@arnholm.org>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
	<56FC572A.1010100@arnholm.org>
	<1459422675891-16844.post@n5.nabble.com>
	<bc0a9fa7a5d0c36ce27040629d15fb71@arnholm.org>
Message-ID: <1459428623340-16850.post@n5.nabble.com>

Your point is adressed in step 4 not in step 1.



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16850.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Thu Mar 31 10:16:06 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 31 Mar 2016 07:16:06 -0700 (MST)
Subject: [OpenSCAD] Problem with module name
In-Reply-To: <CAGV6i+POVcOSmTJoqrMqPyow7vreraZEfA=5gNY72HDUWy=Wzw@mail.gmail.com>
References: <1459390658390-16839.post@n5.nabble.com>
	<CAGV6i+POVcOSmTJoqrMqPyow7vreraZEfA=5gNY72HDUWy=Wzw@mail.gmail.com>
Message-ID: <1459433766951-16851.post@n5.nabble.com>

Problem solved. I forgot an empty module named Camera() inside of the script
and as the days passed and the code grew up my memory of it vanished. For
sure I will remember next time :-)
Thanks.

jpmendes



--
View this message in context: http://forum.openscad.org/Problem-with-module-name-tp16839p16851.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Thu Mar 31 13:25:42 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Thu, 31 Mar 2016 10:25:42 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459387896644-16837.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
Message-ID: <1459445142947-16852.post@n5.nabble.com>

Parkinbot wrote
> this works, just the polygon generator does not always produce a non
> selfintersecting polygon.

Surprisingly short solution, Parkinbot. However, in my tests, it does not
deal with more than a few dozen vertices. You recurring cycling is the
villain. And to avoid it you should consider that not only the first three
vertices in the sequence is a candidate to be an ear. The following code
changes yours addressing those issues. I provide also a detection of
non-simple polygons to avoid crashing. It is a lot slow yet, taking 16sec
for 200 vertices excluding the display.


> seed = floor(rands(0,10000,1)[0]);
> //seed = 4628;
> echo(seed);
> 
> N = 400;
> p = randpolyg(N); // too easy to be not perfect
> q = triag(p);
> if( len(q[len(q)-1]) > 3) echo("Non-simple polygon");
> 
> for (i=[0:len(q)]) color([i,i,i]/N) polygon(q[i]);
> 
> translate([0, 0,-1]) polygon(p);
> 
> // generate a randomized polygon
> function randpolyg(N=10) = let (rnd = rands(3,10,2*N,seed))
>         [for (i=[0:360/N:359.9])  [rnd[2*N*i/360]*sin(i),
> rnd[2*N*i/360+1]*cos(i)]];
> 
> function triag(S) = 
>   len(S) <= 3 ?
>     [S]: 
>     let( ear = valid_ears(S)[0], l = len(S) ) 
>     ear== undef? [] : // case S is a non-simple polygon
>     concat([[S[(ear+l-1)%l], S[ear], S[(ear+1)%l]]],
>            triag(exclude_vertex(ear,S), k) );
> 
> function exclude_vertex(k,S) = 
>     concat( k<=0?        []: [for(i=[0  :k-1])      S[i] ] ,
>             k>=len(S)-1? []: [for(i=[k+1:len(S)-1]) S[i] ] );
> 
> function valid_ears(S) = 
>     [ for( i=[0:len(S)-1]) if( is_valid(i,S) ) i ];
> 
> function is_valid(k,S) = // false, if not ear or any other point of S
> inside ear
>    let( l = len(S) )
>    is_left(S[(k+l-1)%l], S[k], S[(k+1)%l],0)? // is S[k] an ear?
>       let ( res = [ for(i=[0:l-1]) // test all other points
>                       if( (i!=k) && (i!=(k+l-1)%l) && (i!=(k+1)%l) &&
>                          is_left(S[(k+l-1)%l], S[k],         S[i],1) &&
>                          is_left(S[k],         S[(k+1)%l],   S[i],1) &&
>                          is_left(S[(k+1)%l],   S[(k+l-1)%l], S[i],1)) 1]
>           )
>       res==[]:
>       false;
> 
> function is_left(a, b, c, ind) = // true if c is left of a--->b
>    ind==0?
>     (b[0] - a[0])*(c[1] - a[1]) - (b[1] - a[1])*(c[0] - a[0]) < 0 :
>     (b[0] - a[0])*(c[1] - a[1]) - (b[1] - a[1])*(c[0] - a[0]) <= 0;





--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16852.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rudolf at parkinbot.com  Thu Mar 31 13:37:56 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 10:37:56 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459445142947-16852.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
	<1459445142947-16852.post@n5.nabble.com>
Message-ID: <1459445876965-16853.post@n5.nabble.com>

As I wrote: it is the random polygon generator that freaks out and delivers
malformed polygons, not the triangulation. 

As the code cycles around the part of the polygon not being triangulated
yet, it is indeed enough to just regard the first three points. 



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16853.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Thu Mar 31 13:38:17 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Thu, 31 Mar 2016 10:38:17 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459422675891-16844.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
	<56FC572A.1010100@arnholm.org>
	<1459422675891-16844.post@n5.nabble.com>
Message-ID: <1459445897058-16854.post@n5.nabble.com>

Parkinbot wrote
> I see your point. So what you do with an almost planar 2D polygon P living
> anywhere in 3D is: 
> 
> 1. choose any three non-colinear points of P and construct a plane E
> 2. find a map T() that maps the base vectors of E to the base {x, y}
> 3. calculate P'=T(P) and drop the z-dimension (projection)
> 4. cycle around P' and count for each triple of consequent points whether
> the third point is left with respect to the first two. If this count is
> lower than len(P)/2 use the orientation CW otherwise CCW.

I am trying another approach to step 4. Find the indices of the extreme
vertices of P': those with minimum x, minimum y, maximum x, maximum y, in
that order. If they are cycling ordered (that is they follows the order of
the CCW orientation) you got it. As an example, if the indices are [ 4, 0,
0, 3] it is CCW, if they are [3,0,0,4] it is CW.



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16854.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Thu Mar 31 14:03:28 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Thu, 31 Mar 2016 11:03:28 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459445897058-16854.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
	<56FC572A.1010100@arnholm.org>
	<1459422675891-16844.post@n5.nabble.com>
	<1459445897058-16854.post@n5.nabble.com>
Message-ID: <1459447408852-16855.post@n5.nabble.com>

Parkinbot wrote
> 1. choose any three non-colinear points of P and construct a plane E

I would rather prefer a plane fitting. Plane E is a good choice for that
three points but may be very bad for the remaining.




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16855.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From kennethrsloan at gmail.com  Thu Mar 31 14:09:24 2016
From: kennethrsloan at gmail.com (Kenneth Sloan)
Date: Thu, 31 Mar 2016 13:09:24 -0500
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459447408852-16855.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
	<56FC572A.1010100@arnholm.org>
	<1459422675891-16844.post@n5.nabble.com>
	<1459445897058-16854.post@n5.nabble.com>
	<1459447408852-16855.post@n5.nabble.com>
Message-ID: <F2D0F1DF-5D47-477A-B053-BC2FBAFB37CE@gmail.com>

I agree.  There are lots of ad hoc ways of almost solving this problem - eventually everyone figures out that you need to do a proper fit of a plane to all the points.  If you compute eigenvectors for the covariance matrix, you can even use the eigenvalues to determine whether or not the points lie ?almost? in a plane.  And then, you might as well use the eigenvector associated with the largest eigenvalue as your x-axis.

--
Kenneth Sloan
KennethRSloan at gmail.com
Vision is the art of seeing what is invisible to others.




> On Mar 31, 2016, at 13:03 , Ronaldo <rcmpersiano at gmail.com> wrote:
> 
> Parkinbot wrote
>> 1. choose any three non-colinear points of P and construct a plane E
> 
> I would rather prefer a plane fitting. Plane E is a good choice for that
> three points but may be very bad for the remaining.
> 
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16855.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



From rcmpersiano at gmail.com  Thu Mar 31 14:16:16 2016
From: rcmpersiano at gmail.com (Ronaldo Persiano)
Date: Thu, 31 Mar 2016 15:16:16 -0300
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <F2D0F1DF-5D47-477A-B053-BC2FBAFB37CE@gmail.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<99a267e8cad467b8e43ae2f851ee9c9c@arnholm.org>
	<1459368170352-16828.post@n5.nabble.com>
	<56FC572A.1010100@arnholm.org>
	<1459422675891-16844.post@n5.nabble.com>
	<1459445897058-16854.post@n5.nabble.com>
	<1459447408852-16855.post@n5.nabble.com>
	<F2D0F1DF-5D47-477A-B053-BC2FBAFB37CE@gmail.com>
Message-ID: <CA+i9EaBNrrnS2McHEdfBNkq_CVOUO064ixGZZBeq9-=EBrEwPA@mail.gmail.com>

Shrewd!

2016-03-31 15:09 GMT-03:00 Kenneth Sloan <kennethrsloan at gmail.com>:

> I agree.  There are lots of ad hoc ways of almost solving this problem -
> eventually everyone figures out that you need to do a proper fit of a plane
> to all the points.  If you compute eigenvectors for the covariance matrix,
> you can even use the eigenvalues to determine whether or not the points lie
> ?almost? in a plane.  And then, you might as well use the eigenvector
> associated with the largest eigenvalue as your x-axis.
>
> --
> Kenneth Sloan
> KennethRSloan at gmail.com
> Vision is the art of seeing what is invisible to others.
>
>
>
>
> > On Mar 31, 2016, at 13:03 , Ronaldo <rcmpersiano at gmail.com> wrote:
> >
> > Parkinbot wrote
> >> 1. choose any three non-colinear points of P and construct a plane E
> >
> > I would rather prefer a plane fitting. Plane E is a good choice for that
> > three points but may be very bad for the remaining.
> >
> >
> >
> >
> > --
> > View this message in context:
> http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16855.html
> > Sent from the OpenSCAD mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > OpenSCAD mailing list
> > Discuss at lists.openscad.org
> > http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/61c8a9b1/attachment.html>

From jpmendes54 at gmail.com  Thu Mar 31 14:29:13 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 31 Mar 2016 11:29:13 -0700 (MST)
Subject: [OpenSCAD] Help on viewport animation
Message-ID: <1459448953341-16858.post@n5.nabble.com>

I need some help on viewport animation.

I'm currently making the animation of a CNC machine and all is going well
except concerning the viewport animation. Lets see...
At first I wrongly thought that I could pass parameters from modules to
$vpr, $vpt and $vpd using $globals. As this is impossible, I tried using
functions at top level to do the same.

for instance if I do:
$vpt=[100+300*MT(1),0,0];
$vpr=[0,0,200*MT(1)];
$vpd=1500;
where MT(i) function is the relative time within animation sequence "i" and
depends on $t, the viewport animates.

However if I do: 
 
  function Cam() = CS==1 ? [10,200,1, 20,20,1, 20,20,1, 20,92,2, 20,29,1,
20,92,2, 200,200,1] :
			CS==2 ? [10,200,1, 20,20,1, 20,20,1, 29,92,2, 29,29,1, 29,92,2,
200,200,1] : 0 ;
						 
Where CS is my current sequence and Cam() contains the parameters for the
viewport animation.	

And then if I do:	
  
  function VPX(CS)=Cam()[0]+S(CS,Cam()[1],Cam()[2],0); 
  function VPRZ(CS)=Cam()[15]+S(CS,Cam()[16],Cam()[17],0); 
  
 Where my function S(a,b,c,d), that is systematically used in my animation
without problems, also depends on $t.

And then do:

$vpt=[VPX(CS), 100, 100];
$vpr=[0,0,VPRZ(CS)];
$vpd=1500; 
  
echo("Camera: ", Cam()[0],Cam()[1], Cam()[2],VPX(CS), VPRZ(CS));
  
I see that VPX(CS) and VPRZ(CS) change with time as expected, but $vpt and
$vpr stay with the first calculated values until the end of the sequence. 

What am I doing wrong?

Thanks.

jpmendes



--
View this message in context: http://forum.openscad.org/Help-on-viewport-animation-tp16858.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From rcmpersiano at gmail.com  Thu Mar 31 14:34:39 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Thu, 31 Mar 2016 11:34:39 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459445876965-16853.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
	<1459445142947-16852.post@n5.nabble.com>
	<1459445876965-16853.post@n5.nabble.com>
Message-ID: <1459449279317-16859.post@n5.nabble.com>

Parkinbot wrote
> As I wrote: it is the random polygon generator that freaks out and
> delivers malformed polygons, not the triangulation. 
> 
> As the code cycles around the part of the polygon not being triangulated
> yet, it is indeed enough to just regard the first three points.

I agree. But my objection is exactly the cycling that increases the
inefficiency and, I suppose, quickly grows the recursion stack.



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16859.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From runsun at gmail.com  Thu Mar 31 14:43:04 2016
From: runsun at gmail.com (runsun)
Date: Thu, 31 Mar 2016 11:43:04 -0700 (MST)
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <1459448953341-16858.post@n5.nabble.com>
References: <1459448953341-16858.post@n5.nabble.com>
Message-ID: <1459449784950-16860.post@n5.nabble.com>

Don't know what's wrong, but if you can rotate the objects (instead of
changing viewport), this might be useful:

Animating gif with 3D rotation
<http://forum.openscad.org/Animating-gif-with-3D-rotation-td14011.html>  



-----

$  Runsun Pan, PhD $ libs: doctest , faces ( git ), offline doc ( git ), runscad.py( 1 , 2 , git ), synwrite( 1 , 2 );  $ tips: hash( 1 , 2 ), matrix( 1 , 2 ),sweep( 1 , 2 ), var( 1 , 2 ), lerp , animation ( gif , prodVid ), precision( 1 , 2 ), xl-control , type , rounded polygon , chfont 






--
View this message in context: http://forum.openscad.org/Help-on-viewport-animation-tp16858p16860.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Thu Mar 31 14:48:09 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 31 Mar 2016 19:48:09 +0100
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <1459448953341-16858.post@n5.nabble.com>
References: <1459448953341-16858.post@n5.nabble.com>
Message-ID: <CAEEmnrOd+3OCt_2PsskzMKe5UHWot0hdhN--vq9N8idp19ahMw@mail.gmail.com>

Should CS be a parameter of Cam() perhaps?

On 31 March 2016 at 19:29, jpmendes <jpmendes54 at gmail.com> wrote:

> I need some help on viewport animation.
>
> I'm currently making the animation of a CNC machine and all is going well
> except concerning the viewport animation. Lets see...
> At first I wrongly thought that I could pass parameters from modules to
> $vpr, $vpt and $vpd using $globals. As this is impossible, I tried using
> functions at top level to do the same.
>
> for instance if I do:
> $vpt=[100+300*MT(1),0,0];
> $vpr=[0,0,200*MT(1)];
> $vpd=1500;
> where MT(i) function is the relative time within animation sequence "i" and
> depends on $t, the viewport animates.
>
> However if I do:
>
>   function Cam() = CS==1 ? [10,200,1, 20,20,1, 20,20,1, 20,92,2, 20,29,1,
> 20,92,2, 200,200,1] :
>                         CS==2 ? [10,200,1, 20,20,1, 20,20,1, 29,92,2,
> 29,29,1, 29,92,2,
> 200,200,1] : 0 ;
>
> Where CS is my current sequence and Cam() contains the parameters for the
> viewport animation.
>
> And then if I do:
>
>   function VPX(CS)=Cam()[0]+S(CS,Cam()[1],Cam()[2],0);
>   function VPRZ(CS)=Cam()[15]+S(CS,Cam()[16],Cam()[17],0);
>
>  Where my function S(a,b,c,d), that is systematically used in my animation
> without problems, also depends on $t.
>
> And then do:
>
> $vpt=[VPX(CS), 100, 100];
> $vpr=[0,0,VPRZ(CS)];
> $vpd=1500;
>
> echo("Camera: ", Cam()[0],Cam()[1], Cam()[2],VPX(CS), VPRZ(CS));
>
> I see that VPX(CS) and VPRZ(CS) change with time as expected, but $vpt and
> $vpr stay with the first calculated values until the end of the sequence.
>
> What am I doing wrong?
>
> Thanks.
>
> jpmendes
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Help-on-viewport-animation-tp16858.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/24adf1b7/attachment.html>

From doug at moens.org  Thu Mar 31 14:52:58 2016
From: doug at moens.org (doug moen)
Date: Thu, 31 Mar 2016 14:52:58 -0400
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <1459448953341-16858.post@n5.nabble.com>
References: <1459448953341-16858.post@n5.nabble.com>
Message-ID: <CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>

check if you are assigning $vpt= more than once in your script. OpenSCAD
won't warn you about that, it will just ignore all but the last definition
of $vpt.

On 31 March 2016 at 14:29, jpmendes <jpmendes54 at gmail.com> wrote:

> I need some help on viewport animation.
>
> I'm currently making the animation of a CNC machine and all is going well
> except concerning the viewport animation. Lets see...
> At first I wrongly thought that I could pass parameters from modules to
> $vpr, $vpt and $vpd using $globals. As this is impossible, I tried using
> functions at top level to do the same.
>
> for instance if I do:
> $vpt=[100+300*MT(1),0,0];
> $vpr=[0,0,200*MT(1)];
> $vpd=1500;
> where MT(i) function is the relative time within animation sequence "i" and
> depends on $t, the viewport animates.
>
> However if I do:
>
>   function Cam() = CS==1 ? [10,200,1, 20,20,1, 20,20,1, 20,92,2, 20,29,1,
> 20,92,2, 200,200,1] :
>                         CS==2 ? [10,200,1, 20,20,1, 20,20,1, 29,92,2,
> 29,29,1, 29,92,2,
> 200,200,1] : 0 ;
>
> Where CS is my current sequence and Cam() contains the parameters for the
> viewport animation.
>
> And then if I do:
>
>   function VPX(CS)=Cam()[0]+S(CS,Cam()[1],Cam()[2],0);
>   function VPRZ(CS)=Cam()[15]+S(CS,Cam()[16],Cam()[17],0);
>
>  Where my function S(a,b,c,d), that is systematically used in my animation
> without problems, also depends on $t.
>
> And then do:
>
> $vpt=[VPX(CS), 100, 100];
> $vpr=[0,0,VPRZ(CS)];
> $vpd=1500;
>
> echo("Camera: ", Cam()[0],Cam()[1], Cam()[2],VPX(CS), VPRZ(CS));
>
> I see that VPX(CS) and VPRZ(CS) change with time as expected, but $vpt and
> $vpr stay with the first calculated values until the end of the sequence.
>
> What am I doing wrong?
>
> Thanks.
>
> jpmendes
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Help-on-viewport-animation-tp16858.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/b1ea8bbf/attachment.html>

From rudolf at parkinbot.com  Thu Mar 31 15:48:06 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 12:48:06 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459449279317-16859.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
	<1459445142947-16852.post@n5.nabble.com>
	<1459445876965-16853.post@n5.nabble.com>
	<1459449279317-16859.post@n5.nabble.com>
Message-ID: <1459453686023-16863.post@n5.nabble.com>

Meanwhile I've tested a polygon with 900 points and it took 10s. So, we are
talking about efficiency now. 
Letting OpenSCADs poor data manipulation ability and unnessecary copies when
cycling aside, it is the algorithm that takes O(n?) steps, because the ear
cut method relies on testing all the rest of the points in the polygon with
each new candidate. 

You can cut that down by implementing the second simple scheme Kenneth
mentioned, because recursively cutting a polygon into two, reduces the
complexity by splitting the set of points to be tested by a division factor
and not only by 1. The method is similar to Quicksort. 

You start to split with a guess: 
1. put floor(n/2) points into a first set, and the rest into a second set.
(Alternatively a random split can be used)
2. test if all points (except the first one) in the first set are left with
respect to the vector that connects the first points of the sets. 
3. if the test is true, recurse both sets separately until done. If not,
cycle your split (or do alternatively another random guess) and continue
with 2. 

There are other schemes mentioned in
https://en.wikipedia.org/wiki/Polygon_triangulation#Ear_clipping_method
which are even faster, but wasn't it you who wanted an implementation with a
small footage? 

- Rudolf - 




--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16863.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From kennethrsloan at gmail.com  Thu Mar 31 16:01:57 2016
From: kennethrsloan at gmail.com (Kenneth Sloan)
Date: Thu, 31 Mar 2016 15:01:57 -0500
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459453686023-16863.post@n5.nabble.com>
References: <1459116148575-16755.post@n5.nabble.com>
	<1459167776839-16759.post@n5.nabble.com>
	<1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
	<1459445142947-16852.post@n5.nabble.com>
	<1459445876965-16853.post@n5.nabble.com>
	<1459449279317-16859.post@n5.nabble.com>
	<1459453686023-16863.post@n5.nabble.com>
Message-ID: <3DD3E413-9968-4392-B234-BA7B15DEBBDE@gmail.com>

I suspect your algorithm may be O(n^4) and not O(n^2).  Testing should resolve this.

Getting it to O(n^3) is easy; getting to O(n^2) is a bit harder.

As long as you are doing recursion, instead of iteration, stepping up to the general subdivision by a chord is probably worthwhile.  If you do that, try to bias the selection of the chord to divide the polygon into two more-or-less equal pieces.
--
Kenneth Sloan
KennethRSloan at gmail.com
Vision is the art of seeing what is invisible to others.




> On Mar 31, 2016, at 14:48 , Parkinbot <rudolf at parkinbot.com> wrote:
> 
> Meanwhile I've tested a polygon with 900 points and it took 10s. So, we are
> talking about efficiency now. 
> Letting OpenSCADs poor data manipulation ability and unnessecary copies when
> cycling aside, it is the algorithm that takes O(n?) steps, because the ear
> cut method relies on testing all the rest of the points in the polygon with
> each new candidate. 
> 
> You can cut that down by implementing the second simple scheme Kenneth
> mentioned, because recursively cutting a polygon into two, reduces the
> complexity by splitting the set of points to be tested by a division factor
> and not only by 1. The method is similar to Quicksort. 
> 
> You start to split with a guess: 
> 1. put floor(n/2) points into a first set, and the rest into a second set.
> (Alternatively a random split can be used)
> 2. test if all points (except the first one) in the first set are left with
> respect to the vector that connects the first points of the sets. 
> 3. if the test is true, recurse both sets separately until done. If not,
> cycle your split (or do alternatively another random guess) and continue
> with 2. 
> 
> There are other schemes mentioned in
> https://en.wikipedia.org/wiki/Polygon_triangulation#Ear_clipping_method
> which are even faster, but wasn't it you who wanted an implementation with a
> small footage? 
> 
> - Rudolf - 
> 
> 
> 
> 
> --
> View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16863.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
> 
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org



From rudolf at parkinbot.com  Thu Mar 31 16:40:08 2016
From: rudolf at parkinbot.com (Parkinbot)
Date: Thu, 31 Mar 2016 13:40:08 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <3DD3E413-9968-4392-B234-BA7B15DEBBDE@gmail.com>
References: <1459290781849-16803.post@n5.nabble.com>
	<1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
	<1459445142947-16852.post@n5.nabble.com>
	<1459445876965-16853.post@n5.nabble.com>
	<1459449279317-16859.post@n5.nabble.com>
	<1459453686023-16863.post@n5.nabble.com>
	<3DD3E413-9968-4392-B234-BA7B15DEBBDE@gmail.com>
Message-ID: <1459456808622-16865.post@n5.nabble.com>

Kenneth Sloan wrote
> I suspect your algorithm may be O(n^4) and not O(n^2).  Testing should
> resolve this.

You are right, it might be even worse ;-). But OpenSCAD is not well enough
equipped for implementing iterative solutions. You have random read access
to vector elements, but a random write forces you to do a full copy of the
whole structure. You can't break a for loop, have no while loop, can't even
sum up anything within a for loop - the only way: do it recusively. The full
curse of functional programming :-) 

I might give it a try for the second approach tomorrow, but I wouldn't spend
any minute to tweek an algorithm written in OpenSCAD for speed. 

- Rudolf - 



--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16865.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Thu Mar 31 16:58:03 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 31 Mar 2016 13:58:03 -0700 (MST)
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
References: <1459448953341-16858.post@n5.nabble.com>
	<CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
Message-ID: <1459457883265-16866.post@n5.nabble.com>

@ Doug
Nope, there is only one place where $vp's are referenced.

@ nopehead
I tried Cam(CS) without success.

Thanks anyway

BTW this is a test sample of the two first sequences without the CNC, just
to speed up things. Although there are some adjustments to be done, that's
the idea.

anima_tst.mp4 <http://forum.openscad.org/file/n16866/anima_tst.mp4>  

Another problem I'm facing is: for this simple animation, generating the
png's directly by checking "Dump Pictures"  my file rate generation is about
1 second per picture. However if I use a script for generating the images
with about 4x the standard resolution, it takes about a minute per picture.
That means more than 2 days for my estimated 7500 steps animation.
Considering the inclusion of all the components in the animation maybe a
week will not be enough. The CNC is belt driven and I have to calculate the
belt deformation for each step, and it takes about 20 secs in my machine. 




--
View this message in context: http://forum.openscad.org/Help-on-viewport-animation-tp16858p16866.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From mschafer at wireframe.biz  Thu Mar 31 17:15:06 2016
From: mschafer at wireframe.biz (Neon22)
Date: Thu, 31 Mar 2016 14:15:06 -0700 (MST)
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <1459457883265-16866.post@n5.nabble.com>
References: <1459448953341-16858.post@n5.nabble.com>
	<CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
	<1459457883265-16866.post@n5.nabble.com>
Message-ID: <1459458906473-16867.post@n5.nabble.com>

@jpmendes I'm happy to help out with rendering a sequence.
I have 16 cores, possibly more than one instance can be rendered at the same
time ?
Assuming you hve a time constraint....



--
View this message in context: http://forum.openscad.org/Help-on-viewport-animation-tp16858p16867.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Thu Mar 31 17:30:00 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 31 Mar 2016 22:30:00 +0100
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <1459457883265-16866.post@n5.nabble.com>
References: <1459448953341-16858.post@n5.nabble.com>
	<CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
	<1459457883265-16866.post@n5.nabble.com>
Message-ID: <CAEEmnrMMqx=g_9Yrok9zZH5knMF5nVde36XRsA4OiGVFKCLgMw@mail.gmail.com>

I don't know what your S() function is but this dummy seems to produce
camera movement and the $vp variables do change.

sphere(10);

function Cam() =
 CS==1 ? [10,200,1, 20,20,1, 20,20,1, 20,92,2, 20,29,1, 20,92,2, 200,200,1]
:
 CS==2 ? [10,200,1, 20,20,1, 20,20,1, 29,92,2, 29,29,1, 29,92,2, 200,200,1]
: 0 ;

function VPX(CS)=Cam()[0]+S(CS,Cam()[1],Cam()[2],0);
function VPRZ(CS)=Cam()[15]+S(CS,Cam()[16],Cam()[17],0);
function S(a,b,c,d) = a + b + c + d + 10 * $t;

CS = 2;

$vpt=[VPX(CS), 100, 100];
$vpr=[0,0,VPRZ(CS)];
$vpd=1500;

echo("Camera: ", Cam()[0],Cam()[1], Cam()[2],VPX(CS), VPRZ(CS));
echo($vpt, $vpr, $vpd);



On 31 March 2016 at 21:58, jpmendes <jpmendes54 at gmail.com> wrote:

> @ Doug
> Nope, there is only one place where $vp's are referenced.
>
> @ nopehead
> I tried Cam(CS) without success.
>
> Thanks anyway
>
> BTW this is a test sample of the two first sequences without the CNC, just
> to speed up things. Although there are some adjustments to be done, that's
> the idea.
>
> anima_tst.mp4 <http://forum.openscad.org/file/n16866/anima_tst.mp4>
>
> Another problem I'm facing is: for this simple animation, generating the
> png's directly by checking "Dump Pictures"  my file rate generation is
> about
> 1 second per picture. However if I use a script for generating the images
> with about 4x the standard resolution, it takes about a minute per picture.
> That means more than 2 days for my estimated 7500 steps animation.
> Considering the inclusion of all the components in the animation maybe a
> week will not be enough. The CNC is belt driven and I have to calculate the
> belt deformation for each step, and it takes about 20 secs in my machine.
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Help-on-viewport-animation-tp16858p16866.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/484b934c/attachment.html>

From rcmpersiano at gmail.com  Thu Mar 31 17:44:45 2016
From: rcmpersiano at gmail.com (Ronaldo)
Date: Thu, 31 Mar 2016 14:44:45 -0700 (MST)
Subject: [OpenSCAD] Simple polygon triangulation
In-Reply-To: <1459456808622-16865.post@n5.nabble.com>
References: <1459304450276-16808.post@n5.nabble.com>
	<1459367132624-16827.post@n5.nabble.com>
	<1459376204643-16832.post@n5.nabble.com>
	<1459387896644-16837.post@n5.nabble.com>
	<1459445142947-16852.post@n5.nabble.com>
	<1459445876965-16853.post@n5.nabble.com>
	<1459449279317-16859.post@n5.nabble.com>
	<1459453686023-16863.post@n5.nabble.com>
	<3DD3E413-9968-4392-B234-BA7B15DEBBDE@gmail.com>
	<1459456808622-16865.post@n5.nabble.com>
Message-ID: <1459460685106-16869.post@n5.nabble.com>

I am not expert on this but I estimated that the method we are discussing is
O(n^3). The valid_ears() search is O(n^2), due to two nested for loops. The
recursive triangulation has depth n and call valid_ears() once for each
found triangle. I wouldn't blame OpenSCAD language for the low efficiency;
an implementation of *this algorithm* in C will be faster but it will have
the same asymptotic complexity.

I have tested it with polygons up to 1600 vertices ( a 313 sec run without
display) and it behaved as O(n^2) which is poor for so small cases. The test
polygon I have used has only four ears even in the intermediate steps which
seems to be the worst case for it. This is the starting CCW polygon:


> N = 1600;
> M = 5;
> function test_polygon(N,M,c,r,a) = 
>   concat(
>           [ for(i=[ a:-2*a/N:-a]) [ c - 1.5*r*cos(i), r*sin(i) ] ],
>           [ for(i=[ -a: 2*a/M: a]) [ -c + 1.5*r*cos(i), r*sin(i) ] ] );
>  p = test_polygon(N,M, 30, 15, 60); 





--
View this message in context: http://forum.openscad.org/Simple-polygon-triangulation-tp16755p16869.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From jpmendes54 at gmail.com  Thu Mar 31 18:08:33 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 31 Mar 2016 15:08:33 -0700 (MST)
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <CAEEmnrMMqx=g_9Yrok9zZH5knMF5nVde36XRsA4OiGVFKCLgMw@mail.gmail.com>
References: <1459448953341-16858.post@n5.nabble.com>
	<CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
	<1459457883265-16866.post@n5.nabble.com>
	<CAEEmnrMMqx=g_9Yrok9zZH5knMF5nVde36XRsA4OiGVFKCLgMw@mail.gmail.com>
Message-ID: <1459462113942-16870.post@n5.nabble.com>

@neon22
Thanks, I may consider the offer for the final render. Maybe I can use my
son's 6 core pc if he takes some days off, summer is comming ... :-).  For
now I have my 11 year old, 2 cores Athlon 4200 only.

@nopehead

My S function is a bit straight forward. I intend to perfect it later. Now
what I'm trying to do is  a simple animator that I can use whenever I need. 

// S -Relative speed within the sequence time with movement inversion point
(perliminary).
// d - distance, s - relative speed, InvT - inversion point between 1 and 0.
function S(i,d,s,InvT) = (InvT==undef)? (d*pow(MT(i),s)):
                       (MT(i)-InvT<0)? (d*pow(-MT(i)+InvT,s)):
                       (d*pow(MT(i)-InvT,s));

// MT - relative time within the sequence time slot (1 --> 0)
function MT(i) = (T(i)-$t>=0)? (TTime/SeqTPlan[i-1])*(T(i)-$t): 0;

As you can see S() depends on $t through MT(i) 







--
View this message in context: http://forum.openscad.org/Help-on-viewport-animation-tp16858p16870.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From nop.head at gmail.com  Thu Mar 31 18:23:58 2016
From: nop.head at gmail.com (nop head)
Date: Thu, 31 Mar 2016 23:23:58 +0100
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <1459462113942-16870.post@n5.nabble.com>
References: <1459448953341-16858.post@n5.nabble.com>
	<CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
	<1459457883265-16866.post@n5.nabble.com>
	<CAEEmnrMMqx=g_9Yrok9zZH5knMF5nVde36XRsA4OiGVFKCLgMw@mail.gmail.com>
	<1459462113942-16870.post@n5.nabble.com>
Message-ID: <CAEEmnrNTCFy5MqMuhqWwsEJfvJkrJvKYrnB5DaK=819YUxMvGg@mail.gmail.com>

This moves:

sphere(10);

function Cam() =
 CS==1 ? [10,200,1, 20,20,1, 20,20,1, 20,92,2, 20,29,1, 20,92,2, 200,200,1]
:
 CS==2 ? [10,200,1, 20,20,1, 20,20,1, 29,92,2, 29,29,1, 29,92,2, 200,200,1]
: 0 ;

function VPX(CS)=Cam()[0]+S(CS,Cam()[1],Cam()[2],0);
function VPRZ(CS)=Cam()[15]+S(CS,Cam()[16],Cam()[17],0);
function S(a,b,c,d) = a + b + c + d + 10 * $t;
// d - distance, s - relative speed, InvT - inversion point between 1 and 0.
function S(i,d,s,InvT) = (InvT==undef)? (d*pow(MT(i),s)):
                       (MT(i)-InvT<0)? (d*pow(-MT(i)+InvT,s)):
                       (d*pow(MT(i)-InvT,s));

// MT - relative time within the sequence time slot (1 --> 0)
function MT(i) = $t;

CS = 2;

$vpt=[VPX(CS), 100, 100];
$vpr=[0,0,VPRZ(CS)];
$vpd=1500;

echo("Camera: ", Cam()[0],Cam()[1], Cam()[2],VPX(CS), VPRZ(CS));
echo($vpt, $vpr, $vpd);

So I suspect your MT() function has a bug.


On 31 March 2016 at 23:08, jpmendes <jpmendes54 at gmail.com> wrote:

> @neon22
> Thanks, I may consider the offer for the final render. Maybe I can use my
> son's 6 core pc if he takes some days off, summer is comming ... :-).  For
> now I have my 11 year old, 2 cores Athlon 4200 only.
>
> @nopehead
>
> My S function is a bit straight forward. I intend to perfect it later. Now
> what I'm trying to do is  a simple animator that I can use whenever I need.
>
> // S -Relative speed within the sequence time with movement inversion point
> (perliminary).
> // d - distance, s - relative speed, InvT - inversion point between 1 and
> 0.
> function S(i,d,s,InvT) = (InvT==undef)? (d*pow(MT(i),s)):
>                        (MT(i)-InvT<0)? (d*pow(-MT(i)+InvT,s)):
>                        (d*pow(MT(i)-InvT,s));
>
> // MT - relative time within the sequence time slot (1 --> 0)
> function MT(i) = (T(i)-$t>=0)? (TTime/SeqTPlan[i-1])*(T(i)-$t): 0;
>
> As you can see S() depends on $t through MT(i)
>
>
>
>
>
>
>
> --
> View this message in context:
> http://forum.openscad.org/Help-on-viewport-animation-tp16858p16870.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/a4372486/attachment.html>

From jpmendes54 at gmail.com  Thu Mar 31 19:16:38 2016
From: jpmendes54 at gmail.com (jpmendes)
Date: Thu, 31 Mar 2016 16:16:38 -0700 (MST)
Subject: [OpenSCAD] Help on viewport animation
In-Reply-To: <CAEEmnrNTCFy5MqMuhqWwsEJfvJkrJvKYrnB5DaK=819YUxMvGg@mail.gmail.com>
References: <1459448953341-16858.post@n5.nabble.com>
	<CAGV6i+OP787WFn4C=FB-xPpnQFrQ0h1BemzvYbBCZjYbLDROpg@mail.gmail.com>
	<1459457883265-16866.post@n5.nabble.com>
	<CAEEmnrMMqx=g_9Yrok9zZH5knMF5nVde36XRsA4OiGVFKCLgMw@mail.gmail.com>
	<1459462113942-16870.post@n5.nabble.com>
	<CAEEmnrNTCFy5MqMuhqWwsEJfvJkrJvKYrnB5DaK=819YUxMvGg@mail.gmail.com>
Message-ID: <1459466198157-16872.post@n5.nabble.com>


Yes you are right MT() has a bug. Problem solved. But I cheated a bit.
My real MT(i) was:

function MT(i) = ($ST>1||$ST<0)? 0 : ($tst==0)? NT(i) : ($ST==undef)? 1 :
$ST;

and NT(i) is the MT(i) function I posted before.

function NT(i) = (T(i)-$t>=0)? (TTime/SeqTPlan[i-1])*(T(i)-$t): 0;

Since my variable $tst is set to 0,  I replaced directly NT(i)  with MT(i)
for posting simplification.
My MT(i) was a debugging help to test animation sequences without the
animation mode checked.
The problem is that I forgot that $ST is undef when I am not in test mode
and probably the evaluation of the expression is in such a way that $ST is
evaluated before $tst, and as a result MT(i) is always 1.
The reason for the globals was that I was hopping to pass values from
modules to the top level but that's not possible.

Thanks a lot for the help.
jpmendes 



--
View this message in context: http://forum.openscad.org/Help-on-viewport-animation-tp16858p16872.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From openscad at wimtenbrink.nl  Thu Mar 31 19:47:19 2016
From: openscad at wimtenbrink.nl (Wim ten Brink)
Date: Thu, 31 Mar 2016 16:47:19 -0700 (MST)
Subject: [OpenSCAD] Newbie with rotation problem
Message-ID: <1459468039500-16873.post@n5.nabble.com>

All I want to do is have a cube with all corners intersecting the axis, thus,
it needs to be rotated. Rotating it 45 degrees like this should work, I
thought: rotate([45, 45, 45]) cube(20, center=true);
But it doesn't! I don't know why but the corners of the cube are not located
on any of the axis. Seems so simple to me, yet I can't understand why it's
not working...

So, question! How do I rotate a cube so all corners will be at one of the
three axis?

With kind regards,
Wim,
W.A. ten Brink.



-----
With kind regards,
Wim,
W.A. ten Brink
--
View this message in context: http://forum.openscad.org/Newbie-with-rotation-problem-tp16873.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From doug at moens.org  Thu Mar 31 20:13:05 2016
From: doug at moens.org (doug moen)
Date: Thu, 31 Mar 2016 20:13:05 -0400
Subject: [OpenSCAD] Newbie with rotation problem
In-Reply-To: <1459468039500-16873.post@n5.nabble.com>
References: <1459468039500-16873.post@n5.nabble.com>
Message-ID: <CAGV6i+PDy2LQyzywQQopVMwmXQU9iR+Q_aD4S3U4nu-D60TsAQ@mail.gmail.com>

I don't think it is geometrically possible for a cube to do this. A cube
has 12 vertexes, and you want 8 of those vertexes to be aligned with the
axes. It's not possible without warping the cube into an irregular
hexahedron. You can do this with an octahedron, which has 8 vertexes.

On 31 March 2016 at 19:47, Wim ten Brink <openscad at wimtenbrink.nl> wrote:

> All I want to do is have a cube with all corners intersecting the axis,
> thus,
> it needs to be rotated. Rotating it 45 degrees like this should work, I
> thought: rotate([45, 45, 45]) cube(20, center=true);
> But it doesn't! I don't know why but the corners of the cube are not
> located
> on any of the axis. Seems so simple to me, yet I can't understand why it's
> not working...
>
> So, question! How do I rotate a cube so all corners will be at one of the
> three axis?
>
> With kind regards,
> Wim,
> W.A. ten Brink.
>
>
>
> -----
> With kind regards,
> Wim,
> W.A. ten Brink
> --
> View this message in context:
> http://forum.openscad.org/Newbie-with-rotation-problem-tp16873.html
> Sent from the OpenSCAD mailing list archive at Nabble.com.
>
> _______________________________________________
> OpenSCAD mailing list
> Discuss at lists.openscad.org
> http://lists.openscad.org/mailman/listinfo/discuss_lists.openscad.org
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.openscad.org/pipermail/discuss_lists.openscad.org/attachments/20160331/7248d501/attachment.html>

From fred_dot_u at yahoo.com  Thu Mar 31 20:24:28 2016
From: fred_dot_u at yahoo.com (fred_dot_u)
Date: Thu, 31 Mar 2016 17:24:28 -0700 (MST)
Subject: [OpenSCAD] Newbie with rotation problem
In-Reply-To: <CAGV6i+PDy2LQyzywQQopVMwmXQU9iR+Q_aD4S3U4nu-D60TsAQ@mail.gmail.com>
References: <1459468039500-16873.post@n5.nabble.com>
	<CAGV6i+PDy2LQyzywQQopVMwmXQU9iR+Q_aD4S3U4nu-D60TsAQ@mail.gmail.com>
Message-ID: <1459470268623-16875.post@n5.nabble.com>

I'm not sure where the 12 vertices comes from, as I count eight, four for the
top face and four for the bottom face, which are common to the sides, of
course.

For the original post, though, I don't believe what you seek is possible.
Consider that if you slice a cube across any plane that meets your
requirements, you do not get a square. I took four points that would
represent two of the axes, but they are not co-planar, so you can't make
them fit on those axes.

A regular octohedron would fit, but would not be a cube, of course. It has
six vertices, to match the axis intersection points.

Wim ten Brink, am I missing something with the vertex counts? They don't
match yours but geometry is challenging me at the moment.



--
View this message in context: http://forum.openscad.org/Newbie-with-rotation-problem-tp16873p16875.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


From openscad at wimtenbrink.nl  Thu Mar 31 22:05:05 2016
From: openscad at wimtenbrink.nl (Wim ten Brink)
Date: Thu, 31 Mar 2016 19:05:05 -0700 (MST)
Subject: [OpenSCAD] Newbie with rotation problem
In-Reply-To: <1459468039500-16873.post@n5.nabble.com>
References: <1459468039500-16873.post@n5.nabble.com>
Message-ID: <1459476305077-16876.post@n5.nabble.com>

Okay, dumb question... There are three axis, thus making 6 points where the
cube can go through an axis. But the cube has 8 corners so it will never
touch the axis with all sides...
So, how to create a shape that does have all corners on an axis? Oh, well...
This is what I was actually looking for:


> hull(){
>   translate([10, 0, 0]) sphere(1);
>   translate([-10, 0, 0]) sphere(1);
>   translate([0, 10, 0]) sphere(1);
>   translate([0, -10, 0]) sphere(1);
>   translate([0, 0, 10]) sphere(1);
>   translate([0, 0, -10]) sphere(1);
> }

Problem solved.



-----
With kind regards,
Wim,
W.A. ten Brink
--
View this message in context: http://forum.openscad.org/Newbie-with-rotation-problem-tp16873p16876.html
Sent from the OpenSCAD mailing list archive at Nabble.com.


